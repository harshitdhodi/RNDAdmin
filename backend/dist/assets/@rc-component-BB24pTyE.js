import{c as e}from"./classnames-C3ovBj6j.js";import{r as t}from"./react-BfBsRgn0.js";import{c as n,u as r,g as o,a as i,r as a,s as u,b as s,d as l,i as c,e as f,f as d,h as p,j as v,k as h,l as m,m as g,n as y}from"./rc-util-CQtTJgfq.js";import{h as b,i as w,a as x,_ as E,k as C,e as q,d as P,c as F,f as M,b as A,j as k,l as R,g as O}from"./@babel-BfC2A0EA.js";import{F as S}from"./@ant-design-DttPmOfw.js";import{r as j}from"./react-dom-DwrudmHt.js";import{R as D}from"./rc-resize-observer-DUJXZwxn.js";import{C as N}from"./rc-motion-Cs3GDHoo.js";var L,V=["b"],T=["v"],z=function(e){return Math.round(Number(e||0))},H=function(){b(t,S);var e=w(t);function t(n){return x(this,t),e.call(this,function(e){if(e instanceof S)return e;if(e&&"object"===P(e)&&"h"in e&&"b"in e){var t=e,n=t.b,r=C(t,V);return q(q({},r),{},{v:n})}return"string"==typeof e&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e}(n))}return E(t,[{key:"toHsbString",value:function(){var e=this.toHsb(),t=z(100*e.s),n=z(100*e.b),r=z(e.h),o=e.a,i="hsb(".concat(r,", ").concat(t,"%, ").concat(n,"%)"),a="hsba(".concat(r,", ").concat(t,"%, ").concat(n,"%, ").concat(o.toFixed(0===o?0:2),")");return 1===o?i:a}},{key:"toHsb",value:function(){var e=this.toHsv(),t=e.v,n=C(e,T);return q(q({},n),{},{b:t,a:this.a})}}]),t}();(L="#1677ff")instanceof H||new H(L);var B=t.createContext(null),I=[];var W="rc-util-locker-".concat(Date.now()),Y=0;function X(e){var n=!!e,u=t.useState((function(){return Y+=1,"".concat(W,"_").concat(Y)})),s=F(u,1)[0];r((function(){if(n){var e=o(document.body).width,t=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;i("\nhtml body {\n  overflow-y: hidden;\n  ".concat(t?"width: calc(100% - ".concat(e,"px);"):"","\n}"),s)}else a(s);return function(){a(s)}}),[n,s])}var $=function(e){return!1!==e&&(n()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)},_=t.forwardRef((function(e,o){var i=e.open,a=e.autoLock,l=e.getContainer;e.debug;var c=e.autoDestroy,f=void 0===c||c,d=e.children,p=t.useState(i),v=F(p,2),h=v[0],m=v[1],g=h||i;t.useEffect((function(){(f||i)&&m(i)}),[i,f]);var y=t.useState((function(){return $(l)})),b=F(y,2),w=b[0],x=b[1];t.useEffect((function(){var e=$(l);x(null!=e?e:null)}));var E=function(e){var o=t.useState((function(){return n()?document.createElement("div"):null})),i=F(o,1)[0],a=t.useRef(!1),u=t.useContext(B),s=t.useState(I),l=F(s,2),c=l[0],f=l[1],d=u||(a.current?void 0:function(e){f((function(t){return[e].concat(M(t))}))});function p(){i.parentElement||document.body.appendChild(i),a.current=!0}function v(){var e;null===(e=i.parentElement)||void 0===e||e.removeChild(i),a.current=!1}return r((function(){return e?u?u(p):p():v(),v}),[e]),r((function(){c.length&&(c.forEach((function(e){return e()})),f(I))}),[c]),[i,d]}(g&&!w),C=F(E,2),q=C[0],P=C[1],A=null!=w?w:q;X(a&&i&&n()&&(A===q||A===document.body));var k=null;d&&u(d)&&o&&(k=d.ref);var R=s(k,o);if(!g||!n()||void 0===w)return null;var O=!1===A||!1,S=d;return o&&(S=t.cloneElement(d,{ref:R})),t.createElement(B.Provider,{value:P},O?S:j.createPortal(S,A))}));function J(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Z=J(),U=/%[sdj%]/g,G=function(){};function K(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function Q(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i=n.length;return"function"==typeof e?e.apply(null,n):"string"==typeof e?e.replace(U,(function(e){if("%%"===e)return"%";if(o>=i)return e;switch(e){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch(t){return"[Circular]"}break;default:return e}})):e}function ee(e,t){return null==e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e))}function te(e,t,n){var r=0,o=e.length;!function i(a){if(a&&a.length)n(a);else{var u=r;r+=1,u<o?t(e[u],i):n([])}}([])}var ne=function(e){b(n,e);var t=w(n);function n(e,r){var o;return x(this,n),o=t.call(this,"Async Validation Error"),A(k(o),"errors",void 0),A(k(o),"fields",void 0),o.errors=e,o.fields=r,o}return E(n)}(R(Error));function re(e,t,n,r,o){if(t.first){var i=new Promise((function(t,i){var a=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,M(e[n]||[]))})),t}(e);te(a,n,(function(e){return r(e),e.length?i(new ne(e,K(e))):t(o)}))}));return i.catch((function(e){return e})),i}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],u=Object.keys(e),s=u.length,l=0,c=[],f=new Promise((function(t,i){var f=function(e){if(c.push.apply(c,e),++l===s)return r(c),c.length?i(new ne(c,K(c))):t(o)};u.length||(r(c),t(o)),u.forEach((function(t){var r=e[t];-1!==a.indexOf(t)?te(r,n,f):function(e,t,n){var r=[],o=0,i=e.length;function a(e){r.push.apply(r,M(e||[])),++o===i&&n(r)}e.forEach((function(e){t(e,a)}))}(r,n,f)}))}));return f.catch((function(e){return e})),f}function oe(e,t){return function(n){var r,o;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(null==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(o=n)&&void 0!==o.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"==typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function ie(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===P(r)&&"object"===P(e[n])?e[n]=q(q({},e[n]),r):e[n]=r}return e}var ae,ue="enum",se=function(e,t,n,r,o,i){!e.required||n.hasOwnProperty(e.field)&&!ee(t,i||e.type)||r.push(Q(o.messages.required,e.fullField))};var le=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,ce=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,fe={integer:function(e){return fe.number(e)&&parseInt(e,10)===e},float:function(e){return fe.number(e)&&!fe.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"===P(e)&&!fe.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(le)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(function(){if(ae)return ae;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",o=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],i="(?:".concat(o.join("|"),")").concat("(?:%[0-9a-zA-Z]{1,})?"),a=new RegExp("(?:^".concat(n,"$)|(?:^").concat(i,"$)")),u=new RegExp("^".concat(n,"$")),s=new RegExp("^".concat(i,"$")),l=function(e){return e&&e.exact?a:new RegExp("(?:".concat(t(e)).concat(n).concat(t(e),")|(?:").concat(t(e)).concat(i).concat(t(e),")"),"g")};l.v4=function(e){return e&&e.exact?u:new RegExp("".concat(t(e)).concat(n).concat(t(e)),"g")},l.v6=function(e){return e&&e.exact?s:new RegExp("".concat(t(e)).concat(i).concat(t(e)),"g")};var c=l.v4().source,f=l.v6().source,d="(?:".concat("(?:(?:[a-z]+:)?//)","|www\\.)").concat("(?:\\S+(?::\\S*)?@)?","(?:localhost|").concat(c,"|").concat(f,"|").concat("(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)").concat("(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*").concat("(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",")").concat("(?::\\d{2,5})?").concat('(?:[/?#][^\\s"]*)?');return ae=new RegExp("(?:^".concat(d,"$)"),"i")}())},hex:function(e){return"string"==typeof e&&!!e.match(ce)}};const de={required:se,whitespace:function(e,t,n,r,o){(/^\s+$/.test(t)||""===t)&&r.push(Q(o.messages.whitespace,e.fullField))},type:function(e,t,n,r,o){if(e.required&&void 0===t)se(e,t,n,r,o);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?fe[i](t)||r.push(Q(o.messages.types[i],e.fullField,e.type)):i&&P(t)!==e.type&&r.push(Q(o.messages.types[i],e.fullField,e.type))}},range:function(e,t,n,r,o){var i="number"==typeof e.len,a="number"==typeof e.min,u="number"==typeof e.max,s=t,l=null,c="number"==typeof t,f="string"==typeof t,d=Array.isArray(t);if(c?l="number":f?l="string":d&&(l="array"),!l)return!1;d&&(s=t.length),f&&(s=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?s!==e.len&&r.push(Q(o.messages[l].len,e.fullField,e.len)):a&&!u&&s<e.min?r.push(Q(o.messages[l].min,e.fullField,e.min)):u&&!a&&s>e.max?r.push(Q(o.messages[l].max,e.fullField,e.max)):a&&u&&(s<e.min||s>e.max)&&r.push(Q(o.messages[l].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,o){e[ue]=Array.isArray(e[ue])?e[ue]:[],-1===e[ue].indexOf(t)&&r.push(Q(o.messages[ue],e.fullField,e[ue].join(", ")))},pattern:function(e,t,n,r,o){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(Q(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(Q(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}};var pe=function(e,t,n,r,o){var i=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ee(t,i)&&!e.required)return n();de.required(e,t,r,a,o,i),ee(t,i)||de.type(e,t,r,a,o)}n(a)};const ve={string:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ee(t,"string")&&!e.required)return n();de.required(e,t,r,i,o,"string"),ee(t,"string")||(de.type(e,t,r,i,o),de.range(e,t,r,i,o),de.pattern(e,t,r,i,o),!0===e.whitespace&&de.whitespace(e,t,r,i,o))}n(i)},method:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ee(t)&&!e.required)return n();de.required(e,t,r,i,o),void 0!==t&&de.type(e,t,r,i,o)}n(i)},number:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),ee(t)&&!e.required)return n();de.required(e,t,r,i,o),void 0!==t&&(de.type(e,t,r,i,o),de.range(e,t,r,i,o))}n(i)},boolean:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ee(t)&&!e.required)return n();de.required(e,t,r,i,o),void 0!==t&&de.type(e,t,r,i,o)}n(i)},regexp:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ee(t)&&!e.required)return n();de.required(e,t,r,i,o),ee(t)||de.type(e,t,r,i,o)}n(i)},integer:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ee(t)&&!e.required)return n();de.required(e,t,r,i,o),void 0!==t&&(de.type(e,t,r,i,o),de.range(e,t,r,i,o))}n(i)},float:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ee(t)&&!e.required)return n();de.required(e,t,r,i,o),void 0!==t&&(de.type(e,t,r,i,o),de.range(e,t,r,i,o))}n(i)},array:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();de.required(e,t,r,i,o,"array"),null!=t&&(de.type(e,t,r,i,o),de.range(e,t,r,i,o))}n(i)},object:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ee(t)&&!e.required)return n();de.required(e,t,r,i,o),void 0!==t&&de.type(e,t,r,i,o)}n(i)},enum:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ee(t)&&!e.required)return n();de.required(e,t,r,i,o),void 0!==t&&de.enum(e,t,r,i,o)}n(i)},pattern:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ee(t,"string")&&!e.required)return n();de.required(e,t,r,i,o),ee(t,"string")||de.pattern(e,t,r,i,o)}n(i)},date:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ee(t,"date")&&!e.required)return n();var a;if(de.required(e,t,r,i,o),!ee(t,"date"))a=t instanceof Date?t:new Date(t),de.type(e,a,r,i,o),a&&de.range(e,a.getTime(),r,i,o)}n(i)},url:pe,hex:pe,email:pe,required:function(e,t,n,r,o){var i=[],a=Array.isArray(t)?"array":P(t);de.required(e,t,r,i,o,a),n(i)},any:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ee(t)&&!e.required)return n();de.required(e,t,r,i,o)}n(i)}};var he=function(){function e(t){x(this,e),A(this,"rules",null),A(this,"_messages",Z),this.define(t)}return E(e,[{key:"define",value:function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==P(e)||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))}},{key:"messages",value:function(e){return e&&(this._messages=ie(J(),e)),this._messages}},{key:"validate",value:function(t){var n=this,r=t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if("function"==typeof o&&(i=o,o={}),!this.rules||0===Object.keys(this.rules).length)return i&&i(null,r),Promise.resolve(r);if(o.messages){var a=this.messages();a===Z&&(a=J()),ie(a,o.messages),o.messages=a}else o.messages=this.messages();var u={};(o.keys||Object.keys(this.rules)).forEach((function(e){var o=n.rules[e],i=r[e];o.forEach((function(o){var a=o;"function"==typeof a.transform&&(r===t&&(r=q({},r)),null!=(i=r[e]=a.transform(i))&&(a.type=a.type||(Array.isArray(i)?"array":P(i)))),(a="function"==typeof a?{validator:a}:q({},a)).validator=n.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=n.getType(a),u[e]=u[e]||[],u[e].push({rule:a,value:i,source:r,field:e}))}))}));var s={};return re(u,o,(function(t,n){var i,a=t.rule,u=!("object"!==a.type&&"array"!==a.type||"object"!==P(a.fields)&&"object"!==P(a.defaultField));function l(e,t){return q(q({},t),{},{fullField:"".concat(a.fullField,".").concat(e),fullFields:a.fullFields?[].concat(M(a.fullFields),[e]):[e]})}function c(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],c=Array.isArray(i)?i:[i];!o.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==a.message&&(c=[].concat(a.message));var f=c.map(oe(a,r));if(o.first&&f.length)return s[a.field]=1,n(f);if(u){if(a.required&&!t.value)return void 0!==a.message?f=[].concat(a.message).map(oe(a,r)):o.error&&(f=[o.error(a,Q(o.messages.required,a.field))]),n(f);var d={};a.defaultField&&Object.keys(t.value).map((function(e){d[e]=a.defaultField})),d=q(q({},d),t.rule.fields);var p={};Object.keys(d).forEach((function(e){var t=d[e],n=Array.isArray(t)?t:[t];p[e]=n.map(l.bind(null,e))}));var v=new e(p);v.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),v.validate(t.value,t.rule.options||o,(function(e){var t=[];f&&f.length&&t.push.apply(t,M(f)),e&&e.length&&t.push.apply(t,M(e)),n(t.length?t:null)}))}else n(f)}if(u=u&&(a.required||!a.required&&t.value),a.field=t.field,a.asyncValidator)i=a.asyncValidator(a,t.value,c,t.source,o);else if(a.validator){try{i=a.validator(a,t.value,c,t.source,o)}catch(p){var f,d;null===(f=(d=console).error)||void 0===f||f.call(d,p),o.suppressValidatorError||setTimeout((function(){throw p}),0),c(p.message)}!0===i?c():!1===i?c("function"==typeof a.message?a.message(a.fullField||a.field):a.message||"".concat(a.fullField||a.field," fails")):i instanceof Array?c(i):i instanceof Error&&c(i.message)}i&&i.then&&i.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){for(var t,n,o=[],a={},u=0;u<e.length;u++)t=e[u],n=void 0,Array.isArray(t)?o=(n=o).concat.apply(n,M(t)):o.push(t);o.length?(a=K(o),i(o,a)):i(null,r)}(e)}),r)}},{key:"getType",value:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!ve.hasOwnProperty(e.type))throw new Error(Q("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?ve.required:ve[this.getType(e)]||void 0}}]),e}();function me(e){var n=t.createContext(void 0);return{Context:n,Provider:function(e){var o=e.value,i=e.children,a=t.useRef(o);a.current=o;var u=t.useState((function(){return{getValue:function(){return a.current},listeners:new Set}})),s=F(u,1)[0];return r((function(){j.unstable_batchedUpdates((function(){s.listeners.forEach((function(e){e(o)}))}))}),[o]),t.createElement(n.Provider,{value:s},i)},defaultValue:e}}function ge(e,n){var o=l("function"==typeof n?n:function(e){if(void 0===n)return e;if(!Array.isArray(n))return e[n];var t={};return n.forEach((function(n){t[n]=e[n]})),t}),i=t.useContext(null==e?void 0:e.Context),a=i||{},u=a.listeners,s=a.getValue,f=t.useRef();f.current=o(i?s():null==e?void 0:e.defaultValue);var d=t.useState({}),p=F(d,2)[1];return r((function(){if(i)return u.add(e),function(){u.delete(e)};function e(e){var t=o(e);c(f.current,t,!0)||p({})}}),[i]),f.current}function ye(){var e=t.createContext(null);function n(){return t.useContext(e)}return{makeImmutable:function(r,o){var i=u(r),a=function(a,u){var s=i?{ref:u}:{},l=t.useRef(0),c=t.useRef(a);return null!==n()?t.createElement(r,O({},a,s)):(o&&!o(c.current,a)||(l.current+=1),c.current=a,t.createElement(e.Provider,{value:l.current},t.createElement(r,O({},a,s))))};return i?t.forwardRef(a):a},responseImmutable:function(e,r){var o=u(e),i=function(r,i){var a=o?{ref:i}:{};return n(),t.createElement(e,O({},r,a))};return o?t.memo(t.forwardRef(i),r):t.memo(i,r)},useImmutableMark:n}}function be(n){var r=n.prefixCls,o=n.align,i=n.arrow,a=n.arrowPos,u=i||{},s=u.className,l=u.content,c=a.x,f=void 0===c?0:c,d=a.y,p=void 0===d?0:d,v=t.useRef();if(!o||!o.points)return null;var h={position:"absolute"};if(!1!==o.autoArrow){var m=o.points[0],g=o.points[1],y=m[0],b=m[1],w=g[0],x=g[1];y!==w&&["t","b"].includes(y)?"t"===y?h.top=0:h.bottom=0:h.top=p,b!==x&&["l","r"].includes(b)?"l"===b?h.left=0:h.right=0:h.left=f}return t.createElement("div",{ref:v,className:e("".concat(r,"-arrow"),s),style:h},l)}function we(n){var r=n.prefixCls,o=n.open,i=n.zIndex,a=n.mask,u=n.motion;return a?t.createElement(N,O({},u,{motionAppear:!0,visible:o,removeOnLeave:!0}),(function(n){var o=n.className;return t.createElement("div",{style:{zIndex:i},className:e("".concat(r,"-mask"),o)})})):null}A(he,"register",(function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");ve[e]=t})),A(he,"warning",G),A(he,"messages",Z),A(he,"validators",ve);var xe=t.memo((function(e){return e.children}),(function(e,t){return t.cache})),Ee=t.forwardRef((function(n,o){var i=n.popup,a=n.className,u=n.prefixCls,s=n.style,l=n.target,c=n.onVisibleChanged,d=n.open,p=n.keepDom,v=n.fresh,h=n.onClick,m=n.mask,g=n.arrow,y=n.arrowPos,b=n.align,w=n.motion,x=n.maskMotion,E=n.forceRender,C=n.getPopupContainer,P=n.autoDestroy,M=n.portal,A=n.zIndex,k=n.onMouseEnter,R=n.onMouseLeave,S=n.onPointerEnter,j=n.onPointerDownCapture,L=n.ready,V=n.offsetX,T=n.offsetY,z=n.offsetR,H=n.offsetB,B=n.onAlign,I=n.onPrepare,W=n.stretch,Y=n.targetWidth,X=n.targetHeight,$="function"==typeof i?i():i,_=d||p,J=(null==C?void 0:C.length)>0,Z=t.useState(!C||!J),U=F(Z,2),G=U[0],K=U[1];if(r((function(){!G&&J&&l&&K(!0)}),[G,J,l]),!G)return null;var Q="auto",ee={left:"-1000vw",top:"-1000vh",right:Q,bottom:Q};if(L||!d){var te,ne=b.points,re=b.dynamicInset||(null===(te=b._experimental)||void 0===te?void 0:te.dynamicInset),oe=re&&"r"===ne[0][1],ie=re&&"b"===ne[0][0];oe?(ee.right=z,ee.left=Q):(ee.left=V,ee.right=Q),ie?(ee.bottom=H,ee.top=Q):(ee.top=T,ee.bottom=Q)}var ae={};return W&&(W.includes("height")&&X?ae.height=X:W.includes("minHeight")&&X&&(ae.minHeight=X),W.includes("width")&&Y?ae.width=Y:W.includes("minWidth")&&Y&&(ae.minWidth=Y)),d||(ae.pointerEvents="none"),t.createElement(M,{open:E||_,getContainer:C&&function(){return C(l)},autoDestroy:P},t.createElement(we,{prefixCls:u,open:d,zIndex:A,mask:m,motion:x}),t.createElement(D,{onResize:B,disabled:!d},(function(n){return t.createElement(N,O({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:E,leavedClassName:"".concat(u,"-hidden")},w,{onAppearPrepare:I,onEnterPrepare:I,visible:d,onVisibleChanged:function(e){var t;null==w||null===(t=w.onVisibleChanged)||void 0===t||t.call(w,e),c(e)}}),(function(r,i){var l=r.className,c=r.style,p=e(u,l,a);return t.createElement("div",{ref:f(n,o,i),className:p,style:q(q(q(q({"--arrow-x":"".concat(y.x||0,"px"),"--arrow-y":"".concat(y.y||0,"px")},ee),ae),c),{},{boxSizing:"border-box",zIndex:A},s),onMouseEnter:k,onMouseLeave:R,onPointerEnter:S,onClick:h,onPointerDownCapture:j},g&&t.createElement(be,{prefixCls:u,arrow:g,arrowPos:y,align:b}),t.createElement(xe,{cache:!d&&!v},$))}))})))})),Ce=t.forwardRef((function(e,n){var r=e.children,o=e.getTriggerDOMNode,i=u(r),a=t.useCallback((function(e){d(n,o?o(e):e)}),[o]),l=s(a,p(r));return i?t.cloneElement(r,{ref:l}):r})),qe=t.createContext(null);function Pe(e){return e?Array.isArray(e)?e:[e]:[]}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Me(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function Ae(e){return e.ownerDocument.defaultView}function ke(e){for(var t=[],n=null==e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var o=Ae(n).getComputedStyle(n);[o.overflowX,o.overflowY,o.overflow].some((function(e){return r.includes(e)}))&&t.push(n),n=n.parentElement}return t}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function Oe(e){return Re(parseFloat(e),0)}function Se(e,t){var n=q({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=Ae(e).getComputedStyle(e),r=t.overflow,o=t.overflowClipMargin,i=t.borderTopWidth,a=t.borderBottomWidth,u=t.borderLeftWidth,s=t.borderRightWidth,l=e.getBoundingClientRect(),c=e.offsetHeight,f=e.clientHeight,d=e.offsetWidth,p=e.clientWidth,v=Oe(i),h=Oe(a),m=Oe(u),g=Oe(s),y=Re(Math.round(l.width/d*1e3)/1e3),b=Re(Math.round(l.height/c*1e3)/1e3),w=(d-p-m-g)*y,x=(c-f-v-h)*b,E=v*b,C=h*b,q=m*y,P=g*y,F=0,M=0;if("clip"===r){var A=Oe(o);F=A*y,M=A*b}var k=l.x+q-F,R=l.y+E-M,O=k+l.width+2*F-q-P-w,S=R+l.height+2*M-E-C-x;n.left=Math.max(n.left,k),n.top=Math.max(n.top,R),n.right=Math.min(n.right,O),n.bottom=Math.min(n.bottom,S)}})),n}function je(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function De(e,t){var n=F(t||[],2),r=n[0],o=n[1];return[je(e.width,r),je(e.height,o)]}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function Le(e,t){var n,r=t[0],o=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===o?e.x:"r"===o?e.x+e.width:e.x+e.width/2,y:n}}function Ve(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,r){return r===t?n[e]||"c":e})).join("")}var Te=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const ze=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;return t.forwardRef((function(o,i){var a=o.prefixCls,u=void 0===a?"rc-trigger-popup":a,s=o.children,c=o.action,f=void 0===c?"hover":c,d=o.showAction,p=o.hideAction,b=o.popupVisible,w=o.defaultPopupVisible,x=o.onPopupVisibleChange,E=o.afterPopupVisibleChange,P=o.mouseEnterDelay,A=o.mouseLeaveDelay,k=void 0===A?.1:A,R=o.focusDelay,O=o.blurDelay,S=o.mask,j=o.maskClosable,N=void 0===j||j,L=o.getPopupContainer,V=o.forceRender,T=o.autoDestroy,z=o.destroyPopupOnHide,H=o.popup,B=o.popupClassName,I=o.popupStyle,W=o.popupPlacement,Y=o.builtinPlacements,X=void 0===Y?{}:Y,$=o.popupAlign,_=o.zIndex,J=o.stretch,Z=o.getPopupClassNameFromAlign,U=o.fresh,G=o.alignPoint,K=o.onPopupClick,Q=o.onPopupAlign,ee=o.arrow,te=o.popupMotion,ne=o.maskMotion,re=o.popupTransitionName,oe=o.popupAnimation,ie=o.maskTransitionName,ae=o.maskAnimation,ue=o.className,se=o.getTriggerDOMNode,le=C(o,Te),ce=T||z||!1,fe=t.useState(!1),de=F(fe,2),pe=de[0],ve=de[1];r((function(){ve(g())}),[]);var he=t.useRef({}),me=t.useContext(qe),ge=t.useMemo((function(){return{registerSubPopup:function(e,t){he.current[e]=t,null==me||me.registerSubPopup(e,t)}}}),[me]),ye=y(),be=t.useState(null),we=F(be,2),xe=we[0],Oe=we[1],je=t.useRef(null),ze=l((function(e){je.current=e,v(e)&&xe!==e&&Oe(e),null==me||me.registerSubPopup(ye,e)})),He=t.useState(null),Be=F(He,2),Ie=Be[0],We=Be[1],Ye=t.useRef(null),Xe=l((function(e){v(e)&&Ie!==e&&(We(e),Ye.current=e)})),$e=t.Children.only(s),_e=(null==$e?void 0:$e.props)||{},Je={},Ze=l((function(e){var t,n,r=Ie;return(null==r?void 0:r.contains(e))||(null===(t=m(r))||void 0===t?void 0:t.host)===e||e===r||(null==xe?void 0:xe.contains(e))||(null===(n=m(xe))||void 0===n?void 0:n.host)===e||e===xe||Object.values(he.current).some((function(t){return(null==t?void 0:t.contains(e))||e===t}))})),Ue=Me(u,te,oe,re),Ge=Me(u,ne,ae,ie),Ke=t.useState(w||!1),Qe=F(Ke,2),et=Qe[0],tt=Qe[1],nt=null!=b?b:et,rt=l((function(e){void 0===b&&tt(e)}));r((function(){tt(b||!1)}),[b]);var ot=t.useRef(nt);ot.current=nt;var it=t.useRef([]);it.current=[];var at=l((function(e){var t;rt(e),(null!==(t=it.current[it.current.length-1])&&void 0!==t?t:nt)!==e&&(it.current.push(e),null==x||x(e))})),ut=t.useRef(),st=function(){clearTimeout(ut.current)},lt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;st(),0===t?at(e):ut.current=setTimeout((function(){at(e)}),1e3*t)};t.useEffect((function(){return st}),[]);var ct=t.useState(!1),ft=F(ct,2),dt=ft[0],pt=ft[1];r((function(e){e&&!nt||pt(!0)}),[nt]);var vt=t.useState(null),ht=F(vt,2),mt=ht[0],gt=ht[1],yt=t.useState(null),bt=F(yt,2),wt=bt[0],xt=bt[1],Et=function(e){xt([e.clientX,e.clientY])},Ct=function(e,n,o,i,a,u,s){var c=t.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[i]||{}}),f=F(c,2),d=f[0],p=f[1],m=t.useRef(0),g=t.useMemo((function(){return n?ke(n):[]}),[n]),y=t.useRef({});e||(y.current={});var b=l((function(){if(n&&o&&e){let e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:te,r=N.x+e,o=N.y+t,i=r+Y,a=o+W,u=Math.max(r,n.left),s=Math.max(o,n.top),l=Math.min(i,n.right),c=Math.min(a,n.bottom);return Math.max(0,(l-u)*(c-s))},Pt=function(){me=N.y+Oe,ge=me+W,ye=N.x+ke,be=ye+Y};var t,r,l,c,f,d=n,m=d.ownerDocument,b=Ae(d).getComputedStyle(d),w=b.width,x=b.height,E=b.position,C=d.style.left,P=d.style.top,M=d.style.right,A=d.style.bottom,k=d.style.overflow,R=q(q({},a[i]),u),O=m.createElement("div");if(null===(t=d.parentElement)||void 0===t||t.appendChild(O),O.style.left="".concat(d.offsetLeft,"px"),O.style.top="".concat(d.offsetTop,"px"),O.style.position=E,O.style.height="".concat(d.offsetHeight,"px"),O.style.width="".concat(d.offsetWidth,"px"),d.style.left="0",d.style.top="0",d.style.right="auto",d.style.bottom="auto",d.style.overflow="hidden",Array.isArray(o))f={x:o[0],y:o[1],width:0,height:0};else{var S,j,D=o.getBoundingClientRect();D.x=null!==(S=D.x)&&void 0!==S?S:D.left,D.y=null!==(j=D.y)&&void 0!==j?j:D.top,f={x:D.x,y:D.y,width:D.width,height:D.height}}var N=d.getBoundingClientRect();N.x=null!==(r=N.x)&&void 0!==r?r:N.left,N.y=null!==(l=N.y)&&void 0!==l?l:N.top;var L=m.documentElement,V=L.clientWidth,T=L.clientHeight,z=L.scrollWidth,H=L.scrollHeight,B=L.scrollTop,I=L.scrollLeft,W=N.height,Y=N.width,X=f.height,$=f.width,_={left:0,top:0,right:V,bottom:T},J={left:-I,top:-B,right:z-I,bottom:H-B},Z=R.htmlRegion,U="visible",G="visibleFirst";"scroll"!==Z&&Z!==G&&(Z=U);var K=Z===G,Q=Se(J,g),ee=Se(_,g),te=Z===U?ee:Q,ne=K?ee:te;d.style.left="auto",d.style.top="auto",d.style.right="0",d.style.bottom="0";var re=d.getBoundingClientRect();d.style.left=C,d.style.top=P,d.style.right=M,d.style.bottom=A,d.style.overflow=k,null===(c=d.parentElement)||void 0===c||c.removeChild(O);var oe=Re(Math.round(Y/parseFloat(w)*1e3)/1e3),ie=Re(Math.round(W/parseFloat(x)*1e3)/1e3);if(0===oe||0===ie||v(o)&&!h(o))return;var ae=R.offset,ue=R.targetOffset,se=De(N,ae),le=F(se,2),ce=le[0],fe=le[1],de=De(f,ue),pe=F(de,2),ve=pe[0],he=pe[1];f.x-=ve,f.y-=he;var me,ge,ye,be,we=R.points||[],xe=F(we,2),Ee=xe[0],Ce=Ne(xe[1]),qe=Ne(Ee),Pe=Le(f,Ce),Fe=Le(N,qe),Me=q({},R),ke=Pe.x-Fe.x+ce,Oe=Pe.y-Fe.y+fe,je=e(ke,Oe),Te=e(ke,Oe,ee),ze=Le(f,["t","l"]),He=Le(N,["t","l"]),Be=Le(f,["b","r"]),Ie=Le(N,["b","r"]),We=R.overflow||{},Ye=We.adjustX,Xe=We.adjustY,$e=We.shiftX,_e=We.shiftY,Je=function(e){return"boolean"==typeof e?e:e>=0};Pt();var Ze=Je(Xe),Ue=qe[0]===Ce[0];if(Ze&&"t"===qe[0]&&(ge>ne.bottom||y.current.bt)){var Ge=Oe;Ue?Ge-=W-X:Ge=ze.y-Ie.y-fe;var Ke=e(ke,Ge),Qe=e(ke,Ge,ee);Ke>je||Ke===je&&(!K||Qe>=Te)?(y.current.bt=!0,Oe=Ge,fe=-fe,Me.points=[Ve(qe,0),Ve(Ce,0)]):y.current.bt=!1}if(Ze&&"b"===qe[0]&&(me<ne.top||y.current.tb)){var et=Oe;Ue?et+=W-X:et=Be.y-He.y-fe;var tt=e(ke,et),nt=e(ke,et,ee);tt>je||tt===je&&(!K||nt>=Te)?(y.current.tb=!0,Oe=et,fe=-fe,Me.points=[Ve(qe,0),Ve(Ce,0)]):y.current.tb=!1}var rt=Je(Ye),ot=qe[1]===Ce[1];if(rt&&"l"===qe[1]&&(be>ne.right||y.current.rl)){var it=ke;ot?it-=Y-$:it=ze.x-Ie.x-ce;var at=e(it,Oe),ut=e(it,Oe,ee);at>je||at===je&&(!K||ut>=Te)?(y.current.rl=!0,ke=it,ce=-ce,Me.points=[Ve(qe,1),Ve(Ce,1)]):y.current.rl=!1}if(rt&&"r"===qe[1]&&(ye<ne.left||y.current.lr)){var st=ke;ot?st+=Y-$:st=Be.x-He.x-ce;var lt=e(st,Oe),ct=e(st,Oe,ee);lt>je||lt===je&&(!K||ct>=Te)?(y.current.lr=!0,ke=st,ce=-ce,Me.points=[Ve(qe,1),Ve(Ce,1)]):y.current.lr=!1}Pt();var ft=!0===$e?0:$e;"number"==typeof ft&&(ye<ee.left&&(ke-=ye-ee.left-ce,f.x+$<ee.left+ft&&(ke+=f.x-ee.left+$-ft)),be>ee.right&&(ke-=be-ee.right-ce,f.x>ee.right-ft&&(ke+=f.x-ee.right+ft)));var dt=!0===_e?0:_e;"number"==typeof dt&&(me<ee.top&&(Oe-=me-ee.top-fe,f.y+X<ee.top+dt&&(Oe+=f.y-ee.top+X-dt)),ge>ee.bottom&&(Oe-=ge-ee.bottom-fe,f.y>ee.bottom-dt&&(Oe+=f.y-ee.bottom+dt)));var pt=N.x+ke,vt=pt+Y,ht=N.y+Oe,mt=ht+W,gt=f.x,yt=gt+$,bt=f.y,wt=bt+X,xt=(Math.max(pt,gt)+Math.min(vt,yt))/2-pt,Et=(Math.max(ht,bt)+Math.min(mt,wt))/2-ht;null==s||s(n,Me);var Ct=re.right-N.x-(ke+N.width),qt=re.bottom-N.y-(Oe+N.height);1===oe&&(ke=Math.round(ke),Ct=Math.round(Ct)),1===ie&&(Oe=Math.round(Oe),qt=Math.round(qt)),p({ready:!0,offsetX:ke/oe,offsetY:Oe/ie,offsetR:Ct/oe,offsetB:qt/ie,arrowX:xt/oe,arrowY:Et/ie,scaleX:oe,scaleY:ie,align:Me})}})),w=function(){p((function(e){return q(q({},e),{},{ready:!1})}))};return r(w,[i]),r((function(){e||w()}),[e]),[d.ready,d.offsetX,d.offsetY,d.offsetR,d.offsetB,d.arrowX,d.arrowY,d.scaleX,d.scaleY,d.align,function(){m.current+=1;var e=m.current;Promise.resolve().then((function(){m.current===e&&b()}))}]}(nt,xe,G&&null!==wt?wt:Ie,W,X,$,Q),qt=F(Ct,11),Pt=qt[0],Ft=qt[1],Mt=qt[2],At=qt[3],kt=qt[4],Rt=qt[5],Ot=qt[6],St=qt[7],jt=qt[8],Dt=qt[9],Nt=qt[10],Lt=function(e,n,r,o){return t.useMemo((function(){var t=Pe(null!=r?r:n),i=Pe(null!=o?o:n),a=new Set(t),u=new Set(i);return e&&(a.has("hover")&&(a.delete("hover"),a.add("click")),u.has("hover")&&(u.delete("hover"),u.add("click"))),[a,u]}),[e,n,r,o])}(pe,f,d,p),Vt=F(Lt,2),Tt=Vt[0],zt=Vt[1],Ht=Tt.has("click"),Bt=zt.has("click")||zt.has("contextMenu"),It=l((function(){dt||Nt()}));!function(e,t,n,o,i){r((function(){if(e&&t&&n){let e=function(){o(),i()};var r=n,a=ke(t),u=ke(r),s=Ae(r),l=new Set([s].concat(M(a),M(u)));return l.forEach((function(t){t.addEventListener("scroll",e,{passive:!0})})),s.addEventListener("resize",e,{passive:!0}),o(),function(){l.forEach((function(t){t.removeEventListener("scroll",e),s.removeEventListener("resize",e)}))}}}),[e,t,n])}(nt,Ie,xe,It,(function(){ot.current&&G&&Bt&&lt(!1)})),r((function(){It()}),[wt,W]),r((function(){!nt||null!=X&&X[W]||It()}),[JSON.stringify($)]);var Wt=t.useMemo((function(){var t=function(e,t,n,r){for(var o=n.points,i=Object.keys(e),a=0;a<i.length;a+=1){var u,s=i[a];if(Fe(null===(u=e[s])||void 0===u?void 0:u.points,o,r))return"".concat(t,"-placement-").concat(s)}return""}(X,u,Dt,G);return e(t,null==Z?void 0:Z(Dt))}),[Dt,Z,X,u,G]);t.useImperativeHandle(i,(function(){return{nativeElement:Ye.current,popupElement:je.current,forceAlign:It}}));var Yt=t.useState(0),Xt=F(Yt,2),$t=Xt[0],_t=Xt[1],Jt=t.useState(0),Zt=F(Jt,2),Ut=Zt[0],Gt=Zt[1],Kt=function(){if(J&&Ie){var e=Ie.getBoundingClientRect();_t(e.width),Gt(e.height)}};function Qt(e,t,n,r){Je[e]=function(o){var i;null==r||r(o),lt(t,n);for(var a=arguments.length,u=new Array(a>1?a-1:0),s=1;s<a;s++)u[s-1]=arguments[s];null===(i=_e[e])||void 0===i||i.call.apply(i,[_e,o].concat(u))}}r((function(){mt&&(Nt(),mt(),gt(null))}),[mt]),(Ht||Bt)&&(Je.onClick=function(e){var t;ot.current&&Bt?lt(!1):!ot.current&&Ht&&(Et(e),lt(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=_e.onClick)||void 0===t||t.call.apply(t,[_e,e].concat(r))});var en,tn,nn=function(e,n,r,o,i,a,u,s){var l=t.useRef(e);l.current=e;var c=t.useRef(!1);return t.useEffect((function(){if(n&&o&&(!i||a)){var e=function(){c.current=!1},t=function(e){var t;!l.current||u((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||c.current||s(!1)},f=Ae(o);f.addEventListener("pointerdown",e,!0),f.addEventListener("mousedown",t,!0),f.addEventListener("contextmenu",t,!0);var d=m(r);return d&&(d.addEventListener("mousedown",t,!0),d.addEventListener("contextmenu",t,!0)),function(){f.removeEventListener("pointerdown",e,!0),f.removeEventListener("mousedown",t,!0),f.removeEventListener("contextmenu",t,!0),d&&(d.removeEventListener("mousedown",t,!0),d.removeEventListener("contextmenu",t,!0))}}}),[n,r,o,i,a]),function(){c.current=!0}}(nt,Bt,Ie,xe,S,N,Ze,lt),rn=Tt.has("hover"),on=zt.has("hover");rn&&(Qt("onMouseEnter",!0,P,(function(e){Et(e)})),Qt("onPointerEnter",!0,P,(function(e){Et(e)})),en=function(e){(nt||dt)&&null!=xe&&xe.contains(e.target)&&lt(!0,P)},G&&(Je.onMouseMove=function(e){var t;null===(t=_e.onMouseMove)||void 0===t||t.call(_e,e)})),on&&(Qt("onMouseLeave",!1,k),Qt("onPointerLeave",!1,k),tn=function(){lt(!1,k)}),Tt.has("focus")&&Qt("onFocus",!0,R),zt.has("focus")&&Qt("onBlur",!1,O),Tt.has("contextMenu")&&(Je.onContextMenu=function(e){var t;ot.current&&zt.has("contextMenu")?lt(!1):(Et(e),lt(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=_e.onContextMenu)||void 0===t||t.call.apply(t,[_e,e].concat(r))}),ue&&(Je.className=e(_e.className,ue));var an=q(q({},_e),Je),un={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){le[e]&&(un[e]=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(t=an[e])||void 0===t||t.call.apply(t,[an].concat(r)),le[e].apply(le,r)})}));var sn=t.cloneElement($e,q(q({},an),un)),ln={x:Rt,y:Ot},cn=ee?q({},!0!==ee?ee:{}):null;return t.createElement(t.Fragment,null,t.createElement(D,{disabled:!nt,ref:Xe,onResize:function(){Kt(),It()}},t.createElement(Ce,{getTriggerDOMNode:se},sn)),t.createElement(qe.Provider,{value:ge},t.createElement(Ee,{portal:n,ref:ze,prefixCls:u,popup:H,className:e(B,Wt),style:I,target:Ie,onMouseEnter:en,onMouseLeave:tn,onPointerEnter:en,zIndex:_,open:nt,keepDom:dt,fresh:U,onClick:K,onPointerDownCapture:nn,mask:S,motion:Ue,maskMotion:Ge,onVisibleChanged:function(e){pt(!1),Nt(),null==E||E(e)},onPrepare:function(){return new Promise((function(e){Kt(),gt((function(){return e}))}))},forceRender:V,autoDestroy:ce,getPopupContainer:L,align:Dt,arrow:cn,arrowPos:ln,ready:Pt,offsetX:Ft,offsetY:Mt,offsetR:At,offsetB:kt,onAlign:It,stretch:J,targetWidth:$t/St,targetHeight:Ut/jt})))}))}(_);export{H as C,_ as P,he as S,ze as T,me as a,ye as c,ge as u};
