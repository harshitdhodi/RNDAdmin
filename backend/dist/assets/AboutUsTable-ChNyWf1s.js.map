{"version":3,"file":"AboutUsTable-ChNyWf1s.js","sources":["../../src/websiteBackend/aboutus/AboutUsTable.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useGetAboutUsQuery, useDeleteAboutUsMutation } from '../../slice/aboutUs/aboutUs';\r\nimport { Table } from '@/components/ui/table';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Dialog } from '@/components/ui/dialog';\r\nimport { useToast } from 'react-toastify';\r\nimport { Breadcrumb } from '@/components/ui/breadcrumb';\r\nimport { Pencil, Trash, Plus } from 'lucide-react';\r\n\r\nconst AboutUsTable = () => {\r\n  const navigate = useNavigate();\r\n  const { data: aboutUsData, isLoading } = useGetAboutUsQuery();\r\n  const [deleteAboutUs] = useDeleteAboutUsMutation();\r\n;\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await deleteAboutUs(id);\r\n      toast({ title: 'Success', description: 'About Us entry deleted successfully' });\r\n    } catch (error) {\r\n      toast({ title: 'Error', description: 'Failed to delete About Us entry', variant: 'destructive' });\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Title',\r\n      dataIndex: 'title',\r\n      key: 'title',\r\n      width: '10%',\r\n    },\r\n    {\r\n      title: 'Short Description',\r\n      dataIndex: 'shortDescription',\r\n      key: 'shortDescription',\r\n      ellipsis: true,\r\n      width: '40%',\r\n      render: (shortDescription) => (\r\n        <div dangerouslySetInnerHTML={{ __html: shortDescription }} />\r\n      ),\r\n    },\r\n    {\r\n      title: 'Image',\r\n      dataIndex: 'image',\r\n      key: 'image',\r\n      width: '15%',\r\n      render: (image) => (\r\n        <img \r\n          src={`/api/image/download/${image}`} \r\n          alt=\"About Us\" \r\n          className=\"w-[100px] h-[50px] object-cover rounded-md shadow\"\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      title: 'Actions',\r\n      key: 'actions',\r\n      width: '10%',\r\n      render: (_, record) => (\r\n        <div className=\"flex gap-3\">\r\n          <Button \r\n            variant=\"outline\"\r\n            size=\"icon\"\r\n            onClick={() => navigate(`/edit-about-us-form/${record._id}`)}\r\n          >\r\n            <Pencil className=\"w-4 h-4\" />\r\n          </Button>\r\n          <Dialog>\r\n            <Dialog.Trigger>\r\n              <Button variant=\"destructive\" size=\"icon\">\r\n                <Trash className=\"w-4 h-4\" />\r\n              </Button>\r\n            </Dialog.Trigger>\r\n            <Dialog.Content>\r\n              <Dialog.Title>Confirm Deletion</Dialog.Title>\r\n              <Dialog.Description>\r\n                Are you sure you want to delete this entry?\r\n              </Dialog.Description>\r\n              <Dialog.Footer>\r\n                <Button variant=\"outline\">Cancel</Button>\r\n                <Button variant=\"destructive\" onClick={() => handleDelete(record._id)}>Delete</Button>\r\n              </Dialog.Footer>\r\n            </Dialog.Content>\r\n          </Dialog>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"px-6 py-4\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <Breadcrumb>\r\n          <Breadcrumb.Item onClick={() => navigate(\"/dashboard\")}>Dashboard</Breadcrumb.Item>\r\n          <Breadcrumb.Item>About Us</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <Button variant=\"default\" onClick={() => navigate('/about-us-form')}>\r\n          <Plus className=\"w-4 h-4 mr-2\" /> Add About Us\r\n        </Button>\r\n      </div>\r\n      <Table \r\n        columns={columns} \r\n        dataSource={aboutUsData} \r\n        loading={isLoading}\r\n        rowKey=\"_id\"\r\n        pagination={false}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AboutUsTable;\r\n"],"names":["AboutUsTable","navigate","useNavigate","data","aboutUsData","isLoading","useGetAboutUsQuery","deleteAboutUs","useDeleteAboutUsMutation","columns","title","dataIndex","key","width","ellipsis","render","shortDescription","jsx","dangerouslySetInnerHTML","__html","image","src","alt","className","_","record","jsxs","children","Button","variant","size","onClick","_id","Pencil","Dialog","Trigger","Trash","Content","Title","Description","Footer","async","id","toast","description","error","handleDelete","Breadcrumb","Item","Plus","Table","dataSource","loading","rowKey","pagination"],"mappings":"odAUA,MAAMA,EAAe,KACnB,MAAMC,EAAWC,KACTC,KAAMC,EAAaC,UAAAA,GAAcC,KAClCC,GAAiBC,IAYlBC,EAAU,CACd,CACEC,MAAO,QACPC,UAAW,QACXC,IAAK,QACLC,MAAO,OAET,CACEH,MAAO,oBACPC,UAAW,mBACXC,IAAK,mBACLE,UAAU,EACVD,MAAO,MACPE,OAASC,GACPC,MAAC,OAAIC,wBAAyB,CAAEC,OAAQH,MAG5C,CACEN,MAAO,QACPC,UAAW,QACXC,IAAK,QACLC,MAAO,MACPE,OAASK,GACPH,EAAAA,IAAC,MAAA,CACCI,IAAK,uBAAuBD,IAC5BE,IAAI,WACJC,UAAU,uDAIhB,CACEb,MAAO,UACPE,IAAK,UACLC,MAAO,MACPE,OAAQ,CAACS,EAAGC,IACTC,EAAAA,KAAA,MAAA,CAAIH,UAAU,aACbI,SAAA,CAAAV,EAAAA,IAACW,EAAA,CACCC,QAAQ,UACRC,KAAK,OACLC,QAAS,IAAM9B,EAAS,uBAAuBwB,EAAOO,OAEtDL,SAAAV,EAAAA,IAACgB,EAAO,CAAAV,UAAU,qBAEnBW,EACC,CAAAP,SAAA,CAAAV,MAACiB,EAAOC,QAAP,CACCR,SAAAV,EAAAA,IAACW,GAAOC,QAAQ,cAAcC,KAAK,OACjCH,SAACV,EAAAA,IAAAmB,EAAA,CAAMb,UAAU,gBAGrBG,EAAAA,KAACQ,EAAOG,QAAP,CACCV,SAAA,CAACV,EAAAA,IAAAiB,EAAOI,MAAP,CAAaX,SAAgB,qBAC7BV,EAAAA,IAAAiB,EAAOK,YAAP,CAAmBZ,SAEpB,gDACAD,EAAAA,KAACQ,EAAOM,OAAP,CACCb,SAAA,CAACV,EAAAA,IAAAW,EAAA,CAAOC,QAAQ,UAAUF,SAAM,WAChCV,EAAAA,IAACW,EAAO,CAAAC,QAAQ,cAAcE,QAAS,IAjEhCU,OAAOC,IACtB,UACInC,EAAcmC,GACpBC,MAAM,CAAEjC,MAAO,UAAWkC,YAAa,8CAChCC,GACPF,MAAM,CAAEjC,MAAO,QAASkC,YAAa,kCAAmCf,QAAS,eAAe,GA4DzCiB,CAAarB,EAAOO,KAAML,SAAM,yBAUzF,OAAAD,EAAAA,KAAC,MAAI,CAAAH,UAAU,YACbI,SAAA,CAACD,EAAAA,KAAA,MAAA,CAAIH,UAAU,yCACbI,SAAA,CAAAD,OAACqB,EACC,CAAApB,SAAA,CAACV,MAAA8B,EAAWC,KAAX,CAAgBjB,QAAS,IAAM9B,EAAS,cAAe0B,SAAS,cAChEV,EAAAA,IAAA8B,EAAWC,KAAX,CAAgBrB,SAAQ,gBAE3BD,OAACE,GAAOC,QAAQ,UAAUE,QAAS,IAAM9B,EAAS,kBAChD0B,SAAA,CAACV,EAAAA,IAAAgC,EAAA,CAAK1B,UAAU,iBAAiB,sBAGrCN,EAAAA,IAACiC,EAAA,CACCzC,UACA0C,WAAY/C,EACZgD,QAAS/C,EACTgD,OAAO,MACPC,YAAY,MAEhB"}