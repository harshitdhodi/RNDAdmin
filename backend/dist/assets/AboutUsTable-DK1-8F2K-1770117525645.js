import{f as N,e as S,dN as A,r as a,j as e,ai as C,bd as n,dl as U,bb as k,c,bl as H,cY as I,cZ as D,h as T,dn as u}from"./index-HVo_qOfp-1770117525645.js";const R=()=>{const o=N(),{data:b,isLoading:g}=S(),[h]=A(),[i,d]=a.useState(""),[r,l]=a.useState(""),p=()=>{T.success("Updated Successfully!")},x=async t=>{try{await h(t),u.success("About Us entry deleted successfully")}catch{u.error("Failed to delete About Us entry")}},m=[{title:"Title",dataIndex:"title",key:"title",width:"10%"},{title:"Short Description",dataIndex:"shortDescription",key:"shortDescription",ellipsis:!0,width:"40%",render:t=>e.jsx("div",{dangerouslySetInnerHTML:{__html:t}})},{title:"Image",dataIndex:"image",key:"image",width:"15%",render:t=>e.jsx("img",{src:`/api/image/download/${t}`,alt:"About Us",className:"w-[100px] h-[50px] object-cover"})},{title:"Actions",key:"actions",width:"10%",render:(t,s)=>e.jsxs(H,{children:[e.jsx(n,{type:"button",icon:e.jsx(I,{}),onClick:()=>o(`/edit-about-us-form/${s._id}`),className:" bg-[#ebb207] text-white hover:bg-yellow-700 transition whitespace-nowrap"}),e.jsx(n,{danger:!0,icon:e.jsx(D,{}),onClick:()=>x(s._id)})]})}],y=async()=>{try{const t=await c.get("/api/pageHeading/heading?pageType=aboutus",{withCredentials:!0}),{heading:s,subheading:v}=t.data;d(s||""),l(v||"")}catch(t){console.error(t)}},f=async()=>{console.log("Save Called");try{await c.put("/api/pageHeading/updateHeading?pageType=aboutus",{pagetype:"aboutus",heading:i,subheading:r},{withCredentials:!0}),p()}catch(t){console.error(t)}};a.useEffect(()=>{y()},[]);const j=t=>d(t.target.value),w=t=>l(t.target.value);return e.jsxs("div",{className:"p-4",children:[e.jsx(C,{}),e.jsxs("div",{className:"mb-8 border border-gray-200 shadow-lg p-4 rounded ",children:[e.jsxs("div",{className:"grid md:grid-cols-2 md:gap-2 grid-cols-1",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2 uppercase font-serif",children:"Heading"}),e.jsx("input",{type:"text",value:i,onChange:j,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-yellow-500 transition duration-300"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2 uppercase font-serif",children:"Sub heading"}),e.jsx("input",{type:"text",value:r,onChange:w,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-yellow-500 transition duration-300"})]})]}),e.jsx("button",{onClick:f,className:"px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-900 transition duration-300 font-serif",children:"Save"})]}),e.jsxs("div",{className:"flex justify-between p-6 items-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:e.jsx("h1",{children:"About Us"})}),e.jsx("div",{children:e.jsx(n,{type:"button",icon:e.jsx(U,{}),onClick:()=>o("/about-us-form"),className:"px-3 py-5 bg-[#ebb207] text-white !font-bold rounded-lg hover:bg-yellow-700 transition whitespace-nowrap",children:"Add About Us"})})]}),e.jsx(k,{columns:m,dataSource:b,loading:g,rowKey:"_id",pagination:!1})]})};export{R as default};
