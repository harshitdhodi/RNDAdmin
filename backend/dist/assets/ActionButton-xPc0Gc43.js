import{r as e}from"./vendor-router-Bu4EHm1B.js";import{aD as r,B as t,a7 as n}from"./index-lUiyPlMq.js";function u(e){return!!(null==e?void 0:e.then)}const i=i=>{const{type:l,children:o,prefixCls:s,buttonProps:c,close:f,autoFocus:a,emitEvent:d,isSilent:p,quitOnNullishReturnValue:v,actionFn:m}=i,h=e.useRef(!1),j=e.useRef(null),[x,g]=r(!1),y=function(){null==f||f.apply(void 0,arguments)};e.useEffect((()=>{let e=null;return a&&(e=setTimeout((()=>{var e;null===(e=j.current)||void 0===e||e.focus({preventScroll:!0})}))),()=>{e&&clearTimeout(e)}}),[]);return e.createElement(t,Object.assign({},n(l),{onClick:e=>{if(h.current)return;if(h.current=!0,!m)return void y();let r;if(d){if(r=m(e),v&&!u(r))return h.current=!1,void y(e)}else if(m.length)r=m(f),h.current=!1;else if(r=m(),!u(r))return void y();(e=>{u(e)&&(g(!0),e.then((function(){g(!1,!0),y.apply(void 0,arguments),h.current=!1}),(e=>{if(g(!1,!0),h.current=!1,!(null==p?void 0:p()))return Promise.reject(e)})))})(r)},loading:x,prefixCls:s},c,{ref:j}),o)};export{i as A};
//# sourceMappingURL=ActionButton-xPc0Gc43.js.map
