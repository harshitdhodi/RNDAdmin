import{j as e,r as m}from"./react-DKICu8bO.js";import{B as S}from"./BreadCrumb-CAxUtD75.js";import{B as w}from"./index-Bbo1zcj1.js";import{C as P}from"./checkbox-BTLdfW3y.js";import{C as T,a as k}from"./card-D0ajdvoE.js";import{X as _}from"./lucide-D7hRWJEP.js";import{T as B,a as I,b as N,c as p,d as L,e as u}from"./table-nX7BFFdz.js";import{a as A,u as E}from"./react-router-B9QVkYva.js";import{S as R,a as $,b as F,c as D,d as g}from"./select-CnTZk46j.js";import"./classnames-Bv6oJzD9.js";import"./prop-types-D44m66iB.js";import"./react-dom-BBS6HuAW.js";import"./scheduler-CKyTKYc2.js";import"./react-redux-BrRfTdeB.js";import"./use-sync-external-store-D0ivhzzy.js";import"./@reduxjs-B5J9SSA5.js";import"./redux-DITMfSWq.js";import"./immer-fBqQtvEc.js";import"./redux-thunk-ClJT1hhx.js";import"./reselect-C27TLnWV.js";import"./js-cookie-Cz0CWeBA.js";import"./@radix-ui-BlrBCj0C.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-fXbmorz6.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-C9fmXXva.js";import"./react-style-singleton-DKBZmuKg.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-C10EJNOT.js";import"./use-callback-ref-BoKxM4XI.js";import"./@floating-ui-8J-daYO3.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./axios-DXsv3KKR.js";import"./@syncfusion-BIAkhmGL.js";import"./cookie--_YQFYBD.js";function G({categorySlug:n,chemicals:a,selectedGrades:r,setSelectedGrades:l}){const c=(t,i)=>{l(t?o=>[...o,i]:o=>o.filter(h=>h!==i))},x=t=>{l(i=>i.filter(o=>o!==t))};return e.jsx(T,{className:"md:col-span-1 bg-[#dee8ff] h-fit rounded-none p-3",children:e.jsxs(k,{className:"p-4",children:[e.jsx("h2",{className:"text-2xl font-normal mb-4",children:"Your Selections"}),r.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Grades:"}),e.jsx("div",{className:"text-blue-600 py-3 flex flex-col gap-2 border-y-2 border-gray-300",children:r.map(t=>e.jsxs("div",{className:"flex justify-between items-center px-2 py-1 bg-blue-100 rounded",children:[e.jsx("span",{className:"text-sm",children:t}),e.jsx("button",{onClick:()=>x(t),className:"text-gray-600 hover:text-red-600",children:e.jsx(_,{size:16})})]},t))})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-2xl font-normal",children:"Grades"}),e.jsx("div",{className:"space-y-2",children:a.map(t=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{id:t._id,checked:r.includes(t.grade),onCheckedChange:i=>c(i,t.grade)}),e.jsx("label",{htmlFor:t._id,className:"text-sm",children:t.grade})]},t._id))})]})})]})})}const M=({chemicals:n})=>{const[a,r]=m.useState(1),l=10,c=A();if(!n||n.length===0)return e.jsx("div",{className:"p-4 text-center",children:"No products found."});const x=n.length,t=Math.ceil(x/l),i=n.slice((a-1)*l,a*l),o=s=>{r(s)},h=s=>{const d=s.replace(/\s+/g,"-").toLowerCase();console.log(`Redirecting to: /${d}`),c(`/${d}`)};return e.jsxs("div",{children:[e.jsxs(B,{children:[e.jsx(I,{children:e.jsxs(N,{className:"bg-gray-100",children:[e.jsx(p,{children:"Product Code"}),e.jsx(p,{children:"Product Name"}),e.jsx(p,{children:"CAS"}),e.jsx(p,{children:"TDS"}),e.jsx(p,{children:"MSDS"})]})}),e.jsx(L,{children:i.map(s=>e.jsxs(N,{children:[e.jsx(u,{children:s.auto_p_code}),e.jsx(u,{children:e.jsx("button",{className:"text-blue-900 hover:no-underline",onClick:()=>h(s.name),children:s.name})}),e.jsx(u,{children:s.cas_number}),e.jsx(u,{children:"Specs"}),e.jsx(u,{children:"MSDS"})]},s.auto_p_code))})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("nav",{className:"flex space-x-1","aria-label":"Pagination",children:Array.from({length:t},(s,d)=>d+1).map(s=>e.jsx(w,{variant:s===a?"outline":"default",size:"sm",className:`min-w-[40px] ${s===a?"bg-blue-600 text-white hover:bg-blue-700":"hover:bg-blue-50"}`,onClick:()=>o(s),children:s},s))})})]})};function z({letter:n,totalItems:a,itemsPerPage:r,setItemsPerPage:l}){return e.jsx("div",{className:"w-full mb-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h1",{className:"text-2xl font-semibold",children:['Showing Products for "',n,'"']}),e.jsx("p",{className:"text-sm text-muted-foreground uppercase tracking-wide",children:"Fine Chemicals & Laboratory Reagents for Research & Industries"}),e.jsxs("div",{className:"bg-blue-50 flex items-center px-3 py-1 justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["1 to ",r," of ",a," item(s) displayed"]}),e.jsxs(R,{value:r.toString(),onValueChange:c=>l(Number(c)),children:[e.jsx($,{className:"w-[120px]",children:e.jsx(F,{placeholder:"Show per page"})}),e.jsxs(D,{children:[e.jsx(g,{value:"10",children:"10 per page"}),e.jsx(g,{value:"25",children:"25 per page"}),e.jsx(g,{value:"50",children:"50 per page"}),e.jsx(g,{value:"100",children:"100 per page"})]})]})]})]})})}function we(){const n=E(),{selectedLetter:a,chemicals:r}=n.state||{};console.log({selectedLetter:a,chemicals:r});const[l,c]=m.useState([]),[x,t]=m.useState(50),[i,o]=m.useState([]),[h,s]=m.useState(!0),[d,v]=m.useState(null);m.useEffect(()=>{r&&a&&(async()=>{try{s(!0);const j=await fetch(`/api/chemical/getChemicalByCategoryAndAlphabet?categoryslug=${r}&alphabet=${a}`);if(!j.ok)throw new Error("Failed to fetch chemicals");const y=await j.json();o(y)}catch(j){v(j.message)}finally{s(!1)}})()},[r,a]);const f=l.length?i.filter(b=>l.includes(b.grade)):i,C=f.length;return h?e.jsx("div",{children:"Loading..."}):d?e.jsxs("div",{children:["Error loading chemicals: ",d]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"max-w-7xl mx-auto mb-10 ",children:[e.jsx(S,{chemicals:r,categorySlug:r,selectedLetter:a}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[e.jsx(G,{categorySlug:r,chemicals:i,selectedGrades:l,setSelectedGrades:c}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(z,{letter:a,totalItems:C,itemsPerPage:x,setItemsPerPage:t}),e.jsx(M,{selectedLetter:a,categorySlug:r,chemicals:f})]})]})]})})}export{we as default};
