{"version":3,"file":"BannerTable-COOrA1HX.js","sources":["../../src/websiteBackend/banner/BannerTable.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useGetAllBannersQuery, useDeleteBannerMutation } from '../../slice/banner/banner';\r\nimport { Table } from '@/components/ui/table';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Dialog } from '@/components/ui/dialog';\r\nimport { useToast } from 'react-toastify';\r\nimport { Breadcrumb } from '@/components/ui/breadcrumb';\r\nimport { Pencil, Trash, Plus, Home } from 'lucide-react';\r\n\r\nconst BannerTable = () => {\r\n  const navigate = useNavigate();\r\n  const { data: bannerData, isLoading } = useGetAllBannersQuery();\r\n  const [deleteBanner] = useDeleteBannerMutation();\r\n;\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await deleteBanner(id);\r\n      toast({ title: 'Success', description: 'Banner deleted successfully' });\r\n    } catch (error) {\r\n      toast({ title: 'Error', description: 'Failed to delete banner', variant: 'destructive' });\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Image',\r\n      dataIndex: 'image',\r\n      key: 'image',\r\n      width: '20%',\r\n      render: (image) => (\r\n        <img \r\n          src={`/api/image/download/${image}`} \r\n          alt=\"Banner\" \r\n          className=\"w-[150px] h-[50px] object-cover rounded-md shadow\"\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      title: 'Title',\r\n      dataIndex: 'imgName',\r\n      key: 'title',\r\n      width: '20%',\r\n    },\r\n    {\r\n      title: 'Page Slug',\r\n      dataIndex: 'pageSlug',\r\n      key: 'pageSlug',\r\n      width: '20%',\r\n    },\r\n    {\r\n      title: 'Actions',\r\n      key: 'actions',\r\n      width: '10%',\r\n      render: (_, record) => (\r\n        <div className=\"flex gap-3\">\r\n          <Button \r\n            variant=\"outline\"\r\n            size=\"icon\"\r\n            onClick={() => navigate(`/edit-banner-form/${record._id}`)}\r\n          >\r\n            <Pencil className=\"w-4 h-4\" />\r\n          </Button>\r\n          <Dialog>\r\n            <Dialog.Trigger>\r\n              <Button variant=\"destructive\" size=\"icon\">\r\n                <Trash className=\"w-4 h-4\" />\r\n              </Button>\r\n            </Dialog.Trigger>\r\n            <Dialog.Content>\r\n              <Dialog.Title>Confirm Deletion</Dialog.Title>\r\n              <Dialog.Description>\r\n                Are you sure you want to delete this banner?\r\n              </Dialog.Description>\r\n              <Dialog.Footer>\r\n                <Button variant=\"outline\">Cancel</Button>\r\n                <Button variant=\"destructive\" onClick={() => handleDelete(record._id)}>Delete</Button>\r\n              </Dialog.Footer>\r\n            </Dialog.Content>\r\n          </Dialog>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"px-6 py-4\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <Breadcrumb>\r\n          <Breadcrumb.Item onClick={() => navigate(\"/dashboard\")}> <Home className=\"w-4 h-4 mr-2\" /> Dashboard</Breadcrumb.Item>\r\n          <Breadcrumb.Item>Banner Management</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <Button variant=\"default\" onClick={() => navigate('/add-banner')}>\r\n          <Plus className=\"w-4 h-4 mr-2\" /> Add New Banner\r\n        </Button>\r\n      </div>\r\n      <Table \r\n        columns={columns} \r\n        dataSource={bannerData} \r\n        loading={isLoading}\r\n        rowKey=\"_id\"\r\n        pagination={{ pageSize: 5 }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BannerTable;\r\n"],"names":["BannerTable","navigate","useNavigate","data","bannerData","isLoading","useGetAllBannersQuery","deleteBanner","useDeleteBannerMutation","columns","title","dataIndex","key","width","render","image","jsx","src","alt","className","_","record","jsxs","children","Button","variant","size","onClick","_id","Pencil","Dialog","Trigger","Trash","Content","Title","Description","Footer","async","id","toast","description","error","handleDelete","Breadcrumb","Item","Home","Plus","Table","dataSource","loading","rowKey","pagination","pageSize"],"mappings":"6fAUA,MAAMA,EAAc,KAClB,MAAMC,EAAWC,KACTC,KAAMC,EAAYC,UAAAA,GAAcC,KACjCC,GAAgBC,IAYjBC,EAAU,CACd,CACEC,MAAO,QACPC,UAAW,QACXC,IAAK,QACLC,MAAO,MACPC,OAASC,GACPC,EAAAA,IAAC,MAAA,CACCC,IAAK,uBAAuBF,IAC5BG,IAAI,SACJC,UAAU,uDAIhB,CACET,MAAO,QACPC,UAAW,UACXC,IAAK,QACLC,MAAO,OAET,CACEH,MAAO,YACPC,UAAW,WACXC,IAAK,WACLC,MAAO,OAET,CACEH,MAAO,UACPE,IAAK,UACLC,MAAO,MACPC,OAAQ,CAACM,EAAGC,IACTC,EAAAA,KAAA,MAAA,CAAIH,UAAU,aACbI,SAAA,CAAAP,EAAAA,IAACQ,EAAA,CACCC,QAAQ,UACRC,KAAK,OACLC,QAAS,IAAM1B,EAAS,qBAAqBoB,EAAOO,OAEpDL,SAAAP,EAAAA,IAACa,EAAO,CAAAV,UAAU,qBAEnBW,EACC,CAAAP,SAAA,CAAAP,MAACc,EAAOC,QAAP,CACCR,SAAAP,EAAAA,IAACQ,GAAOC,QAAQ,cAAcC,KAAK,OACjCH,SAACP,EAAAA,IAAAgB,EAAA,CAAMb,UAAU,gBAGrBG,EAAAA,KAACQ,EAAOG,QAAP,CACCV,SAAA,CAACP,EAAAA,IAAAc,EAAOI,MAAP,CAAaX,SAAgB,qBAC7BP,EAAAA,IAAAc,EAAOK,YAAP,CAAmBZ,SAEpB,iDACAD,EAAAA,KAACQ,EAAOM,OAAP,CACCb,SAAA,CAACP,EAAAA,IAAAQ,EAAA,CAAOC,QAAQ,UAAUF,SAAM,WAChCP,EAAAA,IAACQ,EAAO,CAAAC,QAAQ,cAAcE,QAAS,IA7DhCU,OAAOC,IACtB,UACI/B,EAAa+B,GACnBC,MAAM,CAAE7B,MAAO,UAAW8B,YAAa,sCAChCC,GACPF,MAAM,CAAE7B,MAAO,QAAS8B,YAAa,0BAA2Bf,QAAS,eAAe,GAwDjCiB,CAAarB,EAAOO,KAAML,SAAM,yBAUzF,OAAAD,EAAAA,KAAC,MAAI,CAAAH,UAAU,YACbI,SAAA,CAACD,EAAAA,KAAA,MAAA,CAAIH,UAAU,yCACbI,SAAA,CAAAD,OAACqB,EACC,CAAApB,SAAA,CAAAD,OAACqB,EAAWC,KAAX,CAAgBjB,QAAS,IAAM1B,EAAS,cAAesB,SAAA,CAAA,IAACP,EAAAA,IAAC6B,EAAK,CAAA1B,UAAU,iBAAiB,gBACzFH,EAAAA,IAAA2B,EAAWC,KAAX,CAAgBrB,SAAiB,yBAEpCD,OAACE,GAAOC,QAAQ,UAAUE,QAAS,IAAM1B,EAAS,eAChDsB,SAAA,CAACP,EAAAA,IAAA8B,EAAA,CAAK3B,UAAU,iBAAiB,wBAGrCH,EAAAA,IAAC+B,EAAA,CACCtC,UACAuC,WAAY5C,EACZ6C,QAAS5C,EACT6C,OAAO,MACPC,WAAY,CAAEC,SAAU,OAE5B"}