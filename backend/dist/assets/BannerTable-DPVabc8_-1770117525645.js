import{f as S,dW as k,dX as B,r as t,j as e,dS as s,L as I,dY as C,ai as H,bd as d,dl as R,bb as T,c as g,bl as $,cY as D,cZ as M,h as _,dn as h}from"./index-HVo_qOfp-1770117525645.js";const E=()=>{const i=S(),{data:u,isLoading:b}=k(),[x]=B(),[r,o]=t.useState(""),[l,c]=t.useState(""),p=async a=>{try{await x(a),h.success("Banner deleted successfully")}catch{h.error("Failed to delete banner")}},m=[{title:"Image",dataIndex:"image",key:"image",width:"20%",render:a=>e.jsx("img",{src:`/api/image/download/${a}`,alt:"Banner",className:"w-36 h-12 object-cover"})},{title:"Title",dataIndex:"title",key:"title",width:"15%"},{title:"Heading",dataIndex:"heading",key:"heading",width:"15%",render:a=>a||"-"},{title:"Subheading",dataIndex:"subheading",key:"subheading",width:"15%",render:a=>a||"-"},{title:"Page Slug",dataIndex:"pageSlug",key:"pageSlug",width:"15%"},{title:"Actions",key:"actions",width:"10%",render:(a,n)=>e.jsxs($,{children:[e.jsx(d,{type:"button",icon:e.jsx(D,{}),onClick:()=>i(`/edit-banner-form/${n._id}`),className:"bg-[#ebb207] text-white hover:bg-yellow-700 transition whitespace-nowrap"}),e.jsx(d,{danger:!0,icon:e.jsx(M,{}),onClick:()=>p(n._id)})]})}],y=()=>{_.success("Updated Successfully!")},j=async()=>{try{const a=await g.get("/api/pageHeading/heading?pageType=banner",{withCredentials:!0}),{heading:n,subheading:N}=a.data;o(n||""),c(N||"")}catch(a){console.error(a)}},f=async()=>{console.log("Save Called");try{await g.put("/api/pageHeading/updateHeading?pageType=banner",{pagetype:"banner",heading:r,subheading:l},{withCredentials:!0}),y()}catch(a){console.error(a)}};t.useEffect(()=>{j()},[]);const w=a=>o(a.target.value),v=a=>c(a.target.value);return e.jsxs("div",{children:[e.jsxs(s,{className:"px-4 py-6",children:[e.jsx(s.Item,{children:e.jsxs(I,{to:"/dashboard",children:[e.jsx(C,{})," Dashboard"]})}),e.jsx(s.Item,{children:"Banner Management"})]}),e.jsx(H,{}),e.jsxs("div",{className:"mb-8 border border-gray-200 shadow-lg p-4 rounded ",children:[e.jsxs("div",{className:"grid md:grid-cols-2 md:gap-2 grid-cols-1",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2 uppercase font-serif",children:"Heading"}),e.jsx("input",{type:"text",value:r,onChange:w,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-yellow-500 transition duration-300"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2 uppercase font-serif",children:"Sub heading"}),e.jsx("input",{type:"text",value:l,onChange:v,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-yellow-500 transition duration-300"})]})]}),e.jsx("button",{onClick:f,className:"px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-900 transition duration-300 font-serif",children:"Save"})]}),e.jsxs("div",{className:"p-6 flex justify-between items-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:e.jsx("h1",{children:"Banner Management"})}),e.jsx("div",{children:e.jsx(d,{type:"button",icon:e.jsx(R,{}),onClick:()=>i("/add-banner"),className:"px-3 py-5 bg-[#ebb207] text-white !font-bold rounded-lg hover:bg-yellow-700 transition whitespace-nowrap",children:"Add New Banner"})})]}),e.jsx(T,{columns:m,dataSource:u,loading:b,rowKey:"_id",pagination:{pageSize:5}})]})};export{E as default};
