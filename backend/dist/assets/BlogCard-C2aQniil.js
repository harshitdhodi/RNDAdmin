import{j as e}from"./main-DeRxjK88.js";import{r}from"./vendor-router-Bu4EHm1B.js";import{a as o}from"./vendor-utils-BfOc9lHv.js";import{J as t}from"./jodit-react-Bgeja2AM.js";import{F as a}from"./index--6LMyILo.js";import{B as l}from"./index-lUiyPlMq.js";import{s}from"./index-lMP3hCbg.js";import"./vendor-react-CI5aWZjI.js";import"./toArray-DkI11MDQ.js";import"./index-DRGG9HZA.js";import"./CheckCircleFilled-DiSUBvU5.js";import"./ExclamationCircleFilled-DZysw_83.js";import"./InfoCircleFilled-D8dKuFWy.js";const i=()=>{const[i]=a.useForm(),[d,n]=r.useState(""),[c,m]=r.useState(""),[f,g]=r.useState(null),u=r.useRef(null),p=async()=>{try{const e=(await o.get("/api/blogCard/getCard")).data[0];g(e._id),n(e.blogCard);const r=(new DOMParser).parseFromString(e.blogCard,"text/html"),t=r.getElementsByTagName("*");for(let o of t)"white"!==o.style.color&&"#ffffff"!==o.style.color||(o.style.color="black");m(r.body.innerHTML),i.setFieldsValue({blogCard:e.blogCard})}catch(e){s.error("Failed to fetch blog card.")}};r.useEffect((()=>{p()}),[i]);return e.jsxs(a,{form:i,layout:"vertical",onFinish:async e=>{try{f?(await o.put(`/api/blogCard/editCard/${f}`,{blogCard:d}),s.success("Blog card updated successfully!")):(await o.post("/api/blogCard/addCard",{blogCard:d}),s.success("Blog card added successfully!")),i.resetFields(),n(""),m(""),p()}catch(r){s.error("Failed to save blog card.")}},name:"blog_card_form",children:[e.jsx(a.Item,{name:"blogCard",label:"Blog Card Content",rules:[{required:!0,message:"Please input the blog card content!"}],children:e.jsx(t,{ref:u,value:c||d,config:{uploader:{insertImageAsBase64URI:!0},toolbarAdaptive:!1,toolbarSticky:!1,buttons:["bold","italic","underline","ul","ol","fontsize","paragraph","link","image","video","table","align","undo","redo","font","fontsize","brush","foreColor","backColor"],style:{color:"black"}},onChange:e=>{n(e);const r=(new DOMParser).parseFromString(e,"text/html"),o=r.getElementsByTagName("*");for(let t of o)"white"!==t.style.color&&"#ffffff"!==t.style.color||(t.style.color="black");m(r.body.innerHTML)}})}),e.jsx(a.Item,{children:e.jsx(l,{type:"primary",htmlType:"submit",children:f?"Update Blog Card":"Add Blog Card"})})]})};export{i as default};
//# sourceMappingURL=BlogCard-C2aQniil.js.map
