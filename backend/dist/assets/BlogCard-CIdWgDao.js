import{j as t,L as e,B as a}from"./main-BcUd3ASm.js";import{r}from"./vendor-router-CaZtIe2_.js";import{a as o}from"./vendor-utils-CfKmydC0.js";import{F as s}from"./form-ChijvnbD.js";import"./react-toastify.esm-CrOn1nFw.js";import{C as l,b as i,a as d}from"./card-DKPCnjx_.js";import{R as c}from"./index-BEyUZcsN.js";/* empty css                   */import"./vendor-react-DD_RYU77.js";import"./index.esm-CJw2PcRb.js";import"./isEqual-DwlFmuh_.js";const n=()=>{const[n]=s.useForm(),[m,f]=r.useState(""),[u,g]=r.useState(""),[b,p]=r.useState(null),h=async()=>{try{const t=(await o.get("/api/blogCard/getCard")).data[0];p(t._id),f(t.blogCard);const e=(new DOMParser).parseFromString(t.blogCard,"text/html"),a=e.getElementsByTagName("*");for(let r of a)"white"!==r.style.color&&"#ffffff"!==r.style.color||(r.style.color="black");g(e.body.innerHTML),n.setFieldsValue({blogCard:t.blogCard})}catch(t){toast({title:"Error",description:"Failed to fetch blog card.",variant:"destructive"})}};r.useEffect((()=>{h()}),[n]);return t.jsxs(l,{className:"p-6 max-w-2xl mx-auto",children:[t.jsx(i,{children:t.jsx("h2",{className:"text-xl font-bold",children:"Blog Card Form"})}),t.jsx(d,{children:t.jsxs(s,{form:n,layout:"vertical",onFinish:async()=>{try{b?(await o.put(`/api/blogCard/editCard/${b}`,{blogCard:m}),toast({title:"Success",description:"Blog card updated successfully!"})):(await o.post("/api/blogCard/addCard",{blogCard:m}),toast({title:"Success",description:"Blog card added successfully!"})),n.resetFields(),f(""),g(""),h()}catch(t){toast({title:"Error",description:"Failed to save blog card.",variant:"destructive"})}},name:"blog_card_form",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx(e,{htmlFor:"blogCard",children:"Blog Card Content"}),t.jsx(c,{id:"blogCard",value:u||m,onChange:t=>{f(t);const e=(new DOMParser).parseFromString(t,"text/html"),a=e.getElementsByTagName("*");for(let r of a)"white"!==r.style.color&&"#ffffff"!==r.style.color||(r.style.color="black");g(e.body.innerHTML)},modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline","blockquote"],[{align:[]}],["link","image","video"],["clean"]]},formats:["header","font","list","bold","italic","underline","blockquote","align","link","image","video"]})]}),t.jsx(a,{type:"submit",className:"w-full",children:b?"Update Blog Card":"Add Blog Card"})]})})]})};export{n as default};
//# sourceMappingURL=BlogCard-CIdWgDao.js.map
