import{j as e,L as t,B as a}from"./main-BQqr2_19.js";import{r}from"./vendor-router-DoRotgOs.js";import{a as o}from"./vendor-utils-CfKmydC0.js";import{b as s}from"./index.esm-CSDyVtrl.js";import{C as l,b as d,a as i}from"./card-CPQ_AIkA.js";import{R as n}from"./index-BEyUZcsN.js";/* empty css                   */import"./vendor-react-DD_RYU77.js";import"./isEqual-DwlFmuh_.js";const c=()=>{const{register:c,handleSubmit:m,setValue:g,reset:u}=s(),[f,b]=r.useState(null),[p,C]=r.useState(""),[h,j]=r.useState(""),x=async()=>{try{const e=(await o.get("/api/blogCard/getCard")).data[0];b(e._id),j(e.blogCard);const t=(new DOMParser).parseFromString(e.blogCard,"text/html"),a=t.getElementsByTagName("*");for(let r of a)"white"!==r.style.color&&"#ffffff"!==r.style.color||(r.style.color="black");C(t.body.innerHTML),g("blogCard",e.blogCard)}catch(e){}};r.useEffect((()=>{x()}),[]);return e.jsxs(l,{className:"p-6 max-w-2xl mx-auto",children:[e.jsx(d,{children:e.jsx("h2",{className:"text-xl font-bold",children:"Blog Card Form"})}),e.jsx(i,{children:e.jsxs("form",{onSubmit:m((async()=>{try{f?(await o.put(`/api/blogCard/editCard/${f}`,{blogCard:h}),toast({title:"Success",description:"Blog card updated successfully!"})):(await o.post("/api/blogCard/addCard",{blogCard:h}),toast({title:"Success",description:"Blog card added successfully!"})),u(),j(""),C(""),x()}catch(e){toast({title:"Error",description:"Failed to save blog card.",variant:"destructive"})}})),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"blogCard",children:"Blog Card Content"}),e.jsx(n,{id:"blogCard",value:p||h,onChange:e=>{j(e);const t=(new DOMParser).parseFromString(e,"text/html"),a=t.getElementsByTagName("*");for(let r of a)"white"!==r.style.color&&"#ffffff"!==r.style.color||(r.style.color="black");C(t.body.innerHTML),g("blogCard",e)},modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline","blockquote"],[{align:[]}],["link","image","video"],["clean"]]},formats:["header","font","list","bold","italic","underline","blockquote","align","link","image","video"]}),e.jsx("input",{type:"hidden",...c("blogCard")})]}),e.jsx(a,{type:"submit",className:"w-full",children:f?"Update Blog Card":"Add Blog Card"})]})})]})};export{c as default};
//# sourceMappingURL=BlogCard-CL5lGR9H.js.map
