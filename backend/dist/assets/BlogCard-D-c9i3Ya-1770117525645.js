import{r,j as t,c as g}from"./index-HVo_qOfp-1770117525645.js";import{J as x}from"./jodit-react-CTefNv3Q-1770117525645.js";const j=()=>{const[l,d]=r.useState(""),[m,n]=r.useState(""),[c,u]=r.useState(null),p=r.useRef(null),y={uploader:{insertImageAsBase64URI:!0},toolbarAdaptive:!1,toolbarSticky:!1,buttons:["bold","italic","underline","ul","ol","fontsize","paragraph","link","image","table","align","font","fontsize","brush"],style:{color:"black"}},b=async()=>{try{const o=(await g.get("/api/blogCard/getCard")).data[0];u(o._id),d(o.blogCard);const s=new DOMParser().parseFromString(o.blogCard,"text/html"),a=s.getElementsByTagName("*");for(let f of a)(f.style.color==="white"||f.style.color==="#ffffff")&&(f.style.color="black");n(s.body.innerHTML)}catch(e){console.error("Failed to fetch blog card:",e),alert("Failed to fetch blog card.")}};r.useEffect(()=>{b()},[]);const h=e=>{d(e);const i=new DOMParser().parseFromString(e,"text/html"),s=i.getElementsByTagName("*");for(let a of s)(a.style.color==="white"||a.style.color==="#ffffff")&&(a.style.color="black");n(i.body.innerHTML)},C=async e=>{if(e.preventDefault(),!l){alert("Please enter blog card content.");return}try{c?(await g.put(`/api/blogCard/editCard/${c}`,{blogCard:l}),alert("Blog card updated successfully!")):(await g.post("/api/blogCard/addCard",{blogCard:l}),alert("Blog card added successfully!")),d(""),n(""),b()}catch(o){console.error("Failed to save blog card:",o),alert("Failed to save blog card.")}};return t.jsxs("form",{onSubmit:C,className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-md",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Blog Card Content"}),t.jsx("div",{className:"border border-gray-300 rounded-md overflow-hidden",children:t.jsx(x,{ref:p,value:m||l,config:y,onChange:h})})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"submit",className:"bg-yellow-600 text-white px-6 py-2 rounded hover:bg-yellow-700 focus:outline-none transition duration-300",children:c?"Update Blog Card":"Add Blog Card"})})]})};export{j as default};
