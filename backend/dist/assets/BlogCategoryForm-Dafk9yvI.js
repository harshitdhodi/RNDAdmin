import{r as e,j as r}from"./react-BfBsRgn0.js";import{c as s}from"./react-hook-form-Dn0Bw783.js";import{aC as t,aD as o,aE as i}from"./index-mCSb4W1J.js";import{b as a,a as d}from"./react-router-DUJjWq5j.js";import"./classnames-C3ovBj6j.js";import"./react-dom-DwrudmHt.js";import"./scheduler-BFk34ZWe.js";import"./react-redux-DbBiFgqA.js";import"./use-sync-external-store-DdeJV4gQ.js";import"./@reduxjs-UCSEaN3g.js";import"./redux-C5Huw2aR.js";import"./immer-DgfQkf_7.js";import"./redux-thunk-B3S1iNVp.js";import"./reselect-BSOs5pU1.js";import"./js-cookie-BXEMiIsG.js";import"./@radix-ui-BWjeGzol.js";import"./aria-hidden-BHUiN-rI.js";import"./react-remove-scroll-yauc81_r.js";import"./tslib-Bc9CN1Ef.js";import"./react-remove-scroll-bar-BcxDecei.js";import"./react-style-singleton-C1QVuB2c.js";import"./get-nonce-BYiZHLe3.js";import"./use-sidecar-BA4C4RS7.js";import"./use-callback-ref-Cvx1xcTX.js";import"./@floating-ui-BSChQBl3.js";import"./class-variance-authority-DeOWI0hf.js";import"./clsx-BeLtu-UY.js";import"./tailwind-merge-D2VJQb_v.js";import"./lucide-D6BDVLHE.js";import"./axios-BoylL8Pu.js";import"./cookie-BUTH-fPQ.js";const l=()=>{const{id:l}=a(),m=d(),[n,{isLoading:c}]=t(),[u,{isLoading:x}]=o(),{data:g,isLoading:p}=i(l,{skip:!l}),{register:b,handleSubmit:j,formState:{errors:y},reset:h,setValue:f}=s();e.useEffect((()=>{g&&Object.keys(g).forEach((e=>{f(e,g[e])}))}),[g,f]);const w=c||x||p,N=!!l;return r.jsxs("div",{className:"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:N?"Update Category":"Add Category"}),w?r.jsx("div",{className:"text-center text-gray-600",children:"Loading..."}):r.jsxs("form",{onSubmit:j((async e=>{try{const r={...e,priority:e.priority?Number(e.priority):void 0};let s;s=l?await u({id:l,categoryData:r}).unwrap():await n(r).unwrap(),h(),m("/blog-category-table",{replace:!0})}catch(r){}})),className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:["Category ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"category",...b("category",{required:"Category is required",minLength:{value:2,message:"Category must be at least 2 characters"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),y.category&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.category.message})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700",children:["Slug ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"slug",...b("slug",{required:"Slug is required",pattern:{value:/^[a-z0-9-]+$/,message:"Slug must be lowercase, numbers, and hyphens only"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),y.slug&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.slug.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"metatitle",className:"block text-sm font-medium text-gray-700",children:"Meta Title"}),r.jsx("input",{type:"text",id:"metatitle",...b("metatitle"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"metadescription",className:"block text-sm font-medium text-gray-700",children:"Meta Description"}),r.jsx("textarea",{id:"metadescription",...b("metadescription"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"metakeywords",className:"block text-sm font-medium text-gray-700",children:"Meta Keywords"}),r.jsx("input",{type:"text",id:"metakeywords",...b("metakeywords"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700",children:"URL"}),r.jsx("input",{type:"url",id:"url",...b("url",{pattern:{value:/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,message:"Invalid URL format"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),y.url&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.url.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"Priority"}),r.jsx("input",{type:"number",id:"priority",...b("priority",{min:{value:0,message:"Priority must be a non-negative number"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),y.priority&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.priority.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"otherMeta",className:"block text-sm font-medium text-gray-700",children:"Other Meta"}),r.jsx("textarea",{id:"otherMeta",...b("otherMeta"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsx("div",{className:"pt-4",children:r.jsx("button",{type:"submit",disabled:w,className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 \n              disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Processing...":N?"Update Category":"Add Category"})})]})]})};export{l as default};
