import{bk as e,bl as s,bm as t,j as r}from"./main-BcUd3ASm.js";import{g as o,d as a,r as i}from"./vendor-router-CaZtIe2_.js";import{b as d}from"./index.esm-CJw2PcRb.js";import"./vendor-react-DD_RYU77.js";import"./vendor-utils-CfKmydC0.js";const l=()=>{const{id:l}=o(),n=a(),[m,{isLoading:c}]=e(),[u,{isLoading:x}]=s(),{data:g,isLoading:b}=t(l,{skip:!l}),{register:p,handleSubmit:y,formState:{errors:h},reset:f,setValue:j}=d();i.useEffect((()=>{g&&Object.keys(g).forEach((e=>{j(e,g[e])}))}),[g,j]);const w=c||x||b,N=!!l;return r.jsxs("div",{className:"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:N?"Update Category":"Add Category"}),w?r.jsx("div",{className:"text-center text-gray-600",children:"Loading..."}):r.jsxs("form",{onSubmit:y((async e=>{try{const s={...e,priority:e.priority?Number(e.priority):void 0};let t;t=l?await u({id:l,categoryData:s}).unwrap():await m(s).unwrap(),f(),n("/blog-category-table",{replace:!0})}catch(s){}})),className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:["Category ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"category",...p("category",{required:"Category is required",minLength:{value:2,message:"Category must be at least 2 characters"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),h.category&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.category.message})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700",children:["Slug ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",id:"slug",...p("slug",{required:"Slug is required",pattern:{value:/^[a-z0-9-]+$/,message:"Slug must be lowercase, numbers, and hyphens only"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),h.slug&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.slug.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"metatitle",className:"block text-sm font-medium text-gray-700",children:"Meta Title"}),r.jsx("input",{type:"text",id:"metatitle",...p("metatitle"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"metadescription",className:"block text-sm font-medium text-gray-700",children:"Meta Description"}),r.jsx("textarea",{id:"metadescription",...p("metadescription"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"metakeywords",className:"block text-sm font-medium text-gray-700",children:"Meta Keywords"}),r.jsx("input",{type:"text",id:"metakeywords",...p("metakeywords"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700",children:"URL"}),r.jsx("input",{type:"url",id:"url",...p("url",{pattern:{value:/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,message:"Invalid URL format"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),h.url&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.url.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"Priority"}),r.jsx("input",{type:"number",id:"priority",...p("priority",{min:{value:0,message:"Priority must be a non-negative number"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),h.priority&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.priority.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"otherMeta",className:"block text-sm font-medium text-gray-700",children:"Other Meta"}),r.jsx("textarea",{id:"otherMeta",...p("otherMeta"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsx("div",{className:"pt-4",children:r.jsx("button",{type:"submit",disabled:w,className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 \r\n              disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Processing...":N?"Update Category":"Add Category"})})]})]})};export{l as default};
//# sourceMappingURL=BlogCategoryForm-DfWbaSs3.js.map
