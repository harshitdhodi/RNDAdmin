{"version":3,"file":"BlogCategoryTable-BIYpZm4E.js","sources":["../../src/BlogCategory/BlogCategoryTable.jsx"],"sourcesContent":["'use client'\r\n\r\nimport React, { useEffect } from 'react'\r\nimport { Table, Button, Space, Spin, Popconfirm, message } from 'antd'\r\nimport { EditOutlined, DeleteOutlined, PlusOutlined } from '@ant-design/icons'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { useDeleteCategoryMutation, useGetAllCategoriesQuery } from '@/slice/blog/blogCategory'\r\n\r\nconst BlogCategory = () => {\r\n  const navigate = useNavigate()\r\n  const { data: categories, error, isLoading, refetch } = useGetAllCategoriesQuery()\r\n  const [deleteCategory, { isLoading: isDeleting }] = useDeleteCategoryMutation()\r\nconsole.log(categories)\r\n  useEffect(() => {\r\n    refetch()\r\n  }, [refetch])\r\n\r\n  const handleEdit = (id) => {\r\n    navigate(`/edit-blog-category-form/${id}`)\r\n  }\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await deleteCategory(id).unwrap()\r\n      message.success('Category deleted successfully')\r\n      refetch()\r\n    } catch (error) {\r\n      message.error('Failed to delete category')\r\n    }\r\n  }\r\n\r\n  if (isLoading) return <Spin size=\"large\" />\r\n\r\n  if (error) return <div>Error: {error.message || 'An error occurred'}</div>\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Category',\r\n      dataIndex: 'category',\r\n      key: 'category',\r\n    },\r\n    {\r\n      title: 'Actions',\r\n      key: 'actions',\r\n      render: (_, record) => (\r\n        <Space size=\"middle\">\r\n          <Button\r\n            type=\"primary\"\r\n            icon={<EditOutlined />}\r\n            onClick={() => handleEdit(record._id)}\r\n          />\r\n          <Popconfirm\r\n            title=\"Are you sure to delete this category?\"\r\n            onConfirm={() => handleDelete(record._id)}\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n          >\r\n            <Button\r\n              type=\"danger\"\r\n              icon={<DeleteOutlined />}\r\n              loading={isDeleting}\r\n            />\r\n          </Popconfirm>\r\n        </Space>\r\n      ),\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex justify-between  p-5 mb-4\">\r\n        <div>\r\n          <h2 className='text-2xl font-semibold'>Blog Categories</h2>\r\n        </div>\r\n        <Link to=\"/blog-category-form\">\r\n          <Button type=\"primary\" icon={<PlusOutlined />}>\r\n            Add Category\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n      <Table\r\n        columns={columns}\r\n        dataSource={categories || []}\r\n        rowKey=\"_id\"\r\n        bordered\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BlogCategory\r\n"],"names":["BlogCategory","navigate","useNavigate","data","categories","error","isLoading","refetch","useGetAllCategoriesQuery","deleteCategory","isDeleting","useDeleteCategoryMutation","useEffect","jsx","Spin","size","jsxs","children","message","columns","title","dataIndex","key","render","_","record","Space","Button","type","icon","EditOutlined","onClick","handleEdit","id","_id","Popconfirm","onConfirm","async","unwrap","success","handleDelete","okText","cancelText","DeleteOutlined","loading","className","Link","to","PlusOutlined","Table","dataSource","rowKey","bordered"],"mappings":"q+BAQA,MAAMA,EAAe,KACnB,MAAMC,EAAWC,KACTC,KAAMC,EAAAC,MAAYA,YAAOC,EAAWC,QAAAA,GAAYC,KACjDC,GAAkBH,UAAWI,IAAgBC,IAEpDC,EAAAA,WAAU,KACAL,GAAA,GACP,CAACA,IAgBJ,GAAID,EAAW,OAAQO,EAAAA,IAAAC,EAAA,CAAKC,KAAK,UAE7B,GAAAV,EAAc,OAAAW,EAAAA,KAAC,MAAI,CAAAC,SAAA,CAAA,UAAQZ,EAAMa,SAAW,uBAEhD,MAAMC,EAAU,CACd,CACEC,MAAO,WACPC,UAAW,WACXC,IAAK,YAEP,CACEF,MAAO,UACPE,IAAK,UACLC,OAAQ,CAACC,EAAGC,IACTT,EAAAA,KAAAU,EAAA,CAAMX,KAAK,SACVE,SAAA,CAAAJ,EAAAA,IAACc,EAAA,CACCC,KAAK,UACLC,WAAOC,EAAa,IACpBC,QAAS,KAAMC,OAhCLC,EAgCgBR,EAAOS,SA/BhCjC,EAAA,4BAA4BgC,KADpB,IAACA,CAgC0B,IAEtCpB,EAAAA,IAACsB,EAAA,CACCf,MAAM,wCACNgB,UAAW,IAhCAC,OAAOJ,IACtB,UACIxB,EAAewB,GAAIK,SACzBpB,EAAQqB,QAAQ,iCACRhC,UACDF,GACPa,EAAQb,MAAM,4BAA2B,GA0BlBmC,CAAaf,EAAOS,KACrCO,OAAO,MACPC,WAAW,KAEXzB,SAAAJ,EAAAA,IAACc,EAAA,CACCC,KAAK,SACLC,WAAOc,EAAe,IACtBC,QAASlC,WASnB,OAAAM,EAAAA,KAAC,MAAI,CAAA6B,UAAU,YACb5B,SAAA,CAACD,EAAAA,KAAA,MAAA,CAAI6B,UAAU,iCACb5B,SAAA,CAAAJ,EAAAA,IAAC,OACCI,SAACJ,EAAAA,IAAA,KAAA,CAAGgC,UAAU,yBAAyB5B,+BAExCJ,EAAAA,IAAAiC,EAAA,CAAKC,GAAG,sBACP9B,SAACJ,EAAAA,IAAAc,EAAA,CAAOC,KAAK,UAAUC,KAAMhB,EAAAA,IAACmC,EAAa,CAAA,GAAI/B,+BAKnDJ,EAAAA,IAACoC,EAAA,CACC9B,UACA+B,WAAY9C,GAAc,GAC1B+C,OAAO,MACPC,UAAQ,MAEZ"}