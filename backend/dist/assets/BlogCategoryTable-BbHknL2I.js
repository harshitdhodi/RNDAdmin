import{a5 as e,bj as s,j as r,B as a,D as i,l as t,m as o,o as c,bc as l}from"./main-BcUd3ASm.js";import{d as n,r as d,L as m}from"./vendor-router-CaZtIe2_.js";import{B as j}from"./react-toastify.esm-CrOn1nFw.js";import{T as x}from"./table-DnBX1p3B.js";import{C as h}from"./card-DKPCnjx_.js";import{P as f}from"./plus-DdATqG_B.js";import{P as u}from"./pencil-QP0ylATY.js";import{T as p}from"./trash-2-D2atH8Kb.js";import"./vendor-react-DD_RYU77.js";import"./vendor-utils-CfKmydC0.js";const g=()=>{const g=n(),{data:y,error:v,isLoading:C,refetch:N}=e(),[w,{isLoading:b}]=s();d.useEffect((()=>{N()}),[N]);if(C)return r.jsx("div",{className:"flex justify-center p-5",children:"Loading..."});if(v)return r.jsxs("div",{className:"text-red-500",children:["Error: ",v.message||"An error occurred"]});const A=[{header:"Category",accessorKey:"category"},{header:"Actions",id:"actions",cell:({row:e})=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx(a,{size:"icon",variant:"outline",onClick:()=>{return s=e.original._id,void g(`/edit-blog-category-form/${s}`);var s},children:r.jsx(u,{className:"h-4 w-4"})}),r.jsxs(i,{children:[r.jsx(t,{asChild:!0,children:r.jsx(a,{size:"icon",variant:"destructive",children:r.jsx(p,{className:"h-4 w-4"})})}),r.jsxs(o,{children:[r.jsx(c,{children:"Confirm Deletion"}),r.jsx(l,{children:"Are you sure you want to delete this category?"}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(a,{variant:"outline",children:"Cancel"}),r.jsx(a,{variant:"destructive",onClick:()=>(async e=>{try{await w(e).unwrap(),j({title:"Success",description:"Category deleted successfully"}),N()}catch(s){j({title:"Error",description:"Failed to delete category",variant:"destructive"})}})(e.original._id),children:"Delete"})]})]})]})]})}];return r.jsxs(h,{className:"p-5 space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:"Blog Categories"}),r.jsx(m,{to:"/blog-category-form",children:r.jsxs(a,{children:[r.jsx(f,{className:"h-4 w-4 mr-2"})," Add Category"]})})]}),r.jsx(x,{columns:A,data:y||[]})]})};export{g as default};
//# sourceMappingURL=BlogCategoryTable-BbHknL2I.js.map
