{"version":3,"file":"BlogCategoryTable-BbHknL2I.js","sources":["../../src/BlogCategory/BlogCategoryTable.jsx"],"sourcesContent":["'use client'\r\n\r\nimport React, { useEffect } from 'react'\r\nimport { toast } from 'react-toastify'\r\nimport { Table } from '@/components/ui/table'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Dialog, DialogTrigger, DialogContent, DialogTitle, DialogDescription } from '@/components/ui/dialog'\r\nimport { Card } from '@/components/ui/card'\r\nimport { Pencil, Trash2, Plus } from 'lucide-react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { useDeleteCategoryMutation, useGetAllCategoriesQuery } from '@/slice/blog/blogCategory'\r\n\r\nconst BlogCategory = () => {\r\n  const navigate = useNavigate()\r\n  const { data: categories, error, isLoading, refetch } = useGetAllCategoriesQuery()\r\n  const [deleteCategory, { isLoading: isDeleting }] = useDeleteCategoryMutation()\r\n\r\n\r\n  useEffect(() => {\r\n    refetch()\r\n  }, [refetch])\r\n\r\n  const handleEdit = (id) => {\r\n    navigate(`/edit-blog-category-form/${id}`)\r\n  }\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await deleteCategory(id).unwrap()\r\n      toast({ title: 'Success', description: 'Category deleted successfully' })\r\n      refetch()\r\n    } catch (error) {\r\n      toast({ title: 'Error', description: 'Failed to delete category', variant: 'destructive' })\r\n    }\r\n  }\r\n\r\n  if (isLoading) return <div className='flex justify-center p-5'>Loading...</div>\r\n  if (error) return <div className='text-red-500'>Error: {error.message || 'An error occurred'}</div>\r\n\r\n  const columns = [\r\n    {\r\n      header: 'Category',\r\n      accessorKey: 'category',\r\n    },\r\n    {\r\n      header: 'Actions',\r\n      id: 'actions',\r\n      cell: ({ row }) => (\r\n        <div className='flex gap-2'>\r\n          <Button size='icon' variant='outline' onClick={() => handleEdit(row.original._id)}>\r\n            <Pencil className='h-4 w-4' />\r\n          </Button>\r\n          <Dialog>\r\n            <DialogTrigger asChild>\r\n              <Button size='icon' variant='destructive'>\r\n                <Trash2 className='h-4 w-4' />\r\n              </Button>\r\n            </DialogTrigger>\r\n            <DialogContent>\r\n              <DialogTitle>Confirm Deletion</DialogTitle>\r\n              <DialogDescription>Are you sure you want to delete this category?</DialogDescription>\r\n              <div className='flex justify-end space-x-2'>\r\n                <Button variant='outline'>Cancel</Button>\r\n                <Button variant='destructive' onClick={() => handleDelete(row.original._id)}>Delete</Button>\r\n              </div>\r\n            </DialogContent>\r\n          </Dialog>\r\n        </div>\r\n      ),\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <Card className='p-5 space-y-4'>\r\n      <div className='flex justify-between items-center'>\r\n        <h2 className='text-2xl font-semibold'>Blog Categories</h2>\r\n        <Link to='/blog-category-form'>\r\n          <Button>\r\n            <Plus className='h-4 w-4 mr-2' /> Add Category\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n      <Table columns={columns} data={categories || []} />\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default BlogCategory\r\n"],"names":["BlogCategory","navigate","useNavigate","data","categories","error","isLoading","refetch","useGetAllCategoriesQuery","deleteCategory","isDeleting","useDeleteCategoryMutation","useEffect","jsx","className","children","jsxs","message","columns","header","accessorKey","id","cell","row","Button","size","variant","onClick","handleEdit","original","_id","Pencil","Dialog","DialogTrigger","asChild","Trash2","DialogContent","DialogTitle","DialogDescription","async","unwrap","toast","title","description","handleDelete","Card","Link","to","Plus","Table"],"mappings":"oeAYA,MAAMA,EAAe,KACnB,MAAMC,EAAWC,KACTC,KAAMC,EAAAC,MAAYA,YAAOC,EAAWC,QAAAA,GAAYC,KACjDC,GAAkBH,UAAWI,IAAgBC,IAGpDC,EAAAA,WAAU,KACAL,GAAA,GACP,CAACA,IAgBJ,GAAID,EAAkB,OAAAO,EAAAA,IAAC,MAAI,CAAAC,UAAU,0BAA0BC,SAAU,eACzE,GAAIV,EAAO,OAAQW,OAAA,MAAA,CAAIF,UAAU,eAAeC,SAAA,CAAA,UAAQV,EAAMY,SAAW,uBAEzE,MAAMC,EAAU,CACd,CACEC,OAAQ,WACRC,YAAa,YAEf,CACED,OAAQ,UACRE,GAAI,UACJC,KAAM,EAAGC,SACNP,EAAAA,KAAA,MAAA,CAAIF,UAAU,aACbC,SAAA,CAAAF,MAACW,GAAOC,KAAK,OAAOC,QAAQ,UAAUC,QAAS,KAAMC,OA3BzCP,EA2BoDE,EAAIM,SAASC,SA1B1E7B,EAAA,4BAA4BoB,KADpB,IAACA,CA4BV,EAAAN,SAAAF,EAAAA,IAACkB,EAAO,CAAAjB,UAAU,qBAEnBkB,EACC,CAAAjB,SAAA,CAAAF,MAACoB,EAAc,CAAAC,SAAO,EACpBnB,SAAAF,EAAAA,IAACW,GAAOC,KAAK,OAAOC,QAAQ,cAC1BX,SAACF,EAAAA,IAAAsB,EAAA,CAAOrB,UAAU,uBAGrBsB,EACC,CAAArB,SAAA,CAAAF,EAAAA,IAACwB,GAAYtB,SAAgB,qBAC7BF,EAAAA,IAACyB,GAAkBvB,SAA8C,mDACjEC,EAAAA,KAAC,MAAI,CAAAF,UAAU,6BACbC,SAAA,CAACF,EAAAA,IAAAW,EAAA,CAAOE,QAAQ,UAAUX,SAAM,WAChCF,EAAAA,IAACW,EAAO,CAAAE,QAAQ,cAAcC,QAAS,IArChCY,OAAOlB,IACtB,UACIZ,EAAeY,GAAImB,SACzBC,EAAM,CAAEC,MAAO,UAAWC,YAAa,kCAC/BpC,UACDF,GACPoC,EAAM,CAAEC,MAAO,QAASC,YAAa,4BAA6BjB,QAAS,eAAe,GA+BnCkB,CAAarB,EAAIM,SAASC,KAAMf,SAAM,yBAU/F,OAAAC,EAAAA,KAAC6B,EAAK,CAAA/B,UAAU,gBACdC,SAAA,CAACC,EAAAA,KAAA,MAAA,CAAIF,UAAU,oCACbC,SAAA,CAACF,EAAAA,IAAA,KAAA,CAAGC,UAAU,yBAAyBC,SAAe,oBACrDF,MAAAiC,EAAA,CAAKC,GAAG,sBACPhC,gBAACS,EACC,CAAAT,SAAA,CAACF,EAAAA,IAAAmC,EAAA,CAAKlC,UAAU,iBAAiB,8BAItCmC,EAAM,CAAA/B,UAAkBf,KAAMC,GAAc,OAC/C"}