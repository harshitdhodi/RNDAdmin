import{bn as s,bo as e,j as i,bp as a,B as r,a7 as l,D as n,l as d,m as c}from"./main-BQqr2_19.js";import{d as t,r as o,L as j}from"./vendor-router-DoRotgOs.js";import{C as x,a as m}from"./card-CPQ_AIkA.js";import{T as h,a as p,b as u,c as f,d as v,e as g}from"./table-C7XKYQT1.js";import{P as b}from"./plus-C_FNkNo2.js";import{P as N}from"./pencil-C2uD4Ipu.js";import{T as w}from"./trash-CQ6G8Kfo.js";import"./vendor-react-DD_RYU77.js";import"./vendor-utils-CfKmydC0.js";const y=()=>{const{data:y,error:_,isLoading:C,refetch:z}=s(),[D,{isLoading:L}]=e(),k=t(),[A,B]=o.useState({});if(C)return i.jsx(a,{className:"h-48 w-full"});if(_)return i.jsxs("div",{children:["Error: ",_.message||"An error occurred"]});return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4 p-5",children:[i.jsx("h2",{className:"text-2xl font-semibold",children:"Blogs"}),i.jsx(j,{to:"/blog-form",children:i.jsxs(r,{className:"flex items-center gap-2",children:[i.jsx(b,{size:16})," Add Blog"]})})]}),i.jsx(x,{children:i.jsx(m,{children:i.jsxs(h,{children:[i.jsx(p,{children:i.jsxs(u,{children:[i.jsx(f,{children:"Title"}),i.jsx(f,{children:"Date"}),i.jsx(f,{children:"Details"}),i.jsx(f,{children:"Images"}),i.jsx(f,{children:"Actions"})]})}),i.jsx(v,{children:y?.map((s=>i.jsxs(u,{children:[i.jsx(g,{className:"font-semibold",children:s.title}),i.jsx(g,{children:s.date}),i.jsxs(g,{children:[i.jsx("div",{className:l("overflow-hidden",A[s._id]?"max-h-none":"max-h-20"),dangerouslySetInnerHTML:{__html:s.details}}),i.jsx(r,{variant:"link",className:"text-blue-600 p-0",onClick:()=>{return e=s._id,void B((s=>({...s,[e]:!s[e]})));var e},children:A[s._id]?"Show Less":"Read More"})]}),i.jsx(g,{children:s.image?.length?s.image.map(((s,e)=>i.jsx("img",{src:`/api/image/download/${s}`,alt:"Blog",className:"w-12 h-12 object-cover rounded"},e))):i.jsx("span",{className:"text-gray-500",children:"No Image"})}),i.jsx(g,{children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(r,{variant:"outline",size:"icon",onClick:()=>k(`/edit-blog-form/${s._id}`),children:i.jsx(N,{size:16})}),i.jsxs(n,{children:[i.jsx(d,{asChild:!0,children:i.jsx(r,{variant:"destructive",size:"icon",children:i.jsx(w,{size:16})})}),i.jsxs(c,{children:[i.jsx("p",{children:"Are you sure you want to delete this blog?"}),i.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[i.jsx(r,{variant:"outline",children:"Cancel"}),i.jsx(r,{variant:"destructive",onClick:()=>(async s=>{try{await D(s).unwrap(),z()}catch(e){}})(s._id),children:"Delete"})]})]})]})]})})]},s._id)))})]})})})]})};export{y as default};
//# sourceMappingURL=BlogPage-DYJBSxEz.js.map
