import{bt as e,bu as i,j as t}from"./main-DeRxjK88.js";import{d as r,r as s,L as o}from"./vendor-router-Bu4EHm1B.js";import{B as d}from"./index-lUiyPlMq.js";import{R as a}from"./PlusOutlined-5v_q8HFA.js";import{F as n}from"./Table-BZaWXI2p.js";import{T as l}from"./index-YLo9zIco.js";import{I as m}from"./index-DZQONPs0.js";import{R as j}from"./EditOutlined-hcgcOCju.js";import{P as c}from"./index-BPSI1-Ia.js";import{R as x}from"./DeleteOutlined-BpoFncVM.js";import"./vendor-react-CI5aWZjI.js";import"./vendor-utils-BfOc9lHv.js";import"./toArray-DkI11MDQ.js";import"./addEventListener-BUKQhVN_.js";import"./index-j6PXCaBg.js";import"./EllipsisOutlined-L4j7-ai9.js";import"./dropdown-B7KEEEnN.js";import"./getAllowClear-exXUluB6.js";import"./CheckOutlined-3fI3nOal.js";import"./Input-BufppJmu.js";import"./index-DoSF0nZj.js";import"./index-VFidPMY_.js";import"./TextArea-BEMUKMsu.js";import"./EyeOutlined-B2vwqoE1.js";import"./index-Bz7nO4c4.js";import"./index-DRGG9HZA.js";import"./fade-C0XPHGae.js";import"./ExclamationCircleFilled-DZysw_83.js";import"./ActionButton-xPc0Gc43.js";const{Text:p}=l,h=()=>{const{data:l,error:h,isLoading:u,refetch:g}=e(),[f,{isLoading:y}]=i(),v=r(),[w,b]=s.useState({});if(u)return t.jsx("div",{children:"Loading..."});if(h)return t.jsxs("div",{children:["Error: ",h.message||"An error occurred"]});const k=[{title:"Title",dataIndex:"title",key:"title",width:150,render:e=>t.jsx(p,{strong:!0,children:e})},{title:"Date",dataIndex:"date",key:"date",width:50},{title:"Details",dataIndex:"details",key:"details",render:(e,i)=>t.jsxs("div",{children:[t.jsx("div",{style:{maxHeight:w[i._id]?"none":"5em",overflow:"hidden",position:"relative"},dangerouslySetInnerHTML:{__html:e}}),t.jsx(d,{type:"link",onClick:()=>{return e=i._id,void b((i=>({...i,[e]:!i[e]})));var e},size:"small",children:w[i._id]?"Show Less":"Read More"})]})},{title:"Images",dataIndex:"image",key:"image",width:100,render:e=>e&&e.length>0?e.map(((e,i)=>t.jsx(m,{src:`/api/image/download/${e}`,alt:`Blog Image ${i+1}`,width:50,height:50,style:{objectFit:"cover",borderRadius:"5px"}},i))):t.jsx(p,{type:"secondary",children:"No Image"})},{title:"Actions",key:"actions",width:150,render:(e,i)=>t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(d,{icon:t.jsx(j,{}),onClick:()=>v(`/edit-blog-form/${i._id}`)}),t.jsx(c,{title:"Are you sure you want to delete this blog?",onConfirm:()=>(async e=>{try{await f(e).unwrap(),g()}catch(i){}})(i._id),okText:"Yes",cancelText:"No",children:t.jsx(d,{danger:!0,icon:t.jsx(x,{})})})]})}];return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between mb-4 p-5",children:[t.jsx("div",{children:t.jsx("h2",{className:"text-2xl font-semibold",children:"Blogs"})}),t.jsx(o,{to:"/blog-form",children:t.jsx(d,{type:"primary",icon:t.jsx(a,{}),children:"Add Blog"})})]}),t.jsx(n,{columns:k,dataSource:l,rowKey:"_id",pagination:{pageSize:5}})]})};export{h as default};
//# sourceMappingURL=BlogPage-en9AOtWZ.js.map
