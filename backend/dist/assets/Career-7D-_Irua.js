import{r as m,j as e}from"./react-DKICu8bO.js";import{aZ as R,a as B,L as r,I as d,T as D,B as b}from"./index-CDFtkn6X.js";import{B as P}from"./Banner-DgGUaamM.js";import{a as F}from"./axios-DXsv3KKR.js";import{R as T}from"./react-google-recaptcha-DSix7s8K.js";import{u as q,L as E}from"./react-router-B9QVkYva.js";import"./classnames-Bv6oJzD9.js";import"./react-dom-BBS6HuAW.js";import"./scheduler-CKyTKYc2.js";import"./react-redux-BrRfTdeB.js";import"./use-sync-external-store-D0ivhzzy.js";import"./@reduxjs-B5J9SSA5.js";import"./redux-DITMfSWq.js";import"./immer-fBqQtvEc.js";import"./redux-thunk-ClJT1hhx.js";import"./reselect-C27TLnWV.js";import"./js-cookie-Cz0CWeBA.js";import"./@radix-ui-BlrBCj0C.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-fXbmorz6.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-C9fmXXva.js";import"./react-style-singleton-DKBZmuKg.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-C10EJNOT.js";import"./use-callback-ref-BoKxM4XI.js";import"./@floating-ui-8J-daYO3.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./lucide-D7hRWJEP.js";import"./@syncfusion-BIAkhmGL.js";import"./cookie--_YQFYBD.js";import"./prop-types-D44m66iB.js";import"./react-async-script-CU3EVY73.js";import"./hoist-non-react-statics-CsI8kKm_.js";import"./react-is-NfUKNnIv.js";const k="/assets/career-CkIT_sJc.jpg";function Ce(){const[s,u]=m.useState({name:"",address:"",email:"",contactNo:"",postAppliedFor:""}),[x,h]=m.useState(null),[g,f]=m.useState(!1),[C,j]=m.useState(null),[U,{isLoading:v}]=R(),A=q().pathname.replace(/^\//,"")||"career",{data:p,isLoading:w}=B(A),[c,L]=m.useState(null);m.useEffect(()=>{F.get("/api/careerInfo").then(a=>{a.data.length>0&&L(a.data[0])}).catch(a=>{console.error("Error fetching career info:",a)})},[]);const i=a=>{const{id:t,value:l}=a.target;u(o=>({...o,[t]:l}))},S=a=>{const t=a.target.files[0],l=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],o=5*1024*1024;if(t){if(!l.includes(t.type)){alert("Please upload only PDF, DOC, or DOCX files"),a.target.value=null;return}if(t.size>o){alert("File size must be less than 5MB"),a.target.value=null;return}h(t)}},N=a=>{a.preventDefault(),u({name:"",address:"",email:"",contactNo:"",postAppliedFor:""}),h(null)},I=async a=>{var l,o;if(a.preventDefault(),!C){alert("Please complete the reCAPTCHA");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)){alert("Please enter a valid email address");return}try{f(!0);const n=new FormData;Object.keys(s).forEach(y=>{n.append(y,s[y])}),x&&n.append("resumeFile",x),(await F.post("/api/career/add",n,{headers:{"Content-Type":"multipart/form-data"}})).status===200&&(alert("Application submitted successfully!"),N(a),a.target.reset(),j(null))}catch(n){alert("Failed to submit application: "+((o=(l=n.response)==null?void 0:l.data)==null?void 0:o.message)||n.message)}finally{f(!1)}};return e.jsxs(e.Fragment,{children:[w?e.jsx("div",{children:"Loading banner..."}):e.jsx(P,{imageUrl:p&&p.length>0?`/api/image/download/${p[0].image}`:k}),e.jsxs("div",{className:"sm:max-w-[75rem] w-full mx-auto",children:[e.jsx("nav",{className:"py-4 px-4 sm:px-0 md:px-6",children:e.jsxs("div",{className:"flex border-b border-gray-300 pb-4 items-center space-x-2 text-sm",children:[e.jsx(E,{to:"/",className:"text-gray-600 hover:text-gray-900",children:"Home"}),e.jsx("span",{className:"text-gray-400",children:"Â»"}),e.jsx("span",{className:"text-orange-500",children:"Careers"})]})}),e.jsxs("div",{className:"mb-7 px-4 md:px-6 sm:px-0",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Careers"}),e.jsx("div",{className:"bg-orange-500 h-1 w-12"})]}),c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:c.info}})}),e.jsxs("div",{className:"grid md:grid-cols-2 w-full gap-7 px-4 md:px-6 sm:px-0",children:[e.jsxs("form",{className:"space-y-6 w-full",onSubmit:I,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"name",children:"Name*"}),e.jsx(d,{id:"name",required:!0,className:"rounded-none",value:s.name,onChange:i,maxLength:100})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"address",children:"Address*"}),e.jsx(D,{id:"address",required:!0,className:"rounded-none",value:s.address,onChange:i,maxLength:500})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"email",children:"Email*"}),e.jsx(d,{id:"email",type:"email",required:!0,className:"rounded-none",value:s.email,onChange:i,maxLength:100})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"contactNo",children:"Contact No*"}),e.jsx(d,{id:"contactNo",type:"tel",required:!0,className:"rounded-none",value:s.contactNo,onChange:i,maxLength:20})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"resume",children:"Upload Your resume*"}),e.jsx("div",{className:"text-sm text-gray-500",children:"[doc,docx OR pdf, max 5MB]"}),e.jsx(d,{id:"resume",type:"file",accept:".doc,.docx,.pdf",required:!0,className:"rounded-none",onChange:S})]}),e.jsx("div",{className:"md:hidden space-y-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"postAppliedFor",children:"Post Applied For*"}),e.jsx(d,{id:"postAppliedFor",required:!0,className:"rounded-none",value:s.postAppliedFor,onChange:i,maxLength:100})]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(b,{type:"submit",className:"bg-blue-700 rounded-sm text-lg py-6 hover:bg-blue-800",disabled:v||g,children:v||g?"Submitting...":"Submit"}),e.jsx(b,{type:"button",variant:"destructive",className:"bg-orange-500 hover:bg-orange-600 text-lg py-6 rounded-sm",onClick:N,children:"Reset"})]})]}),e.jsxs("div",{className:"hidden md:flex flex-col items-start justify-start w-full",children:[e.jsx("div",{className:"w-full ml-10 flex justify-center relative -top-8 items-center",children:e.jsx("img",{src:c.image?`/api/image/download/${c.image}`:"no-image",alt:"Career growth illustration",className:"object-contain w-full h-[80%]"})}),e.jsxs("div",{className:"space-y-2 w-full relative -top-24",children:[e.jsx(r,{htmlFor:"postAppliedFor",children:"Post Applied For*"}),e.jsx(d,{id:"postAppliedFor",required:!0,className:"rounded-none",value:s.postAppliedFor,onChange:i,maxLength:100})]}),e.jsx("div",{className:"space-y-2 w-full relative -top-20",children:e.jsx(T,{sitekey:"6LfRcrsqAAAAAI_53KTLkPZ_l-jthc1g2UrlrHtE",onChange:a=>j(a)})})]})]})]})]})]})}export{Ce as default};
