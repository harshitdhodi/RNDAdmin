import{bN as e,a,j as s,L as t,I as l,B as r}from"./main-DeRxjK88.js";import{r as i,u as n,L as d}from"./vendor-router-Bu4EHm1B.js";import{T as o}from"./textarea-BwEsUAMy.js";import{B as c}from"./Banner-BxsPUTcF.js";import{a as m}from"./vendor-utils-BfOc9lHv.js";import{R as p}from"./recaptcha-wrapper-BnrJxtm1.js";import"./vendor-react-CI5aWZjI.js";import"./index-B-CvGcig.js";function x(){const[x,u]=i.useState({name:"",address:"",email:"",contactNo:"",postAppliedFor:""}),[h,g]=i.useState(null),[j,f]=i.useState(!1),[v,N]=i.useState(null),[y,{isLoading:b}]=e(),F=n().pathname.replace(/^\//,"")||"career",{data:A,isLoading:C}=a(F),[w,L]=i.useState(null);i.useEffect((()=>{m.get("/api/careerInfo").then((e=>{e.data.length>0&&L(e.data[0])})).catch((e=>{}))}),[]);const P=e=>{const{id:a,value:s}=e.target;u((e=>({...e,[a]:s})))},S=e=>{e.preventDefault(),u({name:"",address:"",email:"",contactNo:"",postAppliedFor:""}),g(null)};return s.jsxs(s.Fragment,{children:[C?s.jsx("div",{children:"Loading banner..."}):s.jsx(c,{imageUrl:A&&A.length>0?`/api/image/download/${A[0].image}`:"/assets/career-CkIT_sJc.jpg"}),s.jsxs("div",{className:"sm:max-w-[75rem] w-full mx-auto",children:[s.jsx("nav",{className:"py-4 px-4 sm:px-0 md:px-6",children:s.jsxs("div",{className:"flex border-b border-gray-300 pb-4 items-center space-x-2 text-sm",children:[s.jsx(d,{to:"/",className:"text-gray-600 hover:text-gray-900",children:"Home"}),s.jsx("span",{className:"text-gray-400",children:"Â»"}),s.jsx("span",{className:"text-orange-500",children:"Careers"})]})}),s.jsxs("div",{className:"mb-7 px-4 md:px-6 sm:px-0",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Careers"}),s.jsx("div",{className:"bg-orange-500 h-1 w-12"})]}),w&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4",children:s.jsx("div",{dangerouslySetInnerHTML:{__html:w.info}})}),s.jsxs("div",{className:"grid md:grid-cols-2 w-full gap-7 px-4 md:px-6 sm:px-0",children:[s.jsxs("form",{className:"space-y-6 w-full",onSubmit:async e=>{if(e.preventDefault(),!v)return void alert("Please complete the reCAPTCHA");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.email))try{f(!0);const a=new FormData;Object.keys(x).forEach((e=>{a.append(e,x[e])})),h&&a.append("resumeFile",h);200===(await m.post("/api/career/add",a,{headers:{"Content-Type":"multipart/form-data"}})).status&&(alert("Application submitted successfully!"),S(e),e.target.reset(),N(null))}catch(a){alert("Failed to submit application: "+a.response?.data?.message||a.message)}finally{f(!1)}else alert("Please enter a valid email address")},children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(t,{htmlFor:"name",children:"Name*"}),s.jsx(l,{id:"name",required:!0,className:"rounded-none",value:x.name,onChange:P,maxLength:100})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(t,{htmlFor:"address",children:"Address*"}),s.jsx(o,{id:"address",required:!0,className:"rounded-none",value:x.address,onChange:P,maxLength:500})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(t,{htmlFor:"email",children:"Email*"}),s.jsx(l,{id:"email",type:"email",required:!0,className:"rounded-none",value:x.email,onChange:P,maxLength:100})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(t,{htmlFor:"contactNo",children:"Contact No*"}),s.jsx(l,{id:"contactNo",type:"tel",required:!0,className:"rounded-none",value:x.contactNo,onChange:P,maxLength:20})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(t,{htmlFor:"resume",children:"Upload Your resume*"}),s.jsx("div",{className:"text-sm text-gray-500",children:"[doc,docx OR pdf, max 5MB]"}),s.jsx(l,{id:"resume",type:"file",accept:".doc,.docx,.pdf",required:!0,className:"rounded-none",onChange:e=>{const a=e.target.files[0];if(a){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(a.type))return alert("Please upload only PDF, DOC, or DOCX files"),void(e.target.value=null);if(a.size>5242880)return alert("File size must be less than 5MB"),void(e.target.value=null);g(a)}}})]}),s.jsx("div",{className:"md:hidden space-y-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(t,{htmlFor:"postAppliedFor",children:"Post Applied For*"}),s.jsx(l,{id:"postAppliedFor",required:!0,className:"rounded-none",value:x.postAppliedFor,onChange:P,maxLength:100})]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(r,{type:"submit",className:"bg-blue-700 rounded-sm text-lg py-6 hover:bg-blue-800",disabled:b||j,children:b||j?"Submitting...":"Submit"}),s.jsx(r,{type:"button",variant:"destructive",className:"bg-orange-500 hover:bg-orange-600 text-lg py-6 rounded-sm",onClick:S,children:"Reset"})]})]}),s.jsxs("div",{className:"hidden md:flex flex-col items-start justify-start w-full",children:[s.jsx("div",{className:"w-full ml-10 flex justify-center relative -top-8 items-center",children:s.jsx("img",{src:w.image?`/api/image/download/${w.image}`:"no-image",alt:"Career growth illustration",className:"object-contain w-full h-[80%]"})}),s.jsxs("div",{className:"space-y-2 w-full relative -top-24",children:[s.jsx(t,{htmlFor:"postAppliedFor",children:"Post Applied For*"}),s.jsx(l,{id:"postAppliedFor",required:!0,className:"rounded-none",value:x.postAppliedFor,onChange:P,maxLength:100})]}),s.jsx("div",{className:"space-y-2 w-full relative -top-20",children:s.jsx(p,{sitekey:"6LfRcrsqAAAAAI_53KTLkPZ_l-jthc1g2UrlrHtE",onChange:e=>N(e)})})]})]})]})]})]})}export{x as default};
//# sourceMappingURL=Career-BeTJotMH.js.map
