import{bI as e,c as s,j as a,L as t,I as l,B as r}from"./main-BcUd3ASm.js";import{r as i,u as n,L as d}from"./vendor-router-CaZtIe2_.js";import{T as o}from"./textarea-BX_s7d6D.js";import{B as c}from"./Banner-M2hBwwTR.js";import{a as m}from"./vendor-utils-CfKmydC0.js";import{R as p}from"./recaptcha-wrapper-C8lNxihV.js";import"./vendor-react-DD_RYU77.js";import"./index-BLN2KrmS.js";function x(){const[x,u]=i.useState({name:"",address:"",email:"",contactNo:"",postAppliedFor:""}),[h,g]=i.useState(null),[j,f]=i.useState(!1),[v,N]=i.useState(null),[y,{isLoading:b}]=e(),F=n().pathname.replace(/^\//,"")||"career",{data:A,isLoading:C}=s(F),[w,L]=i.useState(null);i.useEffect((()=>{m.get("/api/careerInfo").then((e=>{e.data.length>0&&L(e.data[0])})).catch((e=>{}))}),[]);const S=e=>{const{id:s,value:a}=e.target;u((e=>({...e,[s]:a})))},P=e=>{e.preventDefault(),u({name:"",address:"",email:"",contactNo:"",postAppliedFor:""}),g(null)};return a.jsxs(a.Fragment,{children:[C?a.jsx("div",{children:"Loading banner..."}):a.jsx(c,{imageUrl:A&&A.length>0?`/api/image/download/${A[0].image}`:"/assets/career-CkIT_sJc.jpg"}),a.jsxs("div",{className:"sm:max-w-[75rem] w-full mx-auto",children:[a.jsx("nav",{className:"py-4 px-4 sm:px-0 md:px-6",children:a.jsxs("div",{className:"flex border-b border-gray-300 pb-4 items-center space-x-2 text-sm",children:[a.jsx(d,{to:"/",className:"text-gray-600 hover:text-gray-900",children:"Home"}),a.jsx("span",{className:"text-gray-400",children:"Â»"}),a.jsx("span",{className:"text-orange-500",children:"Careers"})]})}),a.jsxs("div",{className:"mb-7 px-4 md:px-6 sm:px-0",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Careers"}),a.jsx("div",{className:"bg-orange-500 h-1 w-12"})]}),w&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-4",children:a.jsx("div",{dangerouslySetInnerHTML:{__html:w.info}})}),a.jsxs("div",{className:"grid md:grid-cols-2 w-full gap-7 px-4 md:px-6 sm:px-0",children:[a.jsxs("form",{className:"space-y-6 w-full",onSubmit:async e=>{if(e.preventDefault(),!v)return void alert("Please complete the reCAPTCHA");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.email))try{f(!0);const s=new FormData;Object.keys(x).forEach((e=>{s.append(e,x[e])})),h&&s.append("resumeFile",h);200===(await m.post("/api/career/add",s,{headers:{"Content-Type":"multipart/form-data"}})).status&&(alert("Application submitted successfully!"),P(e),e.target.reset(),N(null))}catch(s){alert("Failed to submit application: "+s.response?.data?.message||s.message)}finally{f(!1)}else alert("Please enter a valid email address")},children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(t,{htmlFor:"name",children:"Name*"}),a.jsx(l,{id:"name",required:!0,className:"rounded-none",value:x.name,onChange:S,maxLength:100})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(t,{htmlFor:"address",children:"Address*"}),a.jsx(o,{id:"address",required:!0,className:"rounded-none",value:x.address,onChange:S,maxLength:500})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(t,{htmlFor:"email",children:"Email*"}),a.jsx(l,{id:"email",type:"email",required:!0,className:"rounded-none",value:x.email,onChange:S,maxLength:100})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(t,{htmlFor:"contactNo",children:"Contact No*"}),a.jsx(l,{id:"contactNo",type:"tel",required:!0,className:"rounded-none",value:x.contactNo,onChange:S,maxLength:20})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(t,{htmlFor:"resume",children:"Upload Your resume*"}),a.jsx("div",{className:"text-sm text-gray-500",children:"[doc,docx OR pdf, max 5MB]"}),a.jsx(l,{id:"resume",type:"file",accept:".doc,.docx,.pdf",required:!0,className:"rounded-none",onChange:e=>{const s=e.target.files[0];if(s){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(s.type))return alert("Please upload only PDF, DOC, or DOCX files"),void(e.target.value=null);if(s.size>5242880)return alert("File size must be less than 5MB"),void(e.target.value=null);g(s)}}})]}),a.jsx("div",{className:"md:hidden space-y-6",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(t,{htmlFor:"postAppliedFor",children:"Post Applied For*"}),a.jsx(l,{id:"postAppliedFor",required:!0,className:"rounded-none",value:x.postAppliedFor,onChange:S,maxLength:100})]})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(r,{type:"submit",className:"bg-blue-700 rounded-sm text-lg py-6 hover:bg-blue-800",disabled:b||j,children:b||j?"Submitting...":"Submit"}),a.jsx(r,{type:"button",variant:"destructive",className:"bg-orange-500 hover:bg-orange-600 text-lg py-6 rounded-sm",onClick:P,children:"Reset"})]})]}),a.jsxs("div",{className:"hidden md:flex flex-col items-start justify-start w-full",children:[a.jsx("div",{className:"w-full ml-10 flex justify-center relative -top-8 items-center",children:a.jsx("img",{src:w.image?`/api/image/download/${w.image}`:"no-image",alt:"Career growth illustration",className:"object-contain w-full h-[80%]"})}),a.jsxs("div",{className:"space-y-2 w-full relative -top-24",children:[a.jsx(t,{htmlFor:"postAppliedFor",children:"Post Applied For*"}),a.jsx(l,{id:"postAppliedFor",required:!0,className:"rounded-none",value:x.postAppliedFor,onChange:S,maxLength:100})]}),a.jsx("div",{className:"space-y-2 w-full relative -top-20",children:a.jsx(p,{sitekey:"6LfRcrsqAAAAAI_53KTLkPZ_l-jthc1g2UrlrHtE",onChange:e=>N(e)})})]})]})]})]})]})}export{x as default};
//# sourceMappingURL=Career-z56eSyzn.js.map
