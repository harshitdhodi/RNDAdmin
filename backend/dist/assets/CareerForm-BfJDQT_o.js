import{bN as e,bU as s,bV as a,j as t}from"./main-DeRxjK88.js";import{d as r,g as i,r as l}from"./vendor-router-Bu4EHm1B.js";import{F as o}from"./index--6LMyILo.js";import{B as n}from"./Breadcrumb-Dmow3_cy.js";import{C as d}from"./index-ZcF9gzk5.js";import{I as m}from"./index-BrOIVdwD.js";import{U as p,R as c}from"./index-D3J037dB.js";import{B as u}from"./index-lUiyPlMq.js";import{s as j}from"./index-lMP3hCbg.js";import"./vendor-react-CI5aWZjI.js";import"./vendor-utils-BfOc9lHv.js";import"./toArray-DkI11MDQ.js";import"./index-DRGG9HZA.js";import"./CheckCircleFilled-DiSUBvU5.js";import"./ExclamationCircleFilled-DZysw_83.js";import"./dropdown-B7KEEEnN.js";import"./EllipsisOutlined-L4j7-ai9.js";import"./Skeleton-3ezOyxdU.js";import"./PlusOutlined-5v_q8HFA.js";import"./getAllowClear-exXUluB6.js";import"./Input-BufppJmu.js";import"./EyeOutlined-B2vwqoE1.js";import"./TextArea-BEMUKMsu.js";import"./fade-C0XPHGae.js";import"./DeleteOutlined-BpoFncVM.js";import"./DownloadOutlined-DQEsT_id.js";import"./CheckOutlined-3fI3nOal.js";import"./InfoCircleFilled-D8dKuFWy.js";const x=()=>{const[x]=o.useForm(),h=r(),{id:b}=i(),f=!!b,[g,F]=l.useState([]),[A]=e(),[y]=s(),{data:C,isLoading:w}=a(b,{skip:!f});l.useEffect((()=>{f&&C?.data&&(x.setFieldsValue({name:C.data.name,email:C.data.email,contactNo:C.data.contactNo,address:C.data.address,postAppliedFor:C.data.postAppliedFor}),C.data.resumeFile&&F([{uid:"-1",name:C.data.resumeFile.split("/").pop(),status:"done",url:C.data.resumeFile}]))}),[C,x,f]);const I={beforeUpload:e=>("application/pdf"===e.type||j.error("You can only upload PDF files!"),!1),maxCount:1,fileList:g,onChange:({fileList:e})=>{F(e)}};return t.jsxs("div",{style:{padding:"20px"},children:[t.jsx(n,{items:[{title:t.jsx("span",{onClick:()=>h("/dashboard"),style:{cursor:"pointer"},children:"Dashboard"})},{title:t.jsx("span",{onClick:()=>h("/career-table"),style:{cursor:"pointer"},children:"Career Applications"})},{title:f?"Edit Application":"Add Application"}],style:{marginBottom:"16px"}}),t.jsx(d,{title:f?"Edit Application":"Add New Application",children:t.jsxs(o,{form:x,layout:"vertical",onFinish:async e=>{try{const s=new FormData;s.append("name",e.name),s.append("email",e.email),s.append("contactNo",e.contactNo),s.append("address",e.address),s.append("postAppliedFor",e.postAppliedFor),g[0]?.originFileObj&&s.append("resumeFile",g[0].originFileObj),f?(await y({id:b,formData:s}).unwrap(),j.success("Application updated successfully!")):(await A(s).unwrap(),j.success("Application submitted successfully!")),h("/career-table")}catch(s){j.error(s.message||"Something went wrong")}},disabled:w,children:[t.jsx(o.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter name"},{min:2,message:"Name must be at least 2 characters"}],children:t.jsx(m,{})}),t.jsx(o.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter email"},{type:"email",message:"Please enter a valid email"}],children:t.jsx(m,{})}),t.jsx(o.Item,{name:"contactNo",label:"Contact Number",rules:[{required:!0,message:"Please enter contact number"},{pattern:/^[0-9]{10}$/,message:"Please enter a valid 10-digit number"}],children:t.jsx(m,{})}),t.jsx(o.Item,{name:"address",label:"Address",rules:[{required:!0,message:"Please enter address"},{min:5,message:"Address must be at least 5 characters"}],children:t.jsx(m.TextArea,{rows:4})}),t.jsx(o.Item,{name:"postAppliedFor",label:"Post Applied For",rules:[{required:!0,message:"Please enter post applied for"}],children:t.jsx(m,{})}),t.jsx(o.Item,{name:"resumeFile",label:"Resume",rules:[{required:!f&&!g.length,message:"Please upload resume"}],children:t.jsx(p,{...I,children:t.jsx(u,{icon:t.jsx(c,{}),children:g.length?"Replace Resume":"Upload Resume"})})}),t.jsxs(o.Item,{children:[t.jsx(u,{type:"primary",htmlType:"submit",loading:w,children:f?"Update":"Submit"}),t.jsx(u,{style:{marginLeft:"10px"},onClick:()=>h("/career-table"),children:"Cancel"})]})]})})]})};export{x as default};
//# sourceMappingURL=CareerForm-BfJDQT_o.js.map
