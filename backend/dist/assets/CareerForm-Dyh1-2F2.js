import{d as e,e as s,C as r,f as t,U as i,B as a,s as o}from"./antd-CxduzDaN.js";import{r as l,j as m}from"./react-BfBsRgn0.js";import{aZ as p,b4 as n,b5 as c}from"./index-mCSb4W1J.js";import{P as d}from"./ant-design-icons-DoIDTG1a.js";import{a as j,b as u}from"./react-router-DUJjWq5j.js";import"./@ant-design-DttPmOfw.js";import"./rc-util-CQtTJgfq.js";import"./@babel-BfC2A0EA.js";import"./react-is-BaRe0U6l.js";import"./react-dom-DwrudmHt.js";import"./classnames-C3ovBj6j.js";import"./scheduler-BFk34ZWe.js";import"./@emotion-Czw0TW3x.js";import"./stylis-IVPcsLSI.js";import"./@ctrl-B2IeE8ye.js";import"./rc-motion-Cs3GDHoo.js";import"./@rc-component-BB24pTyE.js";import"./rc-resize-observer-DUJXZwxn.js";import"./resize-observer-polyfill-CzGuHLZU.js";import"./rc-dialog-BGKNmDMe.js";import"./rc-table-CybQOAzy.js";import"./rc-virtual-list-P8JqKX09.js";import"./rc-tree--ithDbGw.js";import"./rc-checkbox-bMXfL26q.js";import"./rc-pagination-CiqGXVR2.js";import"./rc-select-sVu4PbUz.js";import"./rc-overflow-73VxJI7O.js";import"./throttle-debounce-w9OM8Bxz.js";import"./rc-input-ByOKN0-r.js";import"./rc-tooltip-C1heEwdg.js";import"./rc-notification-D3ebMW8F.js";import"./rc-image-BIQJV_M3.js";import"./rc-textarea-DLkAnH0O.js";import"./copy-to-clipboard-Bgp_G7Oq.js";import"./toggle-selection-DUsDmMsR.js";import"./rc-upload-ClZE7meS.js";import"./rc-progress-bbq4uvV3.js";import"./rc-dropdown-C238bXH-.js";import"./rc-menu-CzbBjnhu.js";import"./rc-field-form-DaYAwFJ8.js";import"./scroll-into-view-if-needed-cNB78-hM.js";import"./compute-scroll-into-view-CJmtT4lq.js";import"./rc-picker-B5UDvhgZ.js";import"./rc-tabs-DG0zBL9k.js";import"./react-redux-DbBiFgqA.js";import"./use-sync-external-store-DdeJV4gQ.js";import"./@reduxjs-UCSEaN3g.js";import"./redux-C5Huw2aR.js";import"./immer-DgfQkf_7.js";import"./redux-thunk-B3S1iNVp.js";import"./reselect-BSOs5pU1.js";import"./js-cookie-BXEMiIsG.js";import"./@radix-ui-BWjeGzol.js";import"./aria-hidden-BHUiN-rI.js";import"./react-remove-scroll-yauc81_r.js";import"./tslib-Bc9CN1Ef.js";import"./react-remove-scroll-bar-BcxDecei.js";import"./react-style-singleton-C1QVuB2c.js";import"./get-nonce-BYiZHLe3.js";import"./use-sidecar-BA4C4RS7.js";import"./use-callback-ref-Cvx1xcTX.js";import"./@floating-ui-BSChQBl3.js";import"./class-variance-authority-DeOWI0hf.js";import"./clsx-BeLtu-UY.js";import"./tailwind-merge-D2VJQb_v.js";import"./lucide-D6BDVLHE.js";import"./axios-BoylL8Pu.js";import"./cookie-BUTH-fPQ.js";const x=()=>{const[x]=e.useForm(),b=j(),{id:g}=u(),h=!!g,[f,y]=l.useState([]),[F]=p(),[A]=n(),{data:v,isLoading:w}=c(g,{skip:!h});l.useEffect((()=>{h&&(null==v?void 0:v.data)&&(x.setFieldsValue({name:v.data.name,email:v.data.email,contactNo:v.data.contactNo,address:v.data.address,postAppliedFor:v.data.postAppliedFor}),v.data.resumeFile&&y([{uid:"-1",name:v.data.resumeFile.split("/").pop(),status:"done",url:v.data.resumeFile}]))}),[v,x,h]);const P={beforeUpload:e=>("application/pdf"===e.type||o.error("You can only upload PDF files!"),!1),maxCount:1,fileList:f,onChange:({fileList:e})=>{y(e)}};return m.jsxs("div",{style:{padding:"20px"},children:[m.jsx(s,{items:[{title:m.jsx("span",{onClick:()=>b("/dashboard"),style:{cursor:"pointer"},children:"Dashboard"})},{title:m.jsx("span",{onClick:()=>b("/career-table"),style:{cursor:"pointer"},children:"Career Applications"})},{title:h?"Edit Application":"Add Application"}],style:{marginBottom:"16px"}}),m.jsx(r,{title:h?"Edit Application":"Add New Application",children:m.jsxs(e,{form:x,layout:"vertical",onFinish:async e=>{var s;try{const r=new FormData;r.append("name",e.name),r.append("email",e.email),r.append("contactNo",e.contactNo),r.append("address",e.address),r.append("postAppliedFor",e.postAppliedFor),(null==(s=f[0])?void 0:s.originFileObj)&&r.append("resumeFile",f[0].originFileObj),h?(await A({id:g,formData:r}).unwrap(),o.success("Application updated successfully!")):(await F(r).unwrap(),o.success("Application submitted successfully!")),b("/career-table")}catch(r){o.error(r.message||"Something went wrong")}},disabled:w,children:[m.jsx(e.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter name"},{min:2,message:"Name must be at least 2 characters"}],children:m.jsx(t,{})}),m.jsx(e.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter email"},{type:"email",message:"Please enter a valid email"}],children:m.jsx(t,{})}),m.jsx(e.Item,{name:"contactNo",label:"Contact Number",rules:[{required:!0,message:"Please enter contact number"},{pattern:/^[0-9]{10}$/,message:"Please enter a valid 10-digit number"}],children:m.jsx(t,{})}),m.jsx(e.Item,{name:"address",label:"Address",rules:[{required:!0,message:"Please enter address"},{min:5,message:"Address must be at least 5 characters"}],children:m.jsx(t.TextArea,{rows:4})}),m.jsx(e.Item,{name:"postAppliedFor",label:"Post Applied For",rules:[{required:!0,message:"Please enter post applied for"}],children:m.jsx(t,{})}),m.jsx(e.Item,{name:"resumeFile",label:"Resume",rules:[{required:!h&&!f.length,message:"Please upload resume"}],children:m.jsx(i,{...P,children:m.jsx(a,{icon:m.jsx(d,{}),children:f.length?"Replace Resume":"Upload Resume"})})}),m.jsxs(e.Item,{children:[m.jsx(a,{type:"primary",htmlType:"submit",loading:w,children:h?"Update":"Submit"}),m.jsx(a,{style:{marginLeft:"10px"},onClick:()=>b("/career-table"),children:"Cancel"})]})]})})]})};export{x as default};
