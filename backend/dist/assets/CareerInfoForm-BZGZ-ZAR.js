import{d as r,e,I as s,U as t,B as o,T as i,s as a}from"./antd-CxduzDaN.js";import{r as c,j as m}from"./react-BfBsRgn0.js";import{J as n}from"./jodit-react-fql43Xjk.js";import{a as p}from"./axios-BoylL8Pu.js";import{P as l}from"./ant-design-icons-DoIDTG1a.js";import"./@ant-design-DttPmOfw.js";import"./rc-util-CQtTJgfq.js";import"./@babel-BfC2A0EA.js";import"./react-is-BaRe0U6l.js";import"./react-dom-DwrudmHt.js";import"./classnames-C3ovBj6j.js";import"./scheduler-BFk34ZWe.js";import"./@emotion-Czw0TW3x.js";import"./stylis-IVPcsLSI.js";import"./@ctrl-B2IeE8ye.js";import"./rc-motion-Cs3GDHoo.js";import"./@rc-component-BB24pTyE.js";import"./rc-resize-observer-DUJXZwxn.js";import"./resize-observer-polyfill-CzGuHLZU.js";import"./rc-dialog-BGKNmDMe.js";import"./rc-table-CybQOAzy.js";import"./rc-virtual-list-P8JqKX09.js";import"./rc-tree--ithDbGw.js";import"./rc-checkbox-bMXfL26q.js";import"./rc-pagination-CiqGXVR2.js";import"./rc-select-sVu4PbUz.js";import"./rc-overflow-73VxJI7O.js";import"./throttle-debounce-w9OM8Bxz.js";import"./rc-input-ByOKN0-r.js";import"./rc-tooltip-C1heEwdg.js";import"./rc-notification-D3ebMW8F.js";import"./rc-image-BIQJV_M3.js";import"./rc-textarea-DLkAnH0O.js";import"./copy-to-clipboard-Bgp_G7Oq.js";import"./toggle-selection-DUsDmMsR.js";import"./rc-upload-ClZE7meS.js";import"./rc-progress-bbq4uvV3.js";import"./rc-dropdown-C238bXH-.js";import"./rc-menu-CzbBjnhu.js";import"./rc-field-form-DaYAwFJ8.js";import"./scroll-into-view-if-needed-cNB78-hM.js";import"./compute-scroll-into-view-CJmtT4lq.js";import"./rc-picker-B5UDvhgZ.js";import"./rc-tabs-DG0zBL9k.js";const{Title:j}=i,d=()=>{const[i]=r.useForm(),[d,f]=c.useState(""),[u,h]=c.useState(null),[g,x]=c.useState(null),[b,I]=c.useState(null),y=()=>{p.get("/api/careerInfo").then((r=>{if(r.data.length>0){const e=r.data[0];I(e),f(e.info),i.setFieldsValue({info:e.info}),e.image&&x(`/api/image/download/${e.image}`)}})).catch((r=>{}))};c.useEffect((()=>{y()}),[i]);return m.jsxs("div",{children:[m.jsxs(e,{children:[m.jsx(e.Item,{href:"/dashboard",children:"Dashboard"}),m.jsx(e.Item,{children:"Career Info"})]}),m.jsx(j,{level:2,style:{margin:"16px 0"},children:"Career Info"}),m.jsxs(r,{form:i,onFinish:async r=>{const e=new FormData;e.append("info",d),u&&e.append("image",u);try{b?(await p.put(`/api/careerInfo/${b._id}`,e),a.success("Career info updated successfully"),y()):(await p.post("/api/careerInfo",e),a.success("Career info created successfully"),y())}catch(s){a.error("Error saving career info")}},layout:"vertical",children:[m.jsx(r.Item,{label:"Info",name:"info",rules:[{required:!0,message:"Please enter the info"}],children:m.jsx(n,{value:d,onChange:r=>{f(r)}})}),m.jsxs(r.Item,{label:"Image",name:"image",children:[g&&m.jsx(s,{width:200,src:g,alt:"Career Info Image"}),m.jsx(t,{beforeUpload:()=>!1,onChange:({file:r})=>{h(r),x(URL.createObjectURL(r))},maxCount:1,children:m.jsx(o,{icon:m.jsx(l,{}),children:"Select Image"})})]}),m.jsx(r.Item,{children:m.jsx(o,{type:"primary",htmlType:"submit",children:b?"Update":"Submit"})})]})]})};export{d as default};
