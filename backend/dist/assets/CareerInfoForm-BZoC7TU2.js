import{d as o,e as n,I as U,U as v,B as I,T as E,s as p}from"./antd-mtWlDmqY.js";import{r as a,j as e}from"./react-DKICu8bO.js";import{J as S}from"./jodit-react-B8oW82bi.js";import{a as c}from"./axios-DXsv3KKR.js";import{P as F}from"./ant-design-icons-CNhZ1eT-.js";import"./@ant-design-jkdqJqTn.js";import"./rc-util-C9ihiQ8l.js";import"./@babel-C_xKm-6V.js";import"./react-is-NfUKNnIv.js";import"./react-dom-BBS6HuAW.js";import"./classnames-Bv6oJzD9.js";import"./scheduler-CKyTKYc2.js";import"./@emotion-CW87jbl0.js";import"./stylis-OW4gUFyn.js";import"./@ctrl-DOFZgDuz.js";import"./rc-motion-D0k58WYE.js";import"./@rc-component-DJY3KRXL.js";import"./rc-resize-observer-h7CJ_t66.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./rc-dialog-CfVZmZCG.js";import"./rc-table-BJAsEMDh.js";import"./rc-virtual-list-OMMR-gr8.js";import"./rc-tree-aGCJh_41.js";import"./rc-checkbox-nRYcjTPl.js";import"./rc-pagination-ZKXeAm0h.js";import"./rc-select-RmeC3WgB.js";import"./rc-overflow-DEivB5rv.js";import"./throttle-debounce-CUWDS_la.js";import"./rc-input-CIUXRVU8.js";import"./rc-tooltip-Oavn6yow.js";import"./rc-notification-0md6QYDj.js";import"./rc-image-ClDwiN-j.js";import"./rc-textarea-CijmdGy3.js";import"./copy-to-clipboard-0rP7DRqq.js";import"./toggle-selection-DGa8lynz.js";import"./rc-upload-DlrdHvh1.js";import"./rc-progress-BVn0ZmF4.js";import"./rc-dropdown-D4AwxsUk.js";import"./rc-menu-MHhKtfoG.js";import"./rc-field-form-CVOtFEQA.js";import"./scroll-into-view-if-needed-BZeNfFF0.js";import"./compute-scroll-into-view-DWa9QgjM.js";import"./rc-picker-D0kXf0IF.js";import"./rc-tabs-XmQY-w_1.js";const{Title:w}=E,je=()=>{const[i]=o.useForm(),[l,f]=a.useState(""),[d,g]=a.useState(null),[h,u]=a.useState(null),[s,x]=a.useState(null),m=()=>{c.get("/api/careerInfo").then(r=>{if(r.data.length>0){const t=r.data[0];x(t),f(t.info),i.setFieldsValue({info:t.info}),t.image&&u(`/api/image/download/${t.image}`)}}).catch(r=>{console.error("Error fetching career info:",r)})};a.useEffect(()=>{m()},[i]);const j=r=>{f(r)},C=({file:r})=>{g(r),u(URL.createObjectURL(r))},y=async r=>{const t=new FormData;t.append("info",l),d&&t.append("image",d);try{s?(await c.put(`/api/careerInfo/${s._id}`,t),p.success("Career info updated successfully"),m()):(await c.post("/api/careerInfo",t),p.success("Career info created successfully"),m())}catch(b){console.error("Error saving career info:",b),p.error("Error saving career info")}};return e.jsxs("div",{children:[e.jsxs(n,{children:[e.jsx(n.Item,{href:"/dashboard",children:"Dashboard"}),e.jsx(n.Item,{children:"Career Info"})]}),e.jsx(w,{level:2,style:{margin:"16px 0"},children:"Career Info"}),e.jsxs(o,{form:i,onFinish:y,layout:"vertical",children:[e.jsx(o.Item,{label:"Info",name:"info",rules:[{required:!0,message:"Please enter the info"}],children:e.jsx(S,{value:l,onChange:j})}),e.jsxs(o.Item,{label:"Image",name:"image",children:[h&&e.jsx(U,{width:200,src:h,alt:"Career Info Image"}),e.jsx(v,{beforeUpload:()=>!1,onChange:C,maxCount:1,children:e.jsx(I,{icon:e.jsx(F,{}),children:"Select Image"})})]}),e.jsx(o.Item,{children:e.jsx(I,{type:"primary",htmlType:"submit",children:s?"Update":"Submit"})})]})]})};export{je as default};
