import{j as e}from"./main-DeRxjK88.js";import{r}from"./vendor-router-Bu4EHm1B.js";import{J as i}from"./jodit-react-Bgeja2AM.js";import{a as s}from"./vendor-utils-BfOc9lHv.js";import{F as t}from"./index--6LMyILo.js";import{B as a}from"./Breadcrumb-Dmow3_cy.js";import{T as o}from"./index-YLo9zIco.js";import{I as n}from"./index-DZQONPs0.js";import{U as l,R as m}from"./index-D3J037dB.js";import{B as d}from"./index-lUiyPlMq.js";import{s as c}from"./index-lMP3hCbg.js";import"./vendor-react-CI5aWZjI.js";import"./toArray-DkI11MDQ.js";import"./index-DRGG9HZA.js";import"./CheckCircleFilled-DiSUBvU5.js";import"./ExclamationCircleFilled-DZysw_83.js";import"./dropdown-B7KEEEnN.js";import"./EllipsisOutlined-L4j7-ai9.js";import"./EditOutlined-hcgcOCju.js";import"./addEventListener-BUKQhVN_.js";import"./TextArea-BEMUKMsu.js";import"./getAllowClear-exXUluB6.js";import"./CheckOutlined-3fI3nOal.js";import"./EyeOutlined-B2vwqoE1.js";import"./index-Bz7nO4c4.js";import"./fade-C0XPHGae.js";import"./DeleteOutlined-BpoFncVM.js";import"./DownloadOutlined-DQEsT_id.js";import"./InfoCircleFilled-D8dKuFWy.js";const{Title:p}=o,j=()=>{const[o]=t.useForm(),[j,f]=r.useState(""),[u,x]=r.useState(null),[h,I]=r.useState(null),[g,C]=r.useState(null),y=()=>{s.get("/api/careerInfo").then((e=>{if(e.data.length>0){const r=e.data[0];C(r),f(r.info),o.setFieldsValue({info:r.info}),r.image&&I(`/api/image/download/${r.image}`)}})).catch((e=>{}))};r.useEffect((()=>{y()}),[o]);return e.jsxs("div",{children:[e.jsxs(a,{children:[e.jsx(a.Item,{href:"/dashboard",children:"Dashboard"}),e.jsx(a.Item,{children:"Career Info"})]}),e.jsx(p,{level:2,style:{margin:"16px 0"},children:"Career Info"}),e.jsxs(t,{form:o,onFinish:async e=>{const r=new FormData;r.append("info",j),u&&r.append("image",u);try{g?(await s.put(`/api/careerInfo/${g._id}`,r),c.success("Career info updated successfully"),y()):(await s.post("/api/careerInfo",r),c.success("Career info created successfully"),y())}catch(i){c.error("Error saving career info")}},layout:"vertical",children:[e.jsx(t.Item,{label:"Info",name:"info",rules:[{required:!0,message:"Please enter the info"}],children:e.jsx(i,{value:j,onChange:e=>{f(e)}})}),e.jsxs(t.Item,{label:"Image",name:"image",children:[h&&e.jsx(n,{width:200,src:h,alt:"Career Info Image"}),e.jsx(l,{beforeUpload:()=>!1,onChange:({file:e})=>{x(e),I(URL.createObjectURL(e))},maxCount:1,children:e.jsx(d,{icon:e.jsx(m,{}),children:"Select Image"})})]}),e.jsx(t.Item,{children:e.jsx(d,{type:"primary",htmlType:"submit",children:g?"Update":"Submit"})})]})]})};export{j as default};
//# sourceMappingURL=CareerInfoForm-DMyvtRs8.js.map
