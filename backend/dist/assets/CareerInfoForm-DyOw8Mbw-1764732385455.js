import{eu as o,r as t,j as e,ey as c,b4 as I,c as m,e9 as l}from"./index-2kbH1bBb-1764732385455.js";import{J as U}from"./jodit-react-PIINe6c4-1764732385455.js";import{T as v}from"./index-DrzkMPpE-1764732385455.js";import{I as E}from"./index-1rGtaAf8-1764732385455.js";import{U as S,R as F}from"./index-BNaGp7Vk-1764732385455.js";import"./EditOutlined-BkAMFGKV-1764732385455.js";import"./addEventListener-BTA357JE-1764732385455.js";import"./TextArea-BKy-nqO8-1764732385455.js";import"./CheckOutlined-6aSt04rk-1764732385455.js";import"./index-8HW-l2LE-1764732385455.js";import"./fade-D_zzDYw_-1764732385455.js";import"./useForceUpdate-CWyNYTn2-1764732385455.js";import"./DeleteOutlined-Dbls3UtD-1764732385455.js";import"./DownloadOutlined-BJlITzLl-1764732385455.js";const{Title:w}=v,k=()=>{const[s]=o.useForm(),[f,d]=t.useState(""),[p,g]=t.useState(null),[h,u]=t.useState(null),[n,x]=t.useState(null),i=()=>{m.get("/api/careerInfo").then(r=>{if(r.data.length>0){const a=r.data[0];x(a),d(a.info),s.setFieldsValue({info:a.info}),a.image&&u(`/api/image/download/${a.image}`)}}).catch(r=>{console.error("Error fetching career info:",r)})};t.useEffect(()=>{i()},[s]);const j=r=>{d(r)},C=({file:r})=>{g(r),u(URL.createObjectURL(r))},b=async r=>{const a=new FormData;a.append("info",f),p&&a.append("image",p);try{n?(await m.put(`/api/careerInfo/${n._id}`,a),l.success("Career info updated successfully"),i()):(await m.post("/api/careerInfo",a),l.success("Career info created successfully"),i())}catch(y){console.error("Error saving career info:",y),l.error("Error saving career info")}};return e.jsxs("div",{children:[e.jsxs(c,{children:[e.jsx(c.Item,{href:"/dashboard",children:"Dashboard"}),e.jsx(c.Item,{children:"Career Info"})]}),e.jsx(w,{level:2,className:"mx-4",children:"Career Info"}),e.jsxs(o,{form:s,onFinish:b,layout:"vertical",children:[e.jsx(o.Item,{label:"Info",name:"info",rules:[{required:!0,message:"Please enter the info"}],children:e.jsx(U,{value:f,onChange:j})}),e.jsxs(o.Item,{label:"Image",name:"image",children:[h&&e.jsx(E,{width:200,src:h,alt:"Career Info Image"}),e.jsx(S,{beforeUpload:()=>!1,onChange:C,maxCount:1,children:e.jsx(I,{icon:e.jsx(F,{}),children:"Select Image"})})]}),e.jsx(o.Item,{children:e.jsx(I,{type:"primary",htmlType:"submit",children:n?"Update":"Submit"})})]})]})};export{k as default};
