import{bS as e,bT as t,j as o}from"./main-DeRxjK88.js";import{d as r}from"./vendor-router-Bu4EHm1B.js";import{B as i}from"./Breadcrumb-Dmow3_cy.js";import{B as s}from"./index-lUiyPlMq.js";import{R as a}from"./PlusOutlined-5v_q8HFA.js";import{F as n}from"./Table-BZaWXI2p.js";import{R as l}from"./DownloadOutlined-DQEsT_id.js";import{S as d}from"./index-DoSF0nZj.js";import{R as c}from"./EditOutlined-hcgcOCju.js";import{R as p}from"./DeleteOutlined-BpoFncVM.js";import{s as m}from"./index-lMP3hCbg.js";import{M as j}from"./index-BeYydUON.js";import"./vendor-react-CI5aWZjI.js";import"./vendor-utils-BfOc9lHv.js";import"./dropdown-B7KEEEnN.js";import"./toArray-DkI11MDQ.js";import"./EllipsisOutlined-L4j7-ai9.js";import"./addEventListener-BUKQhVN_.js";import"./index-j6PXCaBg.js";import"./getAllowClear-exXUluB6.js";import"./CheckOutlined-3fI3nOal.js";import"./Input-BufppJmu.js";import"./index-VFidPMY_.js";import"./CheckCircleFilled-DiSUBvU5.js";import"./ExclamationCircleFilled-DZysw_83.js";import"./InfoCircleFilled-D8dKuFWy.js";import"./ActionButton-xPc0Gc43.js";import"./index-Bz7nO4c4.js";import"./index-DRGG9HZA.js";import"./fade-C0XPHGae.js";import"./Skeleton-3ezOyxdU.js";const f=()=>{const f=r(),{data:u,isLoading:x}=e(),[h]=t(),w=[{title:"Info",key:"info",render:(e,t)=>o.jsxs("div",{children:[o.jsx("strong",{children:t.name}),o.jsx("div",{children:t.contactNo}),o.jsx("div",{style:{color:"#666"},children:t.address})]}),sorter:(e,t)=>e.name.localeCompare(t.name)},{title:"Email",dataIndex:"email",key:"email"},{title:"Post Applied For",dataIndex:"postAppliedFor",key:"postAppliedFor",sorter:(e,t)=>e.postAppliedFor.localeCompare(t.postAppliedFor)},{title:"Resume",key:"resume",render:(e,t)=>o.jsx(l,{onClick:()=>(async e=>{try{const t=e.split("/").pop(),o=await fetch(`/api/image/pdf/download/${t}`);if(!o.ok)throw new Error("Download failed");const r=await o.blob(),i=window.URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(i)}catch(t){m.error("Failed to download file")}})(t.resumeFile),style:{cursor:"pointer",color:"#1890ff"}})},{title:"Applied Date",dataIndex:"createdAt",key:"createdAt",render:e=>new Date(e).toLocaleDateString(),sorter:(e,t)=>new Date(e.createdAt)-new Date(t.createdAt)},{title:"Actions",key:"actions",render:(e,t)=>o.jsxs(d,{size:"middle",children:[o.jsx(c,{style:{color:"#1890ff",cursor:"pointer"},onClick:()=>(e=>{f(`/career/edit/${e._id}`)})(t)}),o.jsx(p,{style:{color:"#ff4d4f",cursor:"pointer"},onClick:()=>{return e=t._id,void j.confirm({title:"Are you sure you want to delete this application?",content:"This action cannot be undone.",okText:"Yes",okType:"danger",cancelText:"No",onOk:async()=>{try{await h(e).unwrap(),m.success("Application deleted successfully!")}catch(t){m.error(t.message||"Something went wrong")}}});var e}})]})}];return o.jsxs("div",{children:[o.jsx(i,{items:[{title:o.jsx("span",{onClick:()=>f("/dashboard"),className:"cursor-pointer",children:"Dashboard"})},{title:"Career Applications"}],className:"mb-4"}),o.jsxs("div",{className:"flex justify-between items-center mb-5",children:[o.jsx("div",{className:"text-2xl font-semibold",children:"Career List "}),o.jsx(s,{type:"primary",icon:o.jsx(a,{}),onClick:()=>f("/career/add"),style:{marginBottom:"16px"},className:"float-right",children:"Add New Application"})]}),o.jsx(n,{columns:w,dataSource:u?.data||[],loading:x,rowKey:"_id",pagination:{pageSize:10,showSizeChanger:!0,showTotal:e=>`Total ${e} applications`},scroll:{x:!0}})]})};export{f as default};
//# sourceMappingURL=CareerTable-Dn54CV9m.js.map
