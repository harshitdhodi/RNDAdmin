import{c8 as a,c9 as e,ca as s,j as t,L as r,I as l,B as i}from"./main-BcUd3ASm.js";import{d,g as o,r as c,L as n}from"./vendor-router-CaZtIe2_.js";import{B as u,b as m,d as g}from"./breadcrumb-DEvmmGzh.js";import{B as p}from"./react-toastify.esm-CrOn1nFw.js";import"./vendor-react-DD_RYU77.js";import"./vendor-utils-CfKmydC0.js";import"./chevron-right-C95tp0e6.js";const h=()=>{const h=d(),{id:j}=o(),{data:x,isLoading:f}=a(j,{skip:!j}),[b]=e(),[v]=s(),[C,w]=c.useState(""),[y,F]=c.useState(null),[D,N]=c.useState(null);c.useEffect((()=>{x&&w(x.title||"")}),[x]);return t.jsxs("div",{className:"max-w-lg mx-auto p-6 bg-white shadow-md rounded-lg",children:[t.jsxs(u,{className:"mb-4",children:[t.jsx(m,{children:t.jsx(g,{as:n,to:"/dashboard",children:"Dashboard"})}),t.jsx(m,{children:t.jsx(g,{as:n,to:"/catalogue-table",children:"Catalogue Table"})}),t.jsx(m,{children:j?"Edit Catalogue":"Create Catalogue"})]}),t.jsxs("form",{onSubmit:async a=>{a.preventDefault();const e=new FormData;e.append("title",C),y&&e.append("catalog",y),D&&e.append("image",D);try{j?(await v({id:j,formData:e}).unwrap(),p.success("Catalogue updated successfully")):(await b(e).unwrap(),p.success("Catalogue created successfully")),h("/catalogue-table")}catch(s){p.error("Failed to save catalogue")}},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(r,{htmlFor:"title",children:"Title"}),t.jsx(l,{id:"title",value:C,onChange:a=>w(a.target.value),required:!0})]}),t.jsxs("div",{children:[t.jsx(r,{htmlFor:"catalogue",children:"Upload Catalogue"}),t.jsx(l,{id:"catalogue",type:"file",accept:".pdf",onChange:a=>{F(a.target.files[0])},required:!0})]}),t.jsxs("div",{children:[t.jsx(r,{htmlFor:"image",children:"Upload Image"}),t.jsx(l,{id:"image",type:"file",accept:"image/*",onChange:a=>{N(a.target.files[0])},required:!0})]}),t.jsx(i,{type:"submit",className:"w-full",disabled:f,children:f?"Processing...":j?"Update":"Create"})]})]})};export{h as default};
//# sourceMappingURL=CatalogueForm-4dB4WUw_.js.map
