{"version":3,"file":"CatalogueTable-B5UkQiac.js","sources":["../../src/websiteBackend/catalogue/CatalogueTable.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useGetAllCataloguesQuery, useDeleteCatalogueMutation } from \"@/slice/catalogue/catalogueslice\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Breadcrumb, BreadcrumbItem, BreadcrumbLink } from \"@/components/ui/breadcrumb\";\r\nimport { toast } from \"react-toastify\";\r\nimport { AlertDialog, AlertDialogTrigger, AlertDialogContent, AlertDialogHeader, AlertDialogFooter } from \"@/components/ui/alert-dialog\";\r\nimport { Card } from \"@/components/ui/card\";\r\n\r\nconst CatalogueTable = () => {\r\n  const navigate = useNavigate();\r\n  const { data: catalogues, isLoading } = useGetAllCataloguesQuery();\r\n  const [deleteCatalogue] = useDeleteCatalogueMutation();\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await deleteCatalogue(id).unwrap();\r\n      toast.success(\"Catalogue deleted successfully\");\r\n    } catch (error) {\r\n      toast.error(\"Failed to delete catalogue\");\r\n    }\r\n  };\r\n\r\n  if (isLoading) return <p className=\"text-center text-gray-500\">Loading...</p>;\r\n\r\n  return (\r\n    <div className=\"max-w-5xl mx-auto p-6\">\r\n      <Breadcrumb className=\"mb-4\">\r\n        <BreadcrumbItem>\r\n          <BreadcrumbLink as={Link} to=\"/dashboard\">Dashboard</BreadcrumbLink>\r\n        </BreadcrumbItem>\r\n        <BreadcrumbItem>Catalogue Table</BreadcrumbItem>\r\n      </Breadcrumb>\r\n\r\n      <h1 className=\"text-2xl font-bold mb-3\">Catalogue Table</h1>\r\n\r\n      <Card className=\"overflow-hidden\">\r\n        <table className=\"w-full border-collapse border border-gray-300 rounded-md\">\r\n          <thead>\r\n            <tr className=\"bg-gray-100 text-left\">\r\n              <th className=\"border border-gray-300 p-2\">Title</th>\r\n              <th className=\"border border-gray-300 p-2\">Catalogue</th>\r\n              <th className=\"border border-gray-300 p-2\">Image</th>\r\n              <th className=\"border border-gray-300 p-2\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {catalogues?.map((item) => (\r\n              <tr key={item._id} className=\"border border-gray-200\">\r\n                <td className=\"border border-gray-200 p-2\">{item.title}</td>\r\n                <td className=\"border border-gray-200 p-2\">\r\n                  <Link to={`/api/image/pdf/view/${item.catalogue}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-500 underline\">\r\n                    Download\r\n                  </Link>\r\n                </td>\r\n                <td className=\"border border-gray-200 p-2\">\r\n                  <img src={`/api/image/view/${item.image}`} alt=\"Catalogue\" className=\"w-24 rounded-md\" />\r\n                </td>\r\n                <td className=\"border border-gray-200 p-2\">\r\n                  <div className=\"flex gap-2\">\r\n                    <Button size=\"sm\" onClick={() => navigate(`/edit-catalogue/${item._id}`)}>Edit</Button>\r\n                    \r\n                    <AlertDialog>\r\n                      <AlertDialogTrigger asChild>\r\n                        <Button size=\"sm\" variant=\"destructive\">Delete</Button>\r\n                      </AlertDialogTrigger>\r\n                      <AlertDialogContent>\r\n                        <AlertDialogHeader>Are you sure?</AlertDialogHeader>\r\n                        <p>This action cannot be undone.</p>\r\n                        <AlertDialogFooter>\r\n                          <Button variant=\"outline\">Cancel</Button>\r\n                          <Button variant=\"destructive\" onClick={() => handleDelete(item._id)}>Delete</Button>\r\n                        </AlertDialogFooter>\r\n                      </AlertDialogContent>\r\n                    </AlertDialog>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CatalogueTable;\r\n"],"names":["CatalogueTable","navigate","useNavigate","data","catalogues","isLoading","useGetAllCataloguesQuery","deleteCatalogue","useDeleteCatalogueMutation","jsx","className","children","jsxs","Breadcrumb","BreadcrumbItem","BreadcrumbLink","as","Link","to","Card","map","item","title","catalogue","target","rel","src","image","alt","Button","size","onClick","_id","AlertDialog","AlertDialogTrigger","asChild","variant","AlertDialogContent","AlertDialogHeader","AlertDialogFooter","async","id","unwrap","toast","success","error","handleDelete"],"mappings":"2bASA,MAAMA,EAAiB,KACrB,MAAMC,EAAWC,KACTC,KAAMC,EAAYC,UAAAA,GAAcC,KACjCC,GAAmBC,IAW1B,OAAIH,EAAkBI,EAAAA,IAAC,IAAE,CAAAC,UAAU,4BAA4BC,SAAU,eAGvEC,EAAAA,KAAC,MAAI,CAAAF,UAAU,wBACbC,SAAA,CAACC,EAAAA,KAAAC,EAAA,CAAWH,UAAU,OACpBC,SAAA,CAACF,EAAAA,IAAAK,EAAA,CACCH,eAACI,EAAe,CAAAC,GAAIC,EAAMC,GAAG,aAAaP,yBAE5CF,EAAAA,IAACK,GAAeH,SAAe,uBAGhCF,EAAAA,IAAA,KAAA,CAAGC,UAAU,0BAA0BC,SAAe,0BAEtDQ,EAAK,CAAAT,UAAU,kBACdC,SAACC,EAAAA,KAAA,QAAA,CAAMF,UAAU,2DACfC,SAAA,CAAAF,MAAC,QACC,CAAAE,SAAAC,EAAAA,KAAC,KAAG,CAAAF,UAAU,wBACZC,SAAA,CAACF,EAAAA,IAAA,KAAA,CAAGC,UAAU,6BAA6BC,SAAK,UAC/CF,EAAAA,IAAA,KAAA,CAAGC,UAAU,6BAA6BC,SAAS,cACnDF,EAAAA,IAAA,KAAA,CAAGC,UAAU,6BAA6BC,SAAK,UAC/CF,EAAAA,IAAA,KAAA,CAAGC,UAAU,6BAA6BC,SAAO,iBAGtDF,EAAAA,IAAC,SACEE,SAAYP,GAAAgB,KAAKC,GAChBT,EAAAA,KAAC,KAAkB,CAAAF,UAAU,yBAC3BC,SAAA,CAAAF,EAAAA,IAAC,KAAG,CAAAC,UAAU,6BAA8BC,SAAAU,EAAKC,cAChD,KAAG,CAAAZ,UAAU,6BACZC,SAACF,EAAAA,IAAAQ,EAAA,CAAKC,GAAI,uBAAuBG,EAAKE,YAAaC,OAAO,SAASC,IAAI,sBAAsBf,UAAU,0BAA0BC,wBAIlIF,MAAA,KAAA,CAAGC,UAAU,6BACZC,eAAC,MAAI,CAAAe,IAAK,mBAAmBL,EAAKM,QAASC,IAAI,YAAYlB,UAAU,4BAEtE,KAAG,CAAAA,UAAU,6BACZC,SAACC,EAAAA,KAAA,MAAA,CAAIF,UAAU,aACbC,SAAA,CAACF,EAAAA,IAAAoB,EAAA,CAAOC,KAAK,KAAKC,QAAS,IAAM9B,EAAS,mBAAmBoB,EAAKW,OAAQrB,SAAI,gBAE7EsB,EACC,CAAAtB,SAAA,CAACF,EAAAA,IAAAyB,EAAA,CAAmBC,SAAO,EACzBxB,SAACF,EAAAA,IAAAoB,EAAA,CAAOC,KAAK,KAAKM,QAAQ,cAAczB,SAAA,oBAEzC0B,EACC,CAAA1B,SAAA,CAAAF,EAAAA,IAAC6B,GAAkB3B,SAAa,kBAChCF,EAAAA,IAAC,KAAEE,SAA6B,yCAC/B4B,EACC,CAAA5B,SAAA,CAACF,EAAAA,IAAAoB,EAAA,CAAOO,QAAQ,UAAUzB,SAAM,WAChCF,EAAAA,IAACoB,EAAO,CAAAO,QAAQ,cAAcL,QAAS,IAzD1CS,OAAOC,IACtB,UACIlC,EAAgBkC,GAAIC,SAC1BC,EAAMC,QAAQ,wCACPC,GACPF,EAAME,MAAM,6BAA4B,GAoDyBC,CAAazB,EAAKW,KAAMrB,SAAM,2BAvB9EU,EAAKW,gBAkCxB"}