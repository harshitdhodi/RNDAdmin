{"version":3,"file":"CatalogueTable-UzhSGacW.js","sources":["../../src/websiteBackend/catalogue/CatalogueTable.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useGetAllCataloguesQuery, useDeleteCatalogueMutation } from\"@/slice/catalogue/catalogueslice\";\r\nimport { Table, Button, Space, message, Breadcrumb } from 'antd';\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\n\r\nconst CatalogueTable = () => {\r\n  const navigate = useNavigate();\r\n  const { data: catalogues, isLoading } = useGetAllCataloguesQuery();\r\n  const [deleteCatalogue] = useDeleteCatalogueMutation();\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await deleteCatalogue(id).unwrap();\r\n      message.success('Catalogue deleted successfully');\r\n    } catch (error) {\r\n      message.error('Failed to delete catalogue');\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Title',\r\n      dataIndex: 'title',\r\n      key: 'title',\r\n    },\r\n    {\r\n      title: 'Catalogue',\r\n      dataIndex: 'catalogue',\r\n      key: 'catalogue',\r\n      render: (catalogue) => <Link to={`/api/image/pdf/view/${catalogue}`} target=\"_blank\" rel=\"noopener noreferrer\">Download</Link>,\r\n    },\r\n    {\r\n      title: 'Image',\r\n      dataIndex: 'image',\r\n      key: 'image',\r\n      render: (image) => <img src={`/api/image/view/${image}`} alt=\"Catalogue Image\" style={{ width: '100px' }} />,\r\n    },\r\n    {\r\n      title: 'Actions',\r\n      key: 'actions',\r\n      render: (_, record) => (\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            icon={<EditOutlined />}\r\n            onClick={() => navigate(`/edit-catalogue/${record._id}`)}\r\n          />\r\n          <Button\r\n            danger\r\n            icon={<DeleteOutlined />}\r\n            onClick={() => handleDelete(record._id)}\r\n          />\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  if (isLoading) return <p>Loading...</p>;\r\n\r\n  return (\r\n    <>\r\n      <Breadcrumb style={{ marginBottom: '16px' }}>\r\n        <Breadcrumb.Item>\r\n          <Link to=\"/dashboard\">Dashboard</Link>\r\n        </Breadcrumb.Item>\r\n        <Breadcrumb.Item>Catalogue Table</Breadcrumb.Item>\r\n      </Breadcrumb>\r\n      <h1 className='font-bold text-2xl mb-3'>Catalogue Table</h1>\r\n      <Table columns={columns} dataSource={catalogues} rowKey=\"_id\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CatalogueTable;"],"names":["CatalogueTable","navigate","useNavigate","data","catalogues","isLoading","useGetAllCataloguesQuery","deleteCatalogue","useDeleteCatalogueMutation","columns","title","dataIndex","key","render","catalogue","jsx","Link","to","target","rel","children","image","src","alt","style","width","_","record","Space","Button","type","icon","EditOutlined","onClick","_id","danger","DeleteOutlined","async","id","unwrap","message","success","error","handleDelete","jsxs","Fragment","Breadcrumb","marginBottom","Item","className","Table","dataSource","rowKey"],"mappings":"o4BAMA,MAAMA,EAAiB,KACrB,MAAMC,EAAWC,KACTC,KAAMC,EAAYC,UAAAA,GAAcC,KACjCC,GAAmBC,IAWpBC,EAAU,CACd,CACEC,MAAO,QACPC,UAAW,QACXC,IAAK,SAEP,CACEF,MAAO,YACPC,UAAW,YACXC,IAAK,YACLC,OAASC,GAAcC,EAAAA,IAACC,EAAK,CAAAC,GAAI,uBAAuBH,IAAaI,OAAO,SAASC,IAAI,sBAAsBC,SAAQ,cAEzH,CACEV,MAAO,QACPC,UAAW,QACXC,IAAK,QACLC,OAASQ,GAAUN,EAAAA,IAAC,OAAIO,IAAK,mBAAmBD,IAASE,IAAI,kBAAkBC,MAAO,CAAEC,MAAO,YAEjG,CACEf,MAAO,UACPE,IAAK,UACLC,OAAQ,CAACa,EAAGC,WACTC,EACC,CAAAR,SAAA,CAAAL,EAAAA,IAACc,EAAA,CACCC,KAAK,UACLC,WAAOC,EAAa,IACpBC,QAAS,IAAMhC,EAAS,mBAAmB0B,EAAOO,SAEpDnB,EAAAA,IAACc,EAAA,CACCM,QAAM,EACNJ,WAAOK,EAAe,IACtBH,QAAS,IAxCEI,OAAOC,IACtB,UACI/B,EAAgB+B,GAAIC,SAC1BC,EAAQC,QAAQ,wCACTC,GACPF,EAAQE,MAAM,6BAA4B,GAmCrBC,CAAahB,EAAOO,YAO7C,OAAI7B,EAAmBU,EAAAA,IAAA,IAAA,CAAEK,SAAU,eAI/BwB,EAAAA,KAAAC,WAAA,CAAAzB,SAAA,CAAAwB,EAAAA,KAACE,EAAW,CAAAtB,MAAO,CAAEuB,aAAc,QACjC3B,SAAA,CAACL,EAAAA,IAAA+B,EAAWE,KAAX,CACC5B,SAAAL,EAAAA,IAACC,GAAKC,GAAG,aAAaG,yBAEvBL,EAAAA,IAAA+B,EAAWE,KAAX,CAAgB5B,SAAe,uBAEjCL,EAAAA,IAAA,KAAA,CAAGkC,UAAU,0BAA0B7B,SAAe,0BACtD8B,EAAM,CAAAzC,UAAkB0C,WAAY/C,EAAYgD,OAAO,UAC1D"}