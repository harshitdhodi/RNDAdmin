import{j as e}from"./main-BQqr2_19.js";import{r as a,d as t}from"./vendor-router-DoRotgOs.js";import{a as l}from"./vendor-utils-CfKmydC0.js";import"./vendor-react-DD_RYU77.js";const s=()=>{const[s,o]=a.useState(""),[n,r]=a.useState(null),[c,i]=a.useState(""),[d,u]=a.useState(""),[m,b]=a.useState(""),[h,p]=a.useState([]),[x,g]=a.useState(""),[f,j]=a.useState("active"),[v,y]=a.useState(""),[N,C]=a.useState(""),[w,S]=a.useState(""),[F,k]=a.useState(""),[M,q]=a.useState(""),[L,A]=a.useState(""),[$,_]=a.useState(""),[D,E]=a.useState(""),[I,P]=a.useState(""),[z,R]=a.useState(""),U=t();a.useEffect((()=>{O()}),[]);const O=async()=>{try{const e=await l.get("/api/chemicalCategory/getall",{withCredentials:!0});p(e.data)}catch(e){}};a.useEffect((()=>{C(`https://rndtechnosoft.com/${w}`)}),[w,d,m]),a.useEffect((()=>{S(s.replace(/\s+/g,"-").toLowerCase().replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""))}),[s]),a.useEffect((()=>{S(w.toLowerCase().replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-"))}),[w]);const T=(e,a)=>{for(const t of e){if(t._id===a)return t;if(t.subCategories){const e=T(t.subCategories,a);if(e)return e}}return null},G=((e,a)=>{const t=T(e,a);return t?t.subCategories:[]})(h,d);return e.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{let e="/api/chemicalCategory/insertCategory";const a=new FormData;a.append("category",s),n&&a.append("photo",n),a.append("alt",c),a.append("slug",w),a.append("metatitle",F),a.append("metakeywords",L),a.append("metadescription",M),a.append("metalanguage",$),a.append("metacanonical",D),a.append("metaschema",I),a.append("otherMeta",z),a.append("url",N),a.append("priority",x),a.append("changeFreq",v),a.append("status",f),d&&!m?e=`/api/chemicalCategory/insertSubCategory?categoryId=${d}`:d&&m&&(e=`/api/chemicalCategory/insertSubSubCategory?categoryId=${d}&subCategoryId=${m}`);await l.post(e,a,{withCredentials:!0});o(""),r(null),i(""),u(""),b(""),S(""),j("active"),k(""),q(""),A(""),_(""),E(""),P(""),R(""),C(""),g(""),y(""),U("/chemical-category")}catch(a){}},className:"p-4",children:[e.jsx("h1",{className:"text-xl font-bold font-serif text-gray-700 uppercase text-center",children:"Add Category"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"parentCategory",className:"block font-semibold mb-2",children:"Parent Category"}),e.jsxs("select",{id:"parentCategory",value:d,onChange:e=>{const a=e.target.value;u(a),b("")},className:"w-full p-2 border rounded focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Parent Category"}),h.map((a=>e.jsx("option",{value:a._id,children:a.category},a._id)))]})]}),G.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"subCategory",className:"block font-semibold mb-2",children:"Subcategory (optional)"}),e.jsxs("select",{id:"subCategory",value:m,onChange:e=>{const a=e.target.value;b(a)},className:"w-full p-2 border rounded focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Subcategory"}),G.map((a=>e.jsx("option",{value:a._id,children:a.category},a._id)))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"title",className:"block font-semibold mb-2",children:"Category"}),e.jsx("input",{type:"text",id:"title",value:s,onChange:e=>o(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{htmlFor:"photo",className:"block font-semibold mb-2",children:"Photo"}),e.jsx("input",{type:"file",name:"photo",id:"photo",onChange:e=>{const a=e.target.files[0];r(a)},className:"border rounded focus:outline-none",accept:"image/*"}),n&&e.jsxs("div",{className:"mt-2 w-56 relative group",children:[e.jsx("img",{src:URL.createObjectURL(n),alt:"Gallery",className:"h-32 w-56 object-cover"}),e.jsx("button",{type:"button",onClick:()=>{r(null)},className:"absolute top-4 right-2 bg-red-500 text-white rounded-md p-1 size-6 flex items-center justify-center hover:bg-red-600 focus:outline-none",children:"X"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"alt",className:"block font-semibold mb-2",children:"Alternative Text"}),e.jsx("input",{type:"text",id:"alt",value:c,onChange:e=>i(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]})]})]}),e.jsxs("div",{className:"mb-4 mt-4",children:[e.jsx("label",{htmlFor:"slug",className:"block font-semibold mb-2",children:"Slug"}),e.jsx("input",{type:"text",id:"slug",value:w,onChange:e=>S(e.target.value),className:"w-full p-2 border rounded focus:outline-none"})]}),e.jsxs("div",{className:"mb-4 mt-4",children:[e.jsx("label",{htmlFor:"url",className:"block font-semibold mb-2",children:"URL"}),e.jsx("input",{type:"text",id:"url",value:N,disabled:!0,className:"w-full p-2 border rounded focus:outline-none"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Title"}),e.jsx("textarea",{id:"meta",value:F,onChange:e=>k(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Description"}),e.jsx("textarea",{id:"meta",value:M,onChange:e=>q(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Keywords"}),e.jsx("textarea",{id:"meta",value:L,onChange:e=>A(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Canonical"}),e.jsx("textarea",{id:"meta",value:D,onChange:e=>E(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Language"}),e.jsx("textarea",{id:"meta",value:$,onChange:e=>_(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Other Meta"}),e.jsx("textarea",{id:"meta",value:z,onChange:e=>R(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Schema"}),e.jsx("textarea",{id:"meta",value:I,onChange:e=>P(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"priority",className:"block font-semibold mb-2",children:"Priority"}),e.jsx("input",{type:"number",id:"priority",min:0,max:1,step:.01,value:x,onChange:e=>g(e.target.value),className:"w-full p-2 border rounded focus:outline-none"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"changeFreq",className:"block font-semibold mb-2",children:"Change Frequency"}),e.jsxs("select",{id:"changeFreq",value:v,onChange:e=>y(e.target.value),className:"w-full p-2 border rounded focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Change Frequency"}),e.jsx("option",{value:"always",children:"Always"}),e.jsx("option",{value:"hourly",children:"Hourly"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"status",className:"block font-semibold mb-2",children:"Status"}),e.jsxs("select",{id:"status",value:f,onChange:e=>j(e.target.value),className:"w-full p-2 border rounded focus:outline-none",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Add Category"})]})};export{s as default};
//# sourceMappingURL=CategoryForm-Cb7qXLRw.js.map
