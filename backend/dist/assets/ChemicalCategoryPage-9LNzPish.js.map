{"version":3,"file":"ChemicalCategoryPage-9LNzPish.js","sources":["../../src/chemical/chemicalCategory/CategoryTable.jsx","../../src/chemical/ChemicalCategoryPage.jsx"],"sourcesContent":["'use client'\r\n\r\nimport React from 'react'\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { ChevronRight, ChevronDown, Edit, Trash2, Plus } from 'lucide-react'\r\nimport { useGetAllChemicalCategoriesQuery } from '@/slice/chemicalSlice/chemicalCategory'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\n\r\nconst CategoryRow = ({ item, level, parentIds = {} }) => {\r\n  const navigate = useNavigate()\r\n  const [isOpen, setIsOpen] = React.useState(false)\r\n  const hasSubcategories = item.subCategories?.length > 0 || item.subSubCategory?.length > 0\r\n  \r\n  const currentLevelIds = {\r\n    ...parentIds,\r\n    ...(level === 0 ? { categoryId: item._id } : \r\n        level === 1 ? { subcategoryId: item._id } : \r\n        { subSubCategoryId: item._id }\r\n    )\r\n  }\r\n\r\n  const handleEdit = () => {\r\n    const editPath = `/edit-chemical-category/${currentLevelIds.categoryId || ''}` +\r\n      `${currentLevelIds.subcategoryId ? `/${currentLevelIds.subcategoryId}` : ''}` +\r\n      `${currentLevelIds.subSubCategoryId ? `/${currentLevelIds.subSubCategoryId}` : ''}`\r\n    \r\n    navigate(editPath)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <TableRow>\r\n        <TableCell className=\"font-medium\">\r\n          <div className=\"flex items-center\" style={{ paddingLeft: `${level * 20}px` }}>\r\n            {hasSubcategories && (\r\n              <button onClick={() => setIsOpen(!isOpen)} className=\"mr-2\">\r\n                {isOpen ? <ChevronDown className=\"h-4 w-4\" /> : <ChevronRight className=\"h-4 w-4\" />}\r\n              </button>\r\n            )}\r\n            {item.category}\r\n          </div>\r\n        </TableCell>\r\n        <TableCell>\r\n          <div className=\"flex justify-start \">\r\n            <Button variant=\"ghost\" size=\"icon\" onClick={handleEdit}>\r\n              <Edit className=\"h-4 w-4 text-blue-600\" />\r\n            </Button>\r\n            <Button variant=\"ghost\" size=\"icon\">\r\n              <Trash2 className=\"h-4 w-4 text-red-600\" />\r\n            </Button>\r\n          </div>\r\n        </TableCell>\r\n      </TableRow>\r\n      {isOpen && item.subCategories && item.subCategories.map((subitem) => (\r\n        <CategoryRow \r\n          key={subitem._id} \r\n          item={subitem} \r\n          level={level + 1} \r\n          parentIds={currentLevelIds}\r\n        />\r\n      ))}\r\n      {isOpen && item.subSubCategory && item.subSubCategory.map((subitem) => (\r\n        <CategoryRow \r\n          key={subitem._id} \r\n          item={subitem} \r\n          level={level + 1} \r\n          parentIds={currentLevelIds}\r\n        />\r\n      ))}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default function HierarchicalCategoryTable() {\r\n  const { data: categories, error, isLoading } = useGetAllChemicalCategoriesQuery();\r\n\r\n  console.log(\"Raw API response:\", categories);\r\n\r\n  if (isLoading) return <div>Loading...</div>;\r\n  if (error) return <div>Error: {error.message || 'An error occurred'}</div>;\r\n\r\n  const categoriesArray = Array.isArray(categories) ? categories : [categories];\r\n\r\n  console.log(\"Processed categories:\", categoriesArray);\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex justify-end\">\r\n        <Link to=\"/chemical-category-form\">\r\n          <Button>\r\n            <Plus className=\"mr-2 h-4 w-4\" /> Add Category\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n      <div className=\"border rounded-lg overflow-hidden\">\r\n        <Table>\r\n          <TableHeader>\r\n            <TableRow>\r\n              <TableHead>Categories</TableHead>\r\n              <TableHead>Actions</TableHead>\r\n            </TableRow>\r\n          </TableHeader>\r\n          <TableBody>\r\n            {categoriesArray.map((category) => (\r\n              <CategoryRow \r\n                key={category._id} \r\n                item={category} \r\n                level={0} \r\n                parentIds={{}} \r\n              />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import CategoryTable from './chemicalCategory/CategoryTable'\r\n\r\nexport default function CategoriesPage() {\r\n  return (\r\n    <div className=\"container mx-auto py-10\">\r\n      <h1 className=\"text-2xl font-bold mb-5\">Product Categories</h1>\r\n      <CategoryTable />\r\n    </div>\r\n  )\r\n}\r\n\r\n"],"names":["CategoryRow","item","level","parentIds","navigate","useNavigate","isOpen","setIsOpen","React","useState","hasSubcategories","subCategories","length","subSubCategory","currentLevelIds","categoryId","_id","subcategoryId","subSubCategoryId","jsxs","Fragment","children","TableRow","jsx","TableCell","className","style","paddingLeft","onClick","ChevronDown","ChevronRight","category","Button","variant","size","editPath","Edit","Trash2","map","subitem","HierarchicalCategoryTable","data","categories","error","isLoading","useGetAllChemicalCategoriesQuery","message","categoriesArray","Array","isArray","Link","to","Plus","Table","TableHeader","TableHead","TableBody","CategoriesPage","CategoryTable"],"mappings":"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"}