import{j as s,a as e}from"./react-BfBsRgn0.js";import{T as r,a as t,b as i,c as a,d as o,e as c}from"./table-C5KT2_Ve.js";import{u as d,B as l}from"./index-mCSb4W1J.js";import{h as n,C as m,l as j,e as u,j as x}from"./lucide-D6BDVLHE.js";import{L as h,a as p}from"./react-router-DUJjWq5j.js";import"./classnames-C3ovBj6j.js";import"./react-dom-DwrudmHt.js";import"./scheduler-BFk34ZWe.js";import"./react-redux-DbBiFgqA.js";import"./use-sync-external-store-DdeJV4gQ.js";import"./@reduxjs-UCSEaN3g.js";import"./redux-C5Huw2aR.js";import"./immer-DgfQkf_7.js";import"./redux-thunk-B3S1iNVp.js";import"./reselect-BSOs5pU1.js";import"./js-cookie-BXEMiIsG.js";import"./@radix-ui-BWjeGzol.js";import"./aria-hidden-BHUiN-rI.js";import"./react-remove-scroll-yauc81_r.js";import"./tslib-Bc9CN1Ef.js";import"./react-remove-scroll-bar-BcxDecei.js";import"./react-style-singleton-C1QVuB2c.js";import"./get-nonce-BYiZHLe3.js";import"./use-sidecar-BA4C4RS7.js";import"./use-callback-ref-Cvx1xcTX.js";import"./@floating-ui-BSChQBl3.js";import"./class-variance-authority-DeOWI0hf.js";import"./clsx-BeLtu-UY.js";import"./tailwind-merge-D2VJQb_v.js";import"./axios-BoylL8Pu.js";import"./cookie-BUTH-fPQ.js";const g=({item:r,level:t,parentIds:a={}})=>{var o,d;const n=p(),[h,b]=e.useState(!1),y=(null==(o=r.subCategories)?void 0:o.length)>0||(null==(d=r.subSubCategory)?void 0:d.length)>0,f={...a,...0===t?{categoryId:r._id}:1===t?{subcategoryId:r._id}:{subSubCategoryId:r._id}};return s.jsxs(s.Fragment,{children:[s.jsxs(i,{children:[s.jsx(c,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center",style:{paddingLeft:20*t+"px"},children:[y&&s.jsx("button",{onClick:()=>b(!h),className:"mr-2",children:h?s.jsx(m,{className:"h-4 w-4"}):s.jsx(j,{className:"h-4 w-4"})}),r.category]})}),s.jsx(c,{children:s.jsxs("div",{className:"flex justify-start ",children:[s.jsx(l,{variant:"ghost",size:"icon",onClick:()=>{const s=`/edit-chemical-category/${f.categoryId||""}${f.subcategoryId?`/${f.subcategoryId}`:""}${f.subSubCategoryId?`/${f.subSubCategoryId}`:""}`;n(s)},children:s.jsx(u,{className:"h-4 w-4 text-blue-600"})}),s.jsx(l,{variant:"ghost",size:"icon",children:s.jsx(x,{className:"h-4 w-4 text-red-600"})})]})})]}),h&&r.subCategories&&r.subCategories.map((e=>s.jsx(g,{item:e,level:t+1,parentIds:f},e._id))),h&&r.subSubCategory&&r.subSubCategory.map((e=>s.jsx(g,{item:e,level:t+1,parentIds:f},e._id)))]})};function b(){const{data:e,error:c,isLoading:m}=d();if(m)return s.jsx("div",{children:"Loading..."});if(c)return s.jsxs("div",{children:["Error: ",c.message||"An error occurred"]});const j=Array.isArray(e)?e:[e];return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end",children:s.jsx(h,{to:"/chemical-category-form",children:s.jsxs(l,{children:[s.jsx(n,{className:"mr-2 h-4 w-4"})," Add Category"]})})}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(r,{children:[s.jsx(t,{children:s.jsxs(i,{children:[s.jsx(a,{children:"Categories"}),s.jsx(a,{children:"Actions"})]})}),s.jsx(o,{children:j.map((e=>s.jsx(g,{item:e,level:0,parentIds:{}},e._id)))})]})})]})}function y(){return s.jsxs("div",{className:"container mx-auto py-10",children:[s.jsx("h1",{className:"text-2xl font-bold mb-5",children:"Product Categories"}),s.jsx(b,{})]})}export{y as default};
