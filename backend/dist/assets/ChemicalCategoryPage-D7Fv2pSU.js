import{j as s,a as b}from"./react-DKICu8bO.js";import{T as y,a as C,b as x,c as h,d as f,e as p}from"./table-nX7BFFdz.js";import{u as v,B as n}from"./index-Bbo1zcj1.js";import{h as N,C as I,l as w,e as S,j as T}from"./lucide-D7hRWJEP.js";import{L as A,a as P}from"./react-router-B9QVkYva.js";import"./classnames-Bv6oJzD9.js";import"./react-dom-BBS6HuAW.js";import"./scheduler-CKyTKYc2.js";import"./react-redux-BrRfTdeB.js";import"./use-sync-external-store-D0ivhzzy.js";import"./@reduxjs-B5J9SSA5.js";import"./redux-DITMfSWq.js";import"./immer-fBqQtvEc.js";import"./redux-thunk-ClJT1hhx.js";import"./reselect-C27TLnWV.js";import"./js-cookie-Cz0CWeBA.js";import"./@radix-ui-BlrBCj0C.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-fXbmorz6.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-C9fmXXva.js";import"./react-style-singleton-DKBZmuKg.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-C10EJNOT.js";import"./use-callback-ref-BoKxM4XI.js";import"./@floating-ui-8J-daYO3.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./axios-DXsv3KKR.js";import"./@syncfusion-BIAkhmGL.js";import"./cookie--_YQFYBD.js";const d=({item:e,level:r,parentIds:c={}})=>{var l,m;const i=P(),[a,u]=b.useState(!1),g=((l=e.subCategories)==null?void 0:l.length)>0||((m=e.subSubCategory)==null?void 0:m.length)>0,t={...c,...r===0?{categoryId:e._id}:r===1?{subcategoryId:e._id}:{subSubCategoryId:e._id}},j=()=>{const o=`/edit-chemical-category/${t.categoryId||""}${t.subcategoryId?`/${t.subcategoryId}`:""}${t.subSubCategoryId?`/${t.subSubCategoryId}`:""}`;i(o)};return s.jsxs(s.Fragment,{children:[s.jsxs(x,{children:[s.jsx(p,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center",style:{paddingLeft:`${r*20}px`},children:[g&&s.jsx("button",{onClick:()=>u(!a),className:"mr-2",children:a?s.jsx(I,{className:"h-4 w-4"}):s.jsx(w,{className:"h-4 w-4"})}),e.category]})}),s.jsx(p,{children:s.jsxs("div",{className:"flex justify-start ",children:[s.jsx(n,{variant:"ghost",size:"icon",onClick:j,children:s.jsx(S,{className:"h-4 w-4 text-blue-600"})}),s.jsx(n,{variant:"ghost",size:"icon",children:s.jsx(T,{className:"h-4 w-4 text-red-600"})})]})})]}),a&&e.subCategories&&e.subCategories.map(o=>s.jsx(d,{item:o,level:r+1,parentIds:t},o._id)),a&&e.subSubCategory&&e.subSubCategory.map(o=>s.jsx(d,{item:o,level:r+1,parentIds:t},o._id))]})};function L(){const{data:e,error:r,isLoading:c}=v();if(console.log("Raw API response:",e),c)return s.jsx("div",{children:"Loading..."});if(r)return s.jsxs("div",{children:["Error: ",r.message||"An error occurred"]});const i=Array.isArray(e)?e:[e];return console.log("Processed categories:",i),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end",children:s.jsx(A,{to:"/chemical-category-form",children:s.jsxs(n,{children:[s.jsx(N,{className:"mr-2 h-4 w-4"})," Add Category"]})})}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(y,{children:[s.jsx(C,{children:s.jsxs(x,{children:[s.jsx(h,{children:"Categories"}),s.jsx(h,{children:"Actions"})]})}),s.jsx(f,{children:i.map(a=>s.jsx(d,{item:a,level:0,parentIds:{}},a._id))})]})})]})}function ds(){return s.jsxs("div",{className:"container mx-auto py-10",children:[s.jsx("h1",{className:"text-2xl font-bold mb-5",children:"Product Categories"}),s.jsx(L,{})]})}export{ds as default};
