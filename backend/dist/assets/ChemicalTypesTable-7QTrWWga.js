import{j as e,D as a,l as s,m as r,n as l,I as n,B as i,E as c,F as d,G as t,H as m}from"./main-DeRxjK88.js";import{r as h}from"./vendor-router-Bu4EHm1B.js";import{T as o,a as p,b as x,c as j,d as u,e as g}from"./table-Cj_y_WH9.js";import{P as N}from"./plus-CYGv-ui8.js";import"./vendor-react-CI5aWZjI.js";import"./vendor-utils-BfOc9lHv.js";function b({open:c,setOpen:d,chemicalName:t,setChemicalName:m,handleSave:h}){return e.jsx(a,{open:c,onOpenChange:d,children:e.jsxs(s,{children:[e.jsx(r,{children:e.jsx(l,{className:"text-purple-600",children:"Manage Chemical Type"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{id:"name",placeholder:"Chemical Type Name",value:t,onChange:e=>m(e.target.value),className:"border-purple-200 focus:border-purple-400"}),!t&&e.jsx("p",{className:"text-red-500 text-sm",children:"Please enter name"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(i,{onClick:h,disabled:!t,className:"bg-green-500 hover:bg-green-600",children:"Save"}),e.jsx(i,{variant:"destructive",onClick:()=>d(!1),children:"Cancel"})]})]})]})})}function v({chemicalTypes:a,handleEdit:s,handleDelete:r}){return e.jsxs(o,{className:"w-1/2 border",children:[e.jsx(p,{children:e.jsxs(x,{className:"bg-gray-100",children:[e.jsx(j,{className:"w-[200px] border-r font-bold  border-gray-300",children:"Action"}),e.jsx(j,{className:"font-bold",children:"Name"})]})}),e.jsx(u,{children:a.map((a=>e.jsxs(x,{className:"p-1",children:[e.jsx(g,{className:"p-2 border-r border-gray-300",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{variant:"outline",className:"bg-green-500 px-2 py-1 hover:bg-green-600 w-20 text-white border-none",size:"sm",onClick:()=>s(a),children:"Edit"}),e.jsx(i,{variant:"outline",className:"bg-red-500 hover:bg-red-600 w-20 text-white border-none",size:"sm",onClick:()=>r(a._id),children:"Delete"})]})}),e.jsx(g,{className:"p-2",children:a.name})]},a.id)))})]})}function y(){const[a,s]=h.useState(!1),[r,l]=h.useState(""),[n,o]=h.useState(null),{data:p=[],isLoading:x,error:j}=c(),[u]=d(),[g]=t(),[y]=m();return x?e.jsx("p",{children:"Loading..."}):j?e.jsx("p",{children:"Error fetching chemical types."}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-purple-600",children:"Chemical Types"}),e.jsxs(i,{onClick:()=>s(!0),className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Add Chemical Type"]})]}),e.jsx(v,{chemicalTypes:p,handleEdit:e=>{e&&e._id&&(l(e.name),o(e._id),s(!0))},handleDelete:async e=>{try{await y(e).unwrap()}catch(a){}}}),e.jsx(b,{open:a,setOpen:s,chemicalName:r,setChemicalName:l,handleSave:async()=>{try{if(r){const e={name:r};n?await g({id:n,updatedChemicalType:e}).unwrap():await u(e).unwrap(),l(""),o(null),s(!1)}}catch(e){}},editingId:n})]})}export{y as default};
//# sourceMappingURL=ChemicalTypesTable-7QTrWWga.js.map
