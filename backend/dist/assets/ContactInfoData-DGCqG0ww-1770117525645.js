import{ak as v,r as d,eu as k,ev as C,ew as E,j as e,ai as U,c as h,h as L}from"./index-HVo_qOfp-1770117525645.js";import{M as A}from"./map-pin-CK1CsbK5-1770117525645.js";import{P as M}from"./phone-CZVnUAAC-1770117525645.js";import{M as X}from"./mail-C3-H5mGf-1770117525645.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=v("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),I=()=>{const[l,n]=d.useState({address:"",mobiles:[""],emails:[""],imgTitle:[""],altName:[""],photo:[],previewUrls:[],mapLink:""}),[c,m]=d.useState(""),[u,p]=d.useState(""),[x]=k(),[g]=C(),{data:r}=E();d.useEffect(()=>{if(r&&r.length>0){const a=r[0];n({address:a.address||"",mobiles:a.mobiles||[""],emails:a.emails||[""],imgTitle:a.imgTitle||[""],altName:a.altName||[""],photo:[],previewUrls:a.photo?a.photo.map(s=>`/api/image/download/${s}`):[],mapLink:a.mapLink||""})}},[r]),d.useEffect(()=>()=>{l.previewUrls.forEach(a=>{a.startsWith("blob:")&&URL.revokeObjectURL(a)})},[l.previewUrls]);const b=async a=>{var o;a.preventDefault();const s=new FormData;s.append("address",l.address),s.append("mapLink",l.mapLink),l.mobiles.forEach(t=>{s.append("mobiles[]",t)}),l.emails.forEach(t=>{s.append("emails[]",t)}),l.imgTitle.forEach((t,i)=>{s.append("imgTitle[]",t)}),l.altName.forEach((t,i)=>{s.append("altName[]",t)}),l.photo.length>0?l.photo.forEach(t=>{s.append("photo[]",t)}):r&&((o=r[0])!=null&&o.photo)&&r[0].photo.forEach(t=>{s.append("photo[]",t)});try{r&&r.length>0?(await g({id:r[0]._id,formData:s}).unwrap(),alert("Contact information updated successfully!")):(await x(s).unwrap(),alert("Contact information added successfully!"))}catch(t){console.error("Error:",t),alert("Error saving contact information. Please try again.")}},f=()=>{L.success("Updated Successfully!")},y=async()=>{try{const a=await h.get("/api/pageHeading/heading?pageType=contact",{withCredentials:!0}),{heading:s,subheading:o}=a.data;m(s||""),p(o||"")}catch(a){console.error(a)}},w=async()=>{try{await h.put("/api/pageHeading/updateHeading?pageType=contact",{pagetype:"contact",heading:c,subheading:u},{withCredentials:!0}),f()}catch(a){console.error(a)}};d.useEffect(()=>{y()},[]);const N=a=>m(a.target.value),j=a=>p(a.target.value);return e.jsxs("div",{className:" p-4 min-h-screen ",children:[e.jsx(U,{}),e.jsxs("div",{className:"mb-8 border border-gray-200 shadow-lg p-4 rounded ",children:[e.jsxs("div",{className:"grid md:grid-cols-2 md:gap-2 grid-cols-1",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2 uppercase font-serif",children:"Heading"}),e.jsx("input",{type:"text",value:c,onChange:N,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-yellow-500 transition duration-300"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2 uppercase font-serif",children:"Sub heading"}),e.jsx("input",{type:"text",value:u,onChange:j,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-yellow-500 transition duration-300"})]})]}),e.jsx("button",{onClick:w,className:"px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-900 transition duration-300 font-serif",children:"Save"})]}),e.jsxs("div",{className:"max-w-3xl ",children:[e.jsx("div",{className:"bg-white rounded-t-2xl  p-2 border-b-4 border-yellow-500",children:e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Contact Information"})}),e.jsxs("div",{className:"bg-white rounded-b-2xl  p-5 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx(A,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Address"]}),e.jsx("textarea",{value:l.address,onChange:a=>n(s=>({...s,address:a.target.value})),rows:"3",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200 transition-all outline-none",placeholder:"Enter your business address",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx(S,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Map Link"]}),e.jsx("input",{type:"url",value:l.mapLink,onChange:a=>n(s=>({...s,mapLink:a.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200 transition-all outline-none",placeholder:"https://maps.google.com/..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx(M,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Mobile Numbers"]}),l.mobiles.map((a,s)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"tel",value:a,onChange:o=>n(t=>{const i=[...t.mobiles];return i[s]=o.target.value,{...t,mobiles:i}}),className:"flex-1 px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200 transition-all outline-none",placeholder:"+91 XXXXX XXXXX",required:!0}),l.mobiles.length>1&&e.jsx("button",{type:"button",onClick:()=>n(o=>{const t=[...o.mobiles];return t.splice(s,1),{...o,mobiles:t}}),className:"px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors font-medium",children:"Remove"})]},s)),e.jsxs("button",{type:"button",onClick:()=>n(a=>({...a,mobiles:[...a.mobiles,""]})),className:"text-yellow-500 hover:text-yellow-700 font-medium text-sm flex items-center gap-1",children:[e.jsx("span",{className:"text-xl",children:"+"})," Add Mobile Number"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx(X,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Email Addresses"]}),l.emails.map((a,s)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"email",value:a,onChange:o=>n(t=>{const i=[...t.emails];return i[s]=o.target.value,{...t,emails:i}}),className:"flex-1 px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200 transition-all outline-none",placeholder:"contact@example.com",required:!0}),l.emails.length>1&&e.jsx("button",{type:"button",onClick:()=>n(o=>{const t=[...o.emails];return t.splice(s,1),{...o,emails:t}}),className:"px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors font-medium",children:"Remove"})]},s)),e.jsxs("button",{type:"button",onClick:()=>n(a=>({...a,emails:[...a.emails,""]})),className:"text-yellow-500 hover:text-yellow-700 font-medium text-sm flex items-center gap-1",children:[e.jsx("span",{className:"text-xl",children:"+"})," Add Email Address"]})]}),e.jsx("button",{type:"button",onClick:b,className:"w-full bg-yellow-500 text-white py-4 px-6 rounded-lg hover:bg-yellow-700 transition-all font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:r&&r.length>0?"âœ“ Update Contact Information":"+ Add Contact Information"})]})]})]})};export{I as default};
