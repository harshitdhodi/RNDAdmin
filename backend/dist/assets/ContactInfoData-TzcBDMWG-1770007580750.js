import{ak as u,r as d,eu as x,ev as h,ew as f,j as e}from"./index-Bx7n1Wn1-1770007580750.js";import{M as b}from"./map-pin-Uy5C6ag8-1770007580750.js";import{P as g}from"./phone-DwD8v5RP-1770007580750.js";import{M as y}from"./mail-BUDo_qM5-1770007580750.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=u("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),E=()=>{const[l,n]=d.useState({address:"",mobiles:[""],emails:[""],imgTitle:[""],altName:[""],photo:[],previewUrls:[],mapLink:""}),[m]=x(),[c]=h(),{data:o}=f();d.useEffect(()=>{if(o&&o.length>0){const s=o[0];n({address:s.address||"",mobiles:s.mobiles||[""],emails:s.emails||[""],imgTitle:s.imgTitle||[""],altName:s.altName||[""],photo:[],previewUrls:s.photo?s.photo.map(t=>`/api/image/download/${t}`):[],mapLink:s.mapLink||""})}},[o]),d.useEffect(()=>()=>{l.previewUrls.forEach(s=>{s.startsWith("blob:")&&URL.revokeObjectURL(s)})},[l.previewUrls]);const p=async s=>{var r;s.preventDefault();const t=new FormData;t.append("address",l.address),t.append("mapLink",l.mapLink),l.mobiles.forEach(a=>{t.append("mobiles[]",a)}),l.emails.forEach(a=>{t.append("emails[]",a)}),l.imgTitle.forEach((a,i)=>{t.append("imgTitle[]",a)}),l.altName.forEach((a,i)=>{t.append("altName[]",a)}),l.photo.length>0?l.photo.forEach(a=>{t.append("photo[]",a)}):o&&((r=o[0])!=null&&r.photo)&&o[0].photo.forEach(a=>{t.append("photo[]",a)});try{o&&o.length>0?(await c({id:o[0]._id,formData:t}).unwrap(),alert("Contact information updated successfully!")):(await m(t).unwrap(),alert("Contact information added successfully!"))}catch(a){console.error("Error:",a),alert("Error saving contact information. Please try again.")}};return e.jsx("div",{className:"min-h-screen ",children:e.jsxs("div",{className:"max-w-3xl ",children:[e.jsx("div",{className:"bg-white rounded-t-2xl  p-2 border-b-4 border-yellow-500",children:e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Contact Information"})}),e.jsxs("div",{className:"bg-white rounded-b-2xl  p-5 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx(b,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Address"]}),e.jsx("textarea",{value:l.address,onChange:s=>n(t=>({...t,address:s.target.value})),rows:"3",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200 transition-all outline-none",placeholder:"Enter your business address",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx(w,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Map Link"]}),e.jsx("input",{type:"url",value:l.mapLink,onChange:s=>n(t=>({...t,mapLink:s.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200 transition-all outline-none",placeholder:"https://maps.google.com/..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx(g,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Mobile Numbers"]}),l.mobiles.map((s,t)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"tel",value:s,onChange:r=>n(a=>{const i=[...a.mobiles];return i[t]=r.target.value,{...a,mobiles:i}}),className:"flex-1 px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200 transition-all outline-none",placeholder:"+91 XXXXX XXXXX",required:!0}),l.mobiles.length>1&&e.jsx("button",{type:"button",onClick:()=>n(r=>{const a=[...r.mobiles];return a.splice(t,1),{...r,mobiles:a}}),className:"px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors font-medium",children:"Remove"})]},t)),e.jsxs("button",{type:"button",onClick:()=>n(s=>({...s,mobiles:[...s.mobiles,""]})),className:"text-yellow-500 hover:text-yellow-700 font-medium text-sm flex items-center gap-1",children:[e.jsx("span",{className:"text-xl",children:"+"})," Add Mobile Number"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700",children:[e.jsx(y,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Email Addresses"]}),l.emails.map((s,t)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"email",value:s,onChange:r=>n(a=>{const i=[...a.emails];return i[t]=r.target.value,{...a,emails:i}}),className:"flex-1 px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200 transition-all outline-none",placeholder:"contact@example.com",required:!0}),l.emails.length>1&&e.jsx("button",{type:"button",onClick:()=>n(r=>{const a=[...r.emails];return a.splice(t,1),{...r,emails:a}}),className:"px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors font-medium",children:"Remove"})]},t)),e.jsxs("button",{type:"button",onClick:()=>n(s=>({...s,emails:[...s.emails,""]})),className:"text-yellow-500 hover:text-yellow-700 font-medium text-sm flex items-center gap-1",children:[e.jsx("span",{className:"text-xl",children:"+"})," Add Email Address"]})]}),e.jsx("button",{type:"button",onClick:p,className:"w-full bg-yellow-500 text-white py-4 px-6 rounded-lg hover:bg-yellow-700 transition-all font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:o&&o.length>0?"âœ“ Update Contact Information":"+ Add Contact Information"})]})]})})};export{E as default};
