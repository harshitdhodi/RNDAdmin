import{j as z,b as lg,f as cg,g as ug}from"./main-D56VxXD--1744353259833.js";import{c as q,j as jt,R as D,e as Hf}from"./vendor-CxfDVdnA-1744353259833.js";import{_ as hg,a as El,b as fg,c as dg,d as ft,e as Oa,f as pt,g as Mt,h as Nt,i as gt,j as Qt,k as et,l as jf,m as fn,n as Kr,o as ka}from"./toArray-Bbgf03cS-1744353259833.js";import{p as pg,r as gg}from"./react-lifecycles-compat.es-Bz2kNPGS-1744353259833.js";import{P as L}from"./index-YPD3lxR9-1744353259833.js";import{r as Pa,a as wi,b as Vf,c as on,d as Yf,e as _i,f as mg,g as Uf,h as Kf,i as Si,j as de,k as vg,l as Ca,m as Xf,n as bg,o as Gf,p as Ra,q as yg,s as Qf,t as xg,u as wg,v as Zf,w as _g,x as Sg,y as Mg,z as Dg,A as Ta,B as Jf,C as Eg,D as td,E as Og,F as kg}from"./isEqual--MHBjqlO-1744353259833.js";import{E as Pg,h as Cg}from"./event-modal-C8TmE0MT-1744353259833.js";import{S as Ol,a as kl,b as Pl,c as Cl,d as ze}from"./select-DNWqn07V-1744353259833.js";import"./table-DgICpBAL-1744353259833.js";import"./plus-BeN-p7wc-1744353259833.js";import"./trash-2-BMoxPRvA-1744353259833.js";import"./Combination-GEIj-fwg-1744353259833.js";import"./index-B4w3sIbe-1744353259833.js";import"./check-CNcU0gId-1744353259833.js";import"./chevron-up-BS150iEF-1744353259833.js";const Rg=()=>{const[n,t]=q.useState({customerCount:0,supplierCount:0,chemicalCount:0,inquiryCount:0});return q.useEffect(()=>{(async()=>{try{const r=await lg.get("/api/count/dataCount");console.log(r),t(r.data)}catch(r){console.error("Error fetching data count:",r)}})()},[]),z.jsxs("div",{className:"p-1  mx-auto",children:[z.jsx("div",{children:z.jsx("h1",{className:"text-xl font-semibold text-purple-800 mb-4 pb-1 border-b border-purple-800",children:"Dashboard"})}),z.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[z.jsxs("div",{className:"bg-emerald-500 text-white p-6 rounded-md shadow-lg relative overflow-hidden",children:[z.jsx("div",{className:"text-4xl font-bold mb-2",children:n.inquiryCount}),z.jsx("div",{className:"text-lg",children:"Total Inquiries"}),z.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-20",children:z.jsx("svg",{className:"w-20 h-20",fill:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),z.jsxs("div",{className:"bg-amber-500 text-white p-6 rounded-md shadow-lg relative overflow-hidden",children:[z.jsx("div",{className:"text-4xl font-bold mb-2",children:n.chemicalCount}),z.jsx("div",{className:"text-lg",children:"Total Chemicals"}),z.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-20",children:z.jsx("svg",{className:"w-20 h-20",fill:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})})]}),z.jsxs("div",{className:"bg-purple-600 text-white p-6 rounded-md shadow-lg relative overflow-hidden",children:[z.jsx("div",{className:"text-4xl font-bold mb-2",children:n.supplierCount}),z.jsx("div",{className:"text-lg",children:"Total Suppliers"}),z.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-20",children:z.jsx("svg",{className:"w-20 h-20",fill:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1zM8 11a1 1 0 100-2 1 1 0 000 2zm0 4a1 1 0 100-2 1 1 0 000 2zm9-11a1 1 0 011 1v10a1 1 0 01-1 1h-1V4h1z"})})})]}),z.jsxs("div",{className:"bg-blue-500 text-white p-6 rounded-md shadow-lg relative overflow-hidden",children:[z.jsx("div",{className:"text-4xl font-bold mb-2",children:n.customerCount}),z.jsx("div",{className:"text-lg",children:"Total Customers"}),z.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-20",children:z.jsx("svg",{className:"w-20 h-20",fill:"currentColor",viewBox:"0 0 24 24",children:z.jsx("path",{d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]})]})]})};function Dt(n,t,e){return t=El(t),hg(n,fg()?Reflect.construct(t,e||[],El(n).constructor):t.apply(n,e))}function ed(n){var t,e,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(t=0;t<n.length;t++)n[t]&&(e=ed(n[t]))&&(r&&(r+=" "),r+=e);else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function ut(){for(var n,t,e=0,r="";e<arguments.length;)(n=arguments[e++])&&(t=ed(n))&&(r&&(r+=" "),r+=t);return r}var Yi,Rl;function Tg(){if(Rl)return Yi;Rl=1;var n=function(t,e,r,i,s,o,a,l){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,i,s,o,a,l],h=0;c=new Error(e.replace(/%s/g,function(){return u[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};return Yi=n,Yi}var Ag=Tg();const Gn=jt(Ag);var Lg=function(){};function Ig(n,t){var e={};return Object.keys(n).forEach(function(r){e[Xr(r)]=Lg}),e}function Tl(n,t){return n[t]!==void 0}function Xr(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function Fg(n){return!!n&&(typeof n!="function"||n.prototype&&n.prototype.isReactComponent)}function Ng(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,dg(n,t)}var zg="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function nd(n,t,e){e===void 0&&(e=[]);var r=n.displayName||n.name||"Component",i=Fg(n),s=Object.keys(t),o=s.map(Xr);i||!e.length||Gn(!1);var a=function(c){Ng(u,c);function u(){for(var f,d=arguments.length,g=new Array(d),p=0;p<d;p++)g[p]=arguments[p];f=c.call.apply(c,[this].concat(g))||this,f.handlers=Object.create(null),s.forEach(function(v){var b=t[v],w=function(x){if(f.props[b]){var _;f._notifying=!0;for(var S=arguments.length,M=new Array(S>1?S-1:0),E=1;E<S;E++)M[E-1]=arguments[E];(_=f.props)[b].apply(_,[x].concat(M)),f._notifying=!1}f.unmounted||f.setState(function(O){var k,C=O.values;return{values:ft(Object.create(null),C,(k={},k[v]=x,k))}})};f.handlers[b]=w}),e.length&&(f.attachRef=function(v){f.inner=v});var m=Object.create(null);return s.forEach(function(v){m[v]=f.props[Xr(v)]}),f.state={values:m,prevProps:{}},f}var h=u.prototype;return h.shouldComponentUpdate=function(){return!this._notifying},u.getDerivedStateFromProps=function(d,g){var p=g.values,m=g.prevProps,v={values:ft(Object.create(null),p),prevProps:{}};return s.forEach(function(b){v.prevProps[b]=d[b],!Tl(d,b)&&Tl(m,b)&&(v.values[b]=d[Xr(b)])}),v},h.componentWillUnmount=function(){this.unmounted=!0},h.render=function(){var d=this,g=this.props,p=g.innerRef,m=Oa(g,["innerRef"]);o.forEach(function(b){delete m[b]});var v={};return s.forEach(function(b){var w=d.props[b];v[b]=w!==void 0?w:d.state.values[b]}),D.createElement(n,ft({},m,v,this.handlers,{ref:p||this.attachRef}))},u}(D.Component);pg(a),a.displayName="Uncontrolled("+r+")",a.propTypes=ft({innerRef:function(){}},Ig(t)),e.forEach(function(c){a.prototype[c]=function(){var h;return(h=this.inner)[c].apply(h,arguments)}});var l=a;return D.forwardRef&&(l=D.forwardRef(function(c,u){return D.createElement(a,ft({},c,{innerRef:u,__source:{fileName:zg,lineNumber:128},__self:this}))}),l.propTypes=a.propTypes),l.ControlledComponent=n,l.deferControlTo=function(c,u,h){return u===void 0&&(u={}),nd(c,ft({},t,u),h)},l}var ai="milliseconds",Qn="seconds",Zn="minutes",Jn="hours",Ge="day",gn="week",tr="month",Qe="year",Ze="decade",Je="century",rd={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},Bg={month:1,year:12,decade:10*12,century:100*12};function Wg(n){return[31,qg(n),31,30,31,30,31,31,30,31,30,31]}function qg(n){return n%4===0&&n%100!==0||n%400===0?29:28}function Ht(n,t,e){switch(n=new Date(n),e){case ai:case Qn:case Zn:case Jn:case Ge:case gn:return $g(n,t*rd[e]);case tr:case Qe:case Ze:case Je:return Hg(n,t*Bg[e])}throw new TypeError('Invalid units: "'+e+'"')}function $g(n,t){var e=new Date(+n+t);return jg(n,e)}function Hg(n,t){var e=n.getFullYear(),r=n.getMonth(),i=n.getDate(),s=e*12+r+t,o=Math.trunc(s/12),a=s%12,l=Math.min(i,Wg(o)[a]),c=new Date(n);return c.setFullYear(o),c.setDate(1),c.setMonth(a),c.setDate(l),c}function jg(n,t){var e=n.getTimezoneOffset(),r=t.getTimezoneOffset(),i=r-e;return new Date(+t+i*rd.minutes)}function er(n,t,e){return Ht(n,-t,e)}function yt(n,t,e){switch(n=new Date(n),t){case Je:case Ze:case Qe:n=ci(n,0);case tr:n=ld(n,1);case gn:case Ge:n=ir(n,0);case Jn:n=mn(n,0);case Zn:n=rr(n,0);case Qn:n=nr(n,0)}return t===Ze&&(n=er(n,tn(n)%10,"year")),t===Je&&(n=er(n,tn(n)%100,"year")),t===gn&&(n=cd(n,0,e)),n}function li(n,t,e){switch(n=new Date(n),n=yt(n,t,e),t){case Je:case Ze:case Qe:case tr:case gn:n=Ht(n,1,t),n=er(n,1,Ge),n.setHours(23,59,59,999);break;case Ge:n.setHours(23,59,59,999);break;case Jn:case Zn:case Qn:n=Ht(n,1,t),n=er(n,1,ai)}return n}var br=Dn(function(n,t){return n===t}),Aa=Dn(function(n,t){return n!==t}),Mi=Dn(function(n,t){return n>t}),yr=Dn(function(n,t){return n>=t}),La=Dn(function(n,t){return n<t}),Mn=Dn(function(n,t){return n<=t});function id(){return new Date(Math.min.apply(Math,arguments))}function sd(){return new Date(Math.max.apply(Math,arguments))}function od(n,t,e,r){return r=r||"day",(!t||yr(n,t,r))&&(!e||Mn(n,e,r))}var nr=Ce("Milliseconds"),rr=Ce("Seconds"),mn=Ce("Minutes"),ir=Ce("Hours"),ad=Ce("Day"),ld=Ce("Date"),ci=Ce("Month"),tn=Ce("FullYear");function Vg(n,t){return t===void 0?tn(yt(n,Ze)):Ht(n,t+10,Qe)}function Yg(n,t){return t===void 0?tn(yt(n,Je)):Ht(n,t+100,Qe)}function cd(n,t,e){var r=(ad(n)+7-(e||0))%7;return t===void 0?r:Ht(n,t-r,Ge)}function Ug(n,t,e,r){var i,s,o;switch(e){case ai:case Qn:case Zn:case Jn:case Ge:case gn:i=t.getTime()-n.getTime();break;case tr:case Qe:case Ze:case Je:i=(tn(t)-tn(n))*12+ci(t)-ci(n);break;default:throw new TypeError('Invalid units: "'+e+'"')}switch(e){case ai:s=1;break;case Qn:s=1e3;break;case Zn:s=1e3*60;break;case Jn:s=1e3*60*60;break;case Ge:s=1e3*60*60*24;break;case gn:s=1e3*60*60*24*7;break;case tr:s=1;break;case Qe:s=12;break;case Ze:s=120;break;case Je:s=1200;break;default:throw new TypeError('Invalid units: "'+e+'"')}return o=i/s,r?o:Math.round(o)}function Ce(n){var t=function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(n);return function(e,r){if(r===void 0)return e["get"+n]();var i=new Date(e);return i["set"+n](r),t&&i["get"+n]()!=r&&(n==="Hours"||r>=t&&i.getHours()-e.getHours()<Math.floor(r/t))&&i["set"+n](r+t),i}}function Dn(n){return function(t,e,r){return n(+yt(t,r),+yt(e,r))}}const Al=Object.freeze(Object.defineProperty({__proto__:null,add:Ht,century:Yg,date:ld,day:ad,decade:Vg,diff:Ug,endOf:li,eq:br,gt:Mi,gte:yr,hours:ir,inRange:od,lt:La,lte:Mn,max:sd,milliseconds:nr,min:id,minutes:mn,month:ci,neq:Aa,seconds:rr,startOf:yt,subtract:er,weekday:cd,year:tn},Symbol.toStringTag,{value:"Module"}));var Ui,Ll;function ud(){if(Ll)return Ui;Ll=1;function n(t,e,r){var i=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(s);++i<s;)o[i]=t[i+e];return o}return Ui=n,Ui}var Ki,Il;function Di(){if(Il)return Ki;Il=1;var n=Pa(),t=wi(),e=Vf(),r=on();function i(s,o,a){if(!r(a))return!1;var l=typeof o;return(l=="number"?t(a)&&e(o,a.length):l=="string"&&o in a)?n(a[o],s):!1}return Ki=i,Ki}var Xi,Fl;function Kg(){if(Fl)return Xi;Fl=1;var n=/\s/;function t(e){for(var r=e.length;r--&&n.test(e.charAt(r)););return r}return Xi=t,Xi}var Gi,Nl;function Xg(){if(Nl)return Gi;Nl=1;var n=Kg(),t=/^\s+/;function e(r){return r&&r.slice(0,n(r)+1).replace(t,"")}return Gi=e,Gi}var Qi,zl;function xr(){if(zl)return Qi;zl=1;var n=Yf(),t=_i(),e="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&n(i)==e}return Qi=r,Qi}var Zi,Bl;function Gg(){if(Bl)return Zi;Bl=1;var n=Xg(),t=on(),e=xr(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(c){if(typeof c=="number")return c;if(e(c))return r;if(t(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=t(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=n(c);var h=s.test(c);return h||o.test(c)?a(c.slice(2),h?2:8):i.test(c)?r:+c}return Zi=l,Zi}var Ji,Wl;function hd(){if(Wl)return Ji;Wl=1;var n=Gg(),t=1/0,e=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=n(i),i===t||i===-1/0){var s=i<0?-1:1;return s*e}return i===i?i:0}return Ji=r,Ji}var ts,ql;function fd(){if(ql)return ts;ql=1;var n=hd();function t(e){var r=n(e),i=r%1;return r===r?i?r-i:r:0}return ts=t,ts}var es,$l;function Qg(){if($l)return es;$l=1;var n=ud(),t=Di(),e=fd(),r=Math.ceil,i=Math.max;function s(o,a,l){(l?t(o,a,l):a===void 0)?a=1:a=i(e(a),0);var c=o==null?0:o.length;if(!c||a<1)return[];for(var u=0,h=0,f=Array(r(c/a));u<c;)f[h++]=n(o,u,u+=a);return f}return es=s,es}var Zg=Qg();const Jg=jt(Zg);function wr(n){return n&&n.ownerDocument||document}function tm(n){var t=wr(n);return t&&t.defaultView||window}function em(n,t){return tm(n).getComputedStyle(n,t)}var nm=/([A-Z])/g;function rm(n){return n.replace(nm,"-$1").toLowerCase()}var im=/^ms-/;function Cr(n){return rm(n).replace(im,"-ms-")}var sm=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function om(n){return!!(n&&sm.test(n))}function dn(n,t){var e="",r="";if(typeof t=="string")return n.style.getPropertyValue(Cr(t))||em(n).getPropertyValue(Cr(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?n.style.removeProperty(Cr(i)):om(i)?r+=i+"("+s+") ":e+=Cr(i)+": "+s+";"}),r&&(e+="transform: "+r+";"),n.style.cssText+=";"+e}function sr(n,t){if(n.contains)return n.contains(t);if(n.compareDocumentPosition)return n===t||!!(n.compareDocumentPosition(t)&16)}function am(n){return"nodeType"in n&&n.nodeType===document.DOCUMENT_NODE}function Ia(n){return"window"in n&&n.window===n?n:am(n)&&n.defaultView||!1}function dd(n){var t=n==="pageXOffset"?"scrollLeft":"scrollTop";function e(r,i){var s=Ia(r);if(i===void 0)return s?s[n]:r[t];s?s.scrollTo(s[n],i):r[t]=i}return e}const pd=dd("pageXOffset"),gd=dd("pageYOffset");function Ye(n){var t=wr(n),e={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!sr(r,n)||(n.getBoundingClientRect!==void 0&&(e=n.getBoundingClientRect()),e={top:e.top+gd(r)-(r.clientTop||0),left:e.left+pd(r)-(r.clientLeft||0),width:e.width,height:e.height}),e}var lm=function(t){return!!t&&"offsetParent"in t};function cm(n){for(var t=wr(n),e=n&&n.offsetParent;lm(e)&&e.nodeName!=="HTML"&&dn(e,"position")==="static";)e=e.offsetParent;return e||t.documentElement}var um=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function md(n,t){var e={top:0,left:0},r;if(dn(n,"position")==="fixed")r=n.getBoundingClientRect();else{var i=t||cm(n);r=Ye(n),um(i)!=="html"&&(e=Ye(i));var s=String(dn(i,"borderTopWidth")||0);e.top+=parseInt(s,10)-gd(i)||0;var o=String(dn(i,"borderLeftWidth")||0);e.left+=parseInt(o,10)-pd(i)||0}var a=String(dn(n,"marginTop")||0),l=String(dn(n,"marginLeft")||0);return ft({},r,{top:r.top-e.top-(parseInt(a,10)||0),left:r.left-e.left-(parseInt(l,10)||0)})}const Fa=!!(typeof window<"u"&&window.document&&window.document.createElement);var Hl=new Date().getTime();function hm(n){var t=new Date().getTime(),e=Math.max(0,16-(t-Hl)),r=setTimeout(n,e);return Hl=t,r}var fm=["","webkit","moz","o","ms"],aa="clearTimeout",la=hm,jl=function(t,e){return t+(t?e[0].toUpperCase()+e.substr(1):e)+"AnimationFrame"};Fa&&fm.some(function(n){var t=jl(n,"request");return t in window&&(aa=jl(n,"cancel"),la=function(r){return window[t](r)}),!!la});var Vl=function(t){typeof window[aa]=="function"&&window[aa](t)},vd=la,ns;function dm(n,t){if(!ns){var e=document.body,r=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;ns=function(s,o){return r.call(s,o)}}return ns(n,t)}var pm=Function.prototype.bind.call(Function.prototype.call,[].slice);function gm(n,t){return pm(n.querySelectorAll(t))}var ca=!1,ua=!1;try{var rs={get passive(){return ca=!0},get once(){return ua=ca=!0}};Fa&&(window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,!0))}catch{}function mm(n,t,e,r){if(r&&typeof r!="boolean"&&!ua){var i=r.once,s=r.capture,o=e;!ua&&i&&(o=e.__once||function a(l){this.removeEventListener(t,a,s),e.call(this,l)},e.__once=o),n.addEventListener(t,o,ca?r:s)}n.addEventListener(t,e,r)}function vm(n){const t=q.useRef(n);return q.useEffect(()=>{t.current=n},[n]),t}function Yl(n){const t=vm(n);return q.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function Ul(){return q.useState(null)}function bm(){const n=q.useRef(!0),t=q.useRef(()=>n.current);return q.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),t.current}function ym(n){const t=bm();return[n[0],q.useCallback(e=>{if(t())return n[1](e)},[t,n[1]])]}var Pt="top",zt="bottom",Bt="right",Ct="left",Na="auto",_r=[Pt,zt,Bt,Ct],vn="start",or="end",xm="clippingParents",bd="viewport",Pn="popper",wm="reference",Kl=_r.reduce(function(n,t){return n.concat([t+"-"+vn,t+"-"+or])},[]),za=[].concat(_r,[Na]).reduce(function(n,t){return n.concat([t,t+"-"+vn,t+"-"+or])},[]),_m="beforeRead",Sm="read",Mm="afterRead",Dm="beforeMain",Em="main",Om="afterMain",km="beforeWrite",Pm="write",Cm="afterWrite",Rm=[_m,Sm,Mm,Dm,Em,Om,km,Pm,Cm];function Kt(n){return n.split("-")[0]}function It(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function en(n){var t=It(n).Element;return n instanceof t||n instanceof Element}function Xt(n){var t=It(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function Ba(n){if(typeof ShadowRoot>"u")return!1;var t=It(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}var Ue=Math.max,ui=Math.min,bn=Math.round;function ha(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function yd(){return!/^((?!chrome|android).)*safari/i.test(ha())}function yn(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var r=n.getBoundingClientRect(),i=1,s=1;t&&Xt(n)&&(i=n.offsetWidth>0&&bn(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&bn(r.height)/n.offsetHeight||1);var o=en(n)?It(n):window,a=o.visualViewport,l=!yd()&&e,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,h=r.width/i,f=r.height/s;return{width:h,height:f,top:u,right:c+h,bottom:u+f,left:c,x:c,y:u}}function Wa(n){var t=yn(n),e=n.offsetWidth,r=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:r}}function xd(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&Ba(e)){var r=t;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ee(n){return n?(n.nodeName||"").toLowerCase():null}function he(n){return It(n).getComputedStyle(n)}function Tm(n){return["table","td","th"].indexOf(Ee(n))>=0}function Re(n){return((en(n)?n.ownerDocument:n.document)||window.document).documentElement}function Ei(n){return Ee(n)==="html"?n:n.assignedSlot||n.parentNode||(Ba(n)?n.host:null)||Re(n)}function Xl(n){return!Xt(n)||he(n).position==="fixed"?null:n.offsetParent}function Am(n){var t=/firefox/i.test(ha()),e=/Trident/i.test(ha());if(e&&Xt(n)){var r=he(n);if(r.position==="fixed")return null}var i=Ei(n);for(Ba(i)&&(i=i.host);Xt(i)&&["html","body"].indexOf(Ee(i))<0;){var s=he(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Sr(n){for(var t=It(n),e=Xl(n);e&&Tm(e)&&he(e).position==="static";)e=Xl(e);return e&&(Ee(e)==="html"||Ee(e)==="body"&&he(e).position==="static")?t:e||Am(n)||t}function qa(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function jn(n,t,e){return Ue(n,ui(t,e))}function Lm(n,t,e){var r=jn(n,t,e);return r>e?e:r}function wd(){return{top:0,right:0,bottom:0,left:0}}function _d(n){return Object.assign({},wd(),n)}function Sd(n,t){return t.reduce(function(e,r){return e[r]=n,e},{})}var Im=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,_d(typeof t!="number"?t:Sd(t,_r))};function Fm(n){var t,e=n.state,r=n.name,i=n.options,s=e.elements.arrow,o=e.modifiersData.popperOffsets,a=Kt(e.placement),l=qa(a),c=[Ct,Bt].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var h=Im(i.padding,e),f=Wa(s),d=l==="y"?Pt:Ct,g=l==="y"?zt:Bt,p=e.rects.reference[u]+e.rects.reference[l]-o[l]-e.rects.popper[u],m=o[l]-e.rects.reference[l],v=Sr(s),b=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,w=p/2-m/2,y=h[d],x=b-f[u]-h[g],_=b/2-f[u]/2+w,S=jn(y,_,x),M=l;e.modifiersData[r]=(t={},t[M]=S,t.centerOffset=S-_,t)}}function Nm(n){var t=n.state,e=n.options,r=e.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||xd(t.elements.popper,i)&&(t.elements.arrow=i))}const zm={name:"arrow",enabled:!0,phase:"main",fn:Fm,effect:Nm,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xn(n){return n.split("-")[1]}var Bm={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Wm(n,t){var e=n.x,r=n.y,i=t.devicePixelRatio||1;return{x:bn(e*i)/i||0,y:bn(r*i)/i||0}}function Gl(n){var t,e=n.popper,r=n.popperRect,i=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,h=n.isFixed,f=o.x,d=f===void 0?0:f,g=o.y,p=g===void 0?0:g,m=typeof u=="function"?u({x:d,y:p}):{x:d,y:p};d=m.x,p=m.y;var v=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),w=Ct,y=Pt,x=window;if(c){var _=Sr(e),S="clientHeight",M="clientWidth";if(_===It(e)&&(_=Re(e),he(_).position!=="static"&&a==="absolute"&&(S="scrollHeight",M="scrollWidth")),_=_,i===Pt||(i===Ct||i===Bt)&&s===or){y=zt;var E=h&&_===x&&x.visualViewport?x.visualViewport.height:_[S];p-=E-r.height,p*=l?1:-1}if(i===Ct||(i===Pt||i===zt)&&s===or){w=Bt;var O=h&&_===x&&x.visualViewport?x.visualViewport.width:_[M];d-=O-r.width,d*=l?1:-1}}var k=Object.assign({position:a},c&&Bm),C=u===!0?Wm({x:d,y:p},It(e)):{x:d,y:p};if(d=C.x,p=C.y,l){var T;return Object.assign({},k,(T={},T[y]=b?"0":"",T[w]=v?"0":"",T.transform=(x.devicePixelRatio||1)<=1?"translate("+d+"px, "+p+"px)":"translate3d("+d+"px, "+p+"px, 0)",T))}return Object.assign({},k,(t={},t[y]=b?p+"px":"",t[w]=v?d+"px":"",t.transform="",t))}function qm(n){var t=n.state,e=n.options,r=e.gpuAcceleration,i=r===void 0?!0:r,s=e.adaptive,o=s===void 0?!0:s,a=e.roundOffsets,l=a===void 0?!0:a,c={placement:Kt(t.placement),variation:xn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Gl(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Gl(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const $m={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:qm,data:{}};var Rr={passive:!0};function Hm(n){var t=n.state,e=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=It(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",e.update,Rr)}),a&&l.addEventListener("resize",e.update,Rr),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",e.update,Rr)}),a&&l.removeEventListener("resize",e.update,Rr)}}const jm={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Hm,data:{}};var Vm={left:"right",right:"left",bottom:"top",top:"bottom"};function Gr(n){return n.replace(/left|right|bottom|top/g,function(t){return Vm[t]})}var Ym={start:"end",end:"start"};function Ql(n){return n.replace(/start|end/g,function(t){return Ym[t]})}function $a(n){var t=It(n),e=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:e,scrollTop:r}}function Ha(n){return yn(Re(n)).left+$a(n).scrollLeft}function Um(n,t){var e=It(n),r=Re(n),i=e.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=yd();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Ha(n),y:l}}function Km(n){var t,e=Re(n),r=$a(n),i=(t=n.ownerDocument)==null?void 0:t.body,s=Ue(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ue(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Ha(n),l=-r.scrollTop;return he(i||e).direction==="rtl"&&(a+=Ue(e.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function ja(n){var t=he(n),e=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+i+r)}function Md(n){return["html","body","#document"].indexOf(Ee(n))>=0?n.ownerDocument.body:Xt(n)&&ja(n)?n:Md(Ei(n))}function Vn(n,t){var e;t===void 0&&(t=[]);var r=Md(n),i=r===((e=n.ownerDocument)==null?void 0:e.body),s=It(r),o=i?[s].concat(s.visualViewport||[],ja(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(Vn(Ei(o)))}function fa(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Xm(n,t){var e=yn(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function Zl(n,t,e){return t===bd?fa(Um(n,e)):en(t)?Xm(t,e):fa(Km(Re(n)))}function Gm(n){var t=Vn(Ei(n)),e=["absolute","fixed"].indexOf(he(n).position)>=0,r=e&&Xt(n)?Sr(n):n;return en(r)?t.filter(function(i){return en(i)&&xd(i,r)&&Ee(i)!=="body"}):[]}function Qm(n,t,e,r){var i=t==="clippingParents"?Gm(n):[].concat(t),s=[].concat(i,[e]),o=s[0],a=s.reduce(function(l,c){var u=Zl(n,c,r);return l.top=Ue(u.top,l.top),l.right=ui(u.right,l.right),l.bottom=ui(u.bottom,l.bottom),l.left=Ue(u.left,l.left),l},Zl(n,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Dd(n){var t=n.reference,e=n.element,r=n.placement,i=r?Kt(r):null,s=r?xn(r):null,o=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2,l;switch(i){case Pt:l={x:o,y:t.y-e.height};break;case zt:l={x:o,y:t.y+t.height};break;case Bt:l={x:t.x+t.width,y:a};break;case Ct:l={x:t.x-e.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?qa(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case vn:l[c]=l[c]-(t[u]/2-e[u]/2);break;case or:l[c]=l[c]+(t[u]/2-e[u]/2);break}}return l}function ar(n,t){t===void 0&&(t={});var e=t,r=e.placement,i=r===void 0?n.placement:r,s=e.strategy,o=s===void 0?n.strategy:s,a=e.boundary,l=a===void 0?xm:a,c=e.rootBoundary,u=c===void 0?bd:c,h=e.elementContext,f=h===void 0?Pn:h,d=e.altBoundary,g=d===void 0?!1:d,p=e.padding,m=p===void 0?0:p,v=_d(typeof m!="number"?m:Sd(m,_r)),b=f===Pn?wm:Pn,w=n.rects.popper,y=n.elements[g?b:f],x=Qm(en(y)?y:y.contextElement||Re(n.elements.popper),l,u,o),_=yn(n.elements.reference),S=Dd({reference:_,element:w,placement:i}),M=fa(Object.assign({},w,S)),E=f===Pn?M:_,O={top:x.top-E.top+v.top,bottom:E.bottom-x.bottom+v.bottom,left:x.left-E.left+v.left,right:E.right-x.right+v.right},k=n.modifiersData.offset;if(f===Pn&&k){var C=k[i];Object.keys(O).forEach(function(T){var B=[Bt,zt].indexOf(T)>=0?1:-1,W=[Pt,zt].indexOf(T)>=0?"y":"x";O[T]+=C[W]*B})}return O}function Zm(n,t){t===void 0&&(t={});var e=t,r=e.placement,i=e.boundary,s=e.rootBoundary,o=e.padding,a=e.flipVariations,l=e.allowedAutoPlacements,c=l===void 0?za:l,u=xn(r),h=u?a?Kl:Kl.filter(function(g){return xn(g)===u}):_r,f=h.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=h);var d=f.reduce(function(g,p){return g[p]=ar(n,{placement:p,boundary:i,rootBoundary:s,padding:o})[Kt(p)],g},{});return Object.keys(d).sort(function(g,p){return d[g]-d[p]})}function Jm(n){if(Kt(n)===Na)return[];var t=Gr(n);return[Ql(n),t,Ql(t)]}function tv(n){var t=n.state,e=n.options,r=n.name;if(!t.modifiersData[r]._skip){for(var i=e.mainAxis,s=i===void 0?!0:i,o=e.altAxis,a=o===void 0?!0:o,l=e.fallbackPlacements,c=e.padding,u=e.boundary,h=e.rootBoundary,f=e.altBoundary,d=e.flipVariations,g=d===void 0?!0:d,p=e.allowedAutoPlacements,m=t.options.placement,v=Kt(m),b=v===m,w=l||(b||!g?[Gr(m)]:Jm(m)),y=[m].concat(w).reduce(function(I,N){return I.concat(Kt(N)===Na?Zm(t,{placement:N,boundary:u,rootBoundary:h,padding:c,flipVariations:g,allowedAutoPlacements:p}):N)},[]),x=t.rects.reference,_=t.rects.popper,S=new Map,M=!0,E=y[0],O=0;O<y.length;O++){var k=y[O],C=Kt(k),T=xn(k)===vn,B=[Pt,zt].indexOf(C)>=0,W=B?"width":"height",F=ar(t,{placement:k,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),$=B?T?Bt:Ct:T?zt:Pt;x[W]>_[W]&&($=Gr($));var Y=Gr($),V=[];if(s&&V.push(F[C]<=0),a&&V.push(F[$]<=0,F[Y]<=0),V.every(function(I){return I})){E=k,M=!1;break}S.set(k,V)}if(M)for(var rt=g?3:1,P=function(N){var H=y.find(function(tt){var G=S.get(tt);if(G)return G.slice(0,N).every(function(Tt){return Tt})});if(H)return E=H,"break"},R=rt;R>0;R--){var A=P(R);if(A==="break")break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}}const ev={name:"flip",enabled:!0,phase:"main",fn:tv,requiresIfExists:["offset"],data:{_skip:!1}};function Jl(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function tc(n){return[Pt,Bt,zt,Ct].some(function(t){return n[t]>=0})}function nv(n){var t=n.state,e=n.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=ar(t,{elementContext:"reference"}),a=ar(t,{altBoundary:!0}),l=Jl(o,r),c=Jl(a,i,s),u=tc(l),h=tc(c);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const rv={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:nv};function iv(n,t,e){var r=Kt(n),i=[Ct,Pt].indexOf(r)>=0?-1:1,s=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Ct,Bt].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function sv(n){var t=n.state,e=n.options,r=n.name,i=e.offset,s=i===void 0?[0,0]:i,o=za.reduce(function(u,h){return u[h]=iv(h,t.rects,s),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}const ov={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:sv};function av(n){var t=n.state,e=n.name;t.modifiersData[e]=Dd({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const lv={name:"popperOffsets",enabled:!0,phase:"read",fn:av,data:{}};function cv(n){return n==="x"?"y":"x"}function uv(n){var t=n.state,e=n.options,r=n.name,i=e.mainAxis,s=i===void 0?!0:i,o=e.altAxis,a=o===void 0?!1:o,l=e.boundary,c=e.rootBoundary,u=e.altBoundary,h=e.padding,f=e.tether,d=f===void 0?!0:f,g=e.tetherOffset,p=g===void 0?0:g,m=ar(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),v=Kt(t.placement),b=xn(t.placement),w=!b,y=qa(v),x=cv(y),_=t.modifiersData.popperOffsets,S=t.rects.reference,M=t.rects.popper,E=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,O=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(_){if(s){var T,B=y==="y"?Pt:Ct,W=y==="y"?zt:Bt,F=y==="y"?"height":"width",$=_[y],Y=$+m[B],V=$-m[W],rt=d?-M[F]/2:0,P=b===vn?S[F]:M[F],R=b===vn?-M[F]:-S[F],A=t.elements.arrow,I=d&&A?Wa(A):{width:0,height:0},N=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:wd(),H=N[B],tt=N[W],G=jn(0,S[F],I[F]),Tt=w?S[F]/2-rt-G-H-O.mainAxis:P-G-H-O.mainAxis,ge=w?-S[F]/2+rt+G+tt+O.mainAxis:R+G+tt+O.mainAxis,Zt=t.elements.arrow&&Sr(t.elements.arrow),Le=Zt?y==="y"?Zt.clientTop||0:Zt.clientLeft||0:0,ln=(T=k?.[y])!=null?T:0,On=$+Tt-ln-Le,J=$+ge-ln,Ie=jn(d?ui(Y,On):Y,$,d?Ue(V,J):V);_[y]=Ie,C[y]=Ie-$}if(a){var X,me=y==="x"?Pt:Ct,ve=y==="x"?zt:Bt,Jt=_[x],te=x==="y"?"height":"width",qt=Jt+m[me],vt=Jt-m[ve],be=[Pt,Ct].indexOf(v)!==-1,Fe=(X=k?.[x])!=null?X:0,Pr=be?qt:Jt-S[te]-M[te]-Fe+O.altAxis,kn=be?Jt+S[te]+M[te]-Fe-O.altAxis:vt,ee=d&&be?Lm(Pr,Jt,kn):jn(d?Pr:qt,Jt,d?kn:vt);_[x]=ee,C[x]=ee-Jt}t.modifiersData[r]=C}}const hv={name:"preventOverflow",enabled:!0,phase:"main",fn:uv,requiresIfExists:["offset"]};function fv(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function dv(n){return n===It(n)||!Xt(n)?$a(n):fv(n)}function pv(n){var t=n.getBoundingClientRect(),e=bn(t.width)/n.offsetWidth||1,r=bn(t.height)/n.offsetHeight||1;return e!==1||r!==1}function gv(n,t,e){e===void 0&&(e=!1);var r=Xt(t),i=Xt(t)&&pv(t),s=Re(t),o=yn(n,i,e),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!e)&&((Ee(t)!=="body"||ja(s))&&(a=dv(t)),Xt(t)?(l=yn(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=Ha(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function mv(n){var t=new Map,e=new Set,r=[];n.forEach(function(s){t.set(s.name,s)});function i(s){e.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!e.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return n.forEach(function(s){e.has(s.name)||i(s)}),r}function vv(n){var t=mv(n);return Rm.reduce(function(e,r){return e.concat(t.filter(function(i){return i.phase===r}))},[])}function bv(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function yv(n){var t=n.reduce(function(e,r){var i=e[r.name];return e[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,e},{});return Object.keys(t).map(function(e){return t[e]})}var ec={placement:"bottom",modifiers:[],strategy:"absolute"};function nc(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function xv(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,r=e===void 0?[]:e,i=t.defaultOptions,s=i===void 0?ec:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},ec,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,d={state:u,setOptions:function(v){var b=typeof v=="function"?v(u.options):v;p(),u.options=Object.assign({},s,u.options,b),u.scrollParents={reference:en(a)?Vn(a):a.contextElement?Vn(a.contextElement):[],popper:Vn(l)};var w=vv(yv([].concat(r,u.options.modifiers)));return u.orderedModifiers=w.filter(function(y){return y.enabled}),g(),d.update()},forceUpdate:function(){if(!f){var v=u.elements,b=v.reference,w=v.popper;if(nc(b,w)){u.rects={reference:gv(b,Sr(w),u.options.strategy==="fixed"),popper:Wa(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(O){return u.modifiersData[O.name]=Object.assign({},O.data)});for(var y=0;y<u.orderedModifiers.length;y++){if(u.reset===!0){u.reset=!1,y=-1;continue}var x=u.orderedModifiers[y],_=x.fn,S=x.options,M=S===void 0?{}:S,E=x.name;typeof _=="function"&&(u=_({state:u,options:M,name:E,instance:d})||u)}}}},update:bv(function(){return new Promise(function(m){d.forceUpdate(),m(u)})}),destroy:function(){p(),f=!0}};if(!nc(a,l))return d;d.setOptions(c).then(function(m){!f&&c.onFirstUpdate&&c.onFirstUpdate(m)});function g(){u.orderedModifiers.forEach(function(m){var v=m.name,b=m.options,w=b===void 0?{}:b,y=m.effect;if(typeof y=="function"){var x=y({state:u,name:v,instance:d,options:w}),_=function(){};h.push(x||_)}})}function p(){h.forEach(function(m){return m()}),h=[]}return d}}var wv=xv({defaultModifiers:[rv,lv,$m,jm,ov,ev,hv,zm]}),rc=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},_v={name:"applyStyles",enabled:!1},Sv={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var e=t.state;return function(){var r=e.elements,i=r.reference,s=r.popper;if("removeAttribute"in i){var o=(i.getAttribute("aria-describedby")||"").split(",").filter(function(a){return a.trim()!==s.id});o.length?i.setAttribute("aria-describedby",o.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(t){var e,r=t.state,i=r.elements,s=i.popper,o=i.reference,a=(e=s.getAttribute("role"))==null?void 0:e.toLowerCase();if(s.id&&a==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},Mv=[];function Dv(n,t,e){var r=e===void 0?{}:e,i=r.enabled,s=i===void 0?!0:i,o=r.placement,a=o===void 0?"bottom":o,l=r.strategy,c=l===void 0?"absolute":l,u=r.modifiers,h=u===void 0?Mv:u,f=Oa(r,["enabled","placement","strategy","modifiers"]),d=q.useRef(),g=q.useCallback(function(){var y;(y=d.current)==null||y.update()},[]),p=q.useCallback(function(){var y;(y=d.current)==null||y.forceUpdate()},[]),m=ym(q.useState({placement:a,update:g,forceUpdate:p,attributes:{},styles:{popper:rc(c),arrow:{}}})),v=m[0],b=m[1],w=q.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(x){var _=x.state,S={},M={};Object.keys(_.elements).forEach(function(E){S[E]=_.styles[E],M[E]=_.attributes[E]}),b({state:_,styles:S,attributes:M,update:g,forceUpdate:p,placement:_.placement})}}},[g,p,b]);return q.useEffect(function(){!d.current||!s||d.current.setOptions({placement:a,strategy:c,modifiers:[].concat(h,[w,_v])})},[c,a,w,s]),q.useEffect(function(){if(!(!s||n==null||t==null))return d.current=wv(n,t,ft({},f,{placement:a,strategy:c,modifiers:[].concat(h,[Sv,w])})),function(){d.current!=null&&(d.current.destroy(),d.current=void 0,b(function(y){return ft({},y,{attributes:{},styles:{popper:rc(c)}})}))}},[s,n,t]),v}function Ev(n,t,e,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(t,e,i),e.__once&&n.removeEventListener(t,e.__once,i)}function zn(n,t,e,r){return mm(n,t,e,r),function(){Ev(n,t,e,r)}}var Ov=gg();const kv=jt(Ov);function Pv(n){return n&&"setState"in n?Hf.findDOMNode(n):n??null}const Cv=function(n){return wr(Pv(n))};var Rv=27,ic=function(){};function Tv(n){return n.button===0}function Av(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}var sc=function(t){return t&&("current"in t?t.current:t)};function Lv(n,t,e){var r=e===void 0?{}:e,i=r.disabled,s=r.clickTrigger,o=s===void 0?"click":s,a=q.useRef(!1),l=t||ic,c=q.useCallback(function(f){var d,g=sc(n);kv(!!g,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),a.current=!g||Av(f)||!Tv(f)||!!sr(g,(d=f.composedPath==null?void 0:f.composedPath()[0])!=null?d:f.target)},[n]),u=Yl(function(f){a.current||l(f)}),h=Yl(function(f){f.keyCode===Rv&&l(f)});q.useEffect(function(){if(!(i||n==null)){var f=window.event,d=Cv(sc(n)),g=zn(d,o,c,!0),p=zn(d,o,function(b){if(b===f){f=void 0;return}u(b)}),m=zn(d,"keyup",function(b){if(b===f){f=void 0;return}h(b)}),v=[];return"ontouchstart"in d.documentElement&&(v=[].slice.call(d.body.children).map(function(b){return zn(b,"mousemove",ic)})),function(){g(),p(),m(),v.forEach(function(b){return b()})}}},[n,i,o,c,u,h])}function Iv(n){var t={};return Array.isArray(n)?(n?.forEach(function(e){t[e.name]=e}),t):n||t}function Fv(n){return n===void 0&&(n={}),Array.isArray(n)?n:Object.keys(n).map(function(t){return n[t].name=t,n[t]})}function Nv(n){var t,e,r,i,s=n.enabled,o=n.enableEvents,a=n.placement,l=n.flip,c=n.offset,u=n.fixed,h=n.containerPadding,f=n.arrowElement,d=n.popperConfig,g=d===void 0?{}:d,p=Iv(g.modifiers);return ft({},g,{placement:a,enabled:s,strategy:u?"fixed":g.strategy,modifiers:Fv(ft({},p,{eventListeners:{enabled:o},preventOverflow:ft({},p.preventOverflow,{options:h?ft({padding:h},(t=p.preventOverflow)==null?void 0:t.options):(e=p.preventOverflow)==null?void 0:e.options}),offset:{options:ft({offset:c},(r=p.offset)==null?void 0:r.options)},arrow:ft({},p.arrow,{enabled:!!f,options:ft({},(i=p.arrow)==null?void 0:i.options,{element:f})}),flip:ft({enabled:!!l},p.flip)}))})}function zv(n,t){return n.classList?n.classList.contains(t):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+t+" ")!==-1}function Bv(n,t){n.classList?n.classList.add(t):zv(n,t)||(typeof n.className=="string"?n.className=n.className+" "+t:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+t))}function oc(n,t){return n.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Wv(n,t){n.classList?n.classList.remove(t):typeof n.className=="string"?n.className=oc(n.className,t):n.setAttribute("class",oc(n.className&&n.className.baseVal||"",t))}var Tr;function Va(n){if((!Tr&&Tr!==0||n)&&Fa){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Tr=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Tr}var is=function(t){var e;return typeof document>"u"?null:t==null?wr().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(e=t)!=null&&e.nodeType&&t||null)};function ac(n,t){var e=q.useState(function(){return is(n)}),r=e[0],i=e[1];if(!r){var s=is(n);s&&i(s)}return q.useEffect(function(){},[t,r]),q.useEffect(function(){var o=is(n);o!==r&&i(o)},[n,r]),r}const lc=n=>!n||typeof n=="function"?n:t=>{n.current=t};function qv(n,t){const e=lc(n),r=lc(t);return i=>{e&&e(i),r&&r(i)}}function $v(n,t){return q.useMemo(()=>qv(n,t),[n,t])}var Ya=D.forwardRef(function(n,t){var e=n.flip,r=n.offset,i=n.placement,s=n.containerPadding,o=s===void 0?5:s,a=n.popperConfig,l=a===void 0?{}:a,c=n.transition,u=Ul(),h=u[0],f=u[1],d=Ul(),g=d[0],p=d[1],m=$v(f,t),v=ac(n.container),b=ac(n.target),w=q.useState(!n.show),y=w[0],x=w[1],_=Dv(b,h,Nv({placement:i,enableEvents:!!n.show,containerPadding:o||5,flip:e,offset:r,arrowElement:g,popperConfig:l})),S=_.styles,M=_.attributes,E=Oa(_,["styles","attributes"]);n.show?y&&x(!1):!n.transition&&!y&&x(!0);var O=function(){x(!0),n.onExited&&n.onExited.apply(n,arguments)},k=n.show||c&&!y;if(Lv(h,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!k)return null;var C=n.children(ft({},E,{show:!!n.show,props:ft({},M.popper,{style:S.popper,ref:m}),arrowProps:ft({},M.arrow,{style:S.arrow,ref:p})}));if(c){var T=n.onExit,B=n.onExiting,W=n.onEnter,F=n.onEntering,$=n.onEntered;C=D.createElement(c,{in:n.show,appear:!0,onExit:T,onExiting:B,onExited:O,onEnter:W,onEntering:F,onEntered:$},C)}return v?Hf.createPortal(C,v):null});Ya.displayName="Overlay";Ya.propTypes={show:L.bool,placement:L.oneOf(za),target:L.any,container:L.any,flip:L.bool,children:L.func.isRequired,containerPadding:L.number,popperConfig:L.object,rootClose:L.bool,rootCloseEvent:L.oneOf(["click","mousedown"]),rootCloseDisabled:L.bool,onHide:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];if(t.rootClose){var s;return(s=L.func).isRequired.apply(s,[t].concat(r))}return L.func.apply(L,[t].concat(r))},transition:L.elementType,onEnter:L.func,onEntering:L.func,onEntered:L.func,onExit:L.func,onExiting:L.func,onExited:L.func};var Hv=mg();const jv=jt(Hv);function ss(n,t){var e=Ia(n);return e?e.innerHeight:Ye(n).height}function Ed(n,t,e){n.closest&&!e&&n.closest(t);var r=n;do{if(dm(r,t))return r;r=r.parentElement}while(r&&r!==e&&r.nodeType===document.ELEMENT_NODE);return null}var os,cc;function Vv(){if(cc)return os;cc=1;function n(t,e,r,i){for(var s=t.length,o=r+(i?1:-1);i?o--:++o<s;)if(e(t[o],o,t))return o;return-1}return os=n,os}var as,uc;function Yv(){if(uc)return as;uc=1;var n=Uf(),t=Kf(),e=1,r=2;function i(s,o,a,l){var c=a.length,u=c,h=!l;if(s==null)return!u;for(s=Object(s);c--;){var f=a[c];if(h&&f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++c<u;){f=a[c];var d=f[0],g=s[d],p=f[1];if(h&&f[2]){if(g===void 0&&!(d in s))return!1}else{var m=new n;if(l)var v=l(g,p,d,s,o,m);if(!(v===void 0?t(p,g,e|r,l,m):v))return!1}}return!0}return as=i,as}var ls,hc;function Od(){if(hc)return ls;hc=1;var n=on();function t(e){return e===e&&!n(e)}return ls=t,ls}var cs,fc;function Uv(){if(fc)return cs;fc=1;var n=Od(),t=Si();function e(r){for(var i=t(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,n(a)]}return i}return cs=e,cs}var us,dc;function kd(){if(dc)return us;dc=1;function n(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}return us=n,us}var hs,pc;function Kv(){if(pc)return hs;pc=1;var n=Yv(),t=Uv(),e=kd();function r(i){var s=t(i);return s.length==1&&s[0][2]?e(s[0][0],s[0][1]):function(o){return o===i||n(o,i,s)}}return hs=r,hs}var fs,gc;function Ua(){if(gc)return fs;gc=1;var n=de(),t=xr(),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(n(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||t(s)?!0:r.test(s)||!e.test(s)||o!=null&&s in Object(o)}return fs=i,fs}var ds,mc;function Xv(){if(mc)return ds;mc=1;var n=vg(),t="Expected a function";function e(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var c=r.apply(this,o);return s.cache=l.set(a,c)||l,c};return s.cache=new(e.Cache||n),s}return e.Cache=n,ds=e,ds}var ps,vc;function Gv(){if(vc)return ps;vc=1;var n=Xv(),t=500;function e(r){var i=n(r,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return ps=e,ps}var gs,bc;function Qv(){if(bc)return gs;bc=1;var n=Gv(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,e=/\\(\\)?/g,r=n(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,a,l,c){s.push(l?c.replace(e,"$1"):a||o)}),s});return gs=r,gs}var ms,yc;function Ka(){if(yc)return ms;yc=1;function n(t,e){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=e(t[r],r,t);return s}return ms=n,ms}var vs,xc;function Zv(){if(xc)return vs;xc=1;var n=Ca(),t=Ka(),e=de(),r=xr(),i=n?n.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(e(a))return t(a,o)+"";if(r(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return vs=o,vs}var bs,wc;function Jv(){if(wc)return bs;wc=1;var n=Zv();function t(e){return e==null?"":n(e)}return bs=t,bs}var ys,_c;function Oi(){if(_c)return ys;_c=1;var n=de(),t=Ua(),e=Qv(),r=Jv();function i(s,o){return n(s)?s:t(s,o)?[s]:e(r(s))}return ys=i,ys}var xs,Sc;function Mr(){if(Sc)return xs;Sc=1;var n=xr();function t(e){if(typeof e=="string"||n(e))return e;var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}return xs=t,xs}var ws,Mc;function ki(){if(Mc)return ws;Mc=1;var n=Oi(),t=Mr();function e(r,i){i=n(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[t(i[s++])];return s&&s==o?r:void 0}return ws=e,ws}var _s,Dc;function tb(){if(Dc)return _s;Dc=1;var n=ki();function t(e,r,i){var s=e==null?void 0:n(e,r);return s===void 0?i:s}return _s=t,_s}var Ss,Ec;function eb(){if(Ec)return Ss;Ec=1;function n(t,e){return t!=null&&e in Object(t)}return Ss=n,Ss}var Ms,Oc;function nb(){if(Oc)return Ms;Oc=1;var n=Oi(),t=Xf(),e=de(),r=Vf(),i=bg(),s=Mr();function o(a,l,c){l=n(l,a);for(var u=-1,h=l.length,f=!1;++u<h;){var d=s(l[u]);if(!(f=a!=null&&c(a,d)))break;a=a[d]}return f||++u!=h?f:(h=a==null?0:a.length,!!h&&i(h)&&r(d,h)&&(e(a)||t(a)))}return Ms=o,Ms}var Ds,kc;function rb(){if(kc)return Ds;kc=1;var n=eb(),t=nb();function e(r,i){return r!=null&&t(r,i,n)}return Ds=e,Ds}var Es,Pc;function ib(){if(Pc)return Es;Pc=1;var n=Kf(),t=tb(),e=rb(),r=Ua(),i=Od(),s=kd(),o=Mr(),a=1,l=2;function c(u,h){return r(u)&&i(h)?s(o(u),h):function(f){var d=t(f,u);return d===void 0&&d===h?e(f,u):n(h,d,a|l)}}return Es=c,Es}var Os,Cc;function Pi(){if(Cc)return Os;Cc=1;function n(t){return t}return Os=n,Os}var ks,Rc;function sb(){if(Rc)return ks;Rc=1;function n(t){return function(e){return e?.[t]}}return ks=n,ks}var Ps,Tc;function ob(){if(Tc)return Ps;Tc=1;var n=ki();function t(e){return function(r){return n(r,e)}}return Ps=t,Ps}var Cs,Ac;function ab(){if(Ac)return Cs;Ac=1;var n=sb(),t=ob(),e=Ua(),r=Mr();function i(s){return e(s)?n(r(s)):t(s)}return Cs=i,Cs}var Rs,Lc;function Ci(){if(Lc)return Rs;Lc=1;var n=Kv(),t=ib(),e=Pi(),r=de(),i=ab();function s(o){return typeof o=="function"?o:o==null?e:typeof o=="object"?r(o)?t(o[0],o[1]):n(o):i(o)}return Rs=s,Rs}var Ts,Ic;function lb(){if(Ic)return Ts;Ic=1;var n=Vv(),t=Ci(),e=fd(),r=Math.max;function i(s,o,a){var l=s==null?0:s.length;if(!l)return-1;var c=a==null?0:e(a);return c<0&&(c=r(l+c,0)),n(s,t(o,3),c)}return Ts=i,Ts}var cb=lb();const ub=jt(cb);var As,Fc;function hb(){if(Fc)return As;Fc=1;var n=Math.ceil,t=Math.max;function e(r,i,s,o){for(var a=-1,l=t(n((i-r)/(s||1)),0),c=Array(l);l--;)c[o?l:++a]=r,r+=s;return c}return As=e,As}var Ls,Nc;function fb(){if(Nc)return Ls;Nc=1;var n=hb(),t=Di(),e=hd();function r(i){return function(s,o,a){return a&&typeof a!="number"&&t(s,o,a)&&(o=a=void 0),s=e(s),o===void 0?(o=s,s=0):o=e(o),a=a===void 0?s<o?1:-1:e(a),n(s,o,a,i)}}return Ls=r,Ls}var Is,zc;function db(){if(zc)return Is;zc=1;var n=fb(),t=n();return Is=t,Is}var pb=db();const gb=jt(pb);var Bc=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function mb(n,t){return!!(n===t||Bc(n)&&Bc(t))}function vb(n,t){if(n.length!==t.length)return!1;for(var e=0;e<n.length;e++)if(!mb(n[e],t[e]))return!1;return!0}function Pd(n,t){t===void 0&&(t=vb);var e=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(e&&e.lastThis===this&&t(i,e.lastArgs))return e.lastResult;var o=n.apply(this,i);return e={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){e=null},r}function da(n,t){var e=Ia(n);return e?e.innerWidth:Ye(n).width}var Fs,Wc;function bb(){if(Wc)return Fs;Wc=1;var n=Ca(),t=Xf(),e=de(),r=n?n.isConcatSpreadable:void 0;function i(s){return e(s)||t(s)||!!(r&&s&&s[r])}return Fs=i,Fs}var Ns,qc;function Cd(){if(qc)return Ns;qc=1;var n=Gf(),t=bb();function e(r,i,s,o,a){var l=-1,c=r.length;for(s||(s=t),a||(a=[]);++l<c;){var u=r[l];i>0&&s(u)?i>1?e(u,i-1,s,o,a):n(a,u):o||(a[a.length]=u)}return a}return Ns=e,Ns}var zs,$c;function yb(){if($c)return zs;$c=1;function n(t){return function(e,r,i){for(var s=-1,o=Object(e),a=i(e),l=a.length;l--;){var c=a[t?l:++s];if(r(o[c],c,o)===!1)break}return e}}return zs=n,zs}var Bs,Hc;function xb(){if(Hc)return Bs;Hc=1;var n=yb(),t=n();return Bs=t,Bs}var Ws,jc;function Xa(){if(jc)return Ws;jc=1;var n=xb(),t=Si();function e(r,i){return r&&n(r,i,t)}return Ws=e,Ws}var qs,Vc;function wb(){if(Vc)return qs;Vc=1;var n=wi();function t(e,r){return function(i,s){if(i==null)return i;if(!n(i))return e(i,s);for(var o=i.length,a=r?o:-1,l=Object(i);(r?a--:++a<o)&&s(l[a],a,l)!==!1;);return i}}return qs=t,qs}var $s,Yc;function _b(){if(Yc)return $s;Yc=1;var n=Xa(),t=wb(),e=t(n);return $s=e,$s}var Hs,Uc;function Sb(){if(Uc)return Hs;Uc=1;var n=_b(),t=wi();function e(r,i){var s=-1,o=t(r)?Array(r.length):[];return n(r,function(a,l,c){o[++s]=i(a,l,c)}),o}return Hs=e,Hs}var js,Kc;function Mb(){if(Kc)return js;Kc=1;function n(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}return js=n,js}var Vs,Xc;function Db(){if(Xc)return Vs;Xc=1;var n=xr();function t(e,r){if(e!==r){var i=e!==void 0,s=e===null,o=e===e,a=n(e),l=r!==void 0,c=r===null,u=r===r,h=n(r);if(!c&&!h&&!a&&e>r||a&&l&&u&&!c&&!h||s&&l&&u||!i&&u||!o)return 1;if(!s&&!a&&!h&&e<r||h&&i&&o&&!s&&!a||c&&i&&o||!l&&o||!u)return-1}return 0}return Vs=t,Vs}var Ys,Gc;function Eb(){if(Gc)return Ys;Gc=1;var n=Db();function t(e,r,i){for(var s=-1,o=e.criteria,a=r.criteria,l=o.length,c=i.length;++s<l;){var u=n(o[s],a[s]);if(u){if(s>=c)return u;var h=i[s];return u*(h=="desc"?-1:1)}}return e.index-r.index}return Ys=t,Ys}var Us,Qc;function Ob(){if(Qc)return Us;Qc=1;var n=Ka(),t=ki(),e=Ci(),r=Sb(),i=Mb(),s=Ra(),o=Eb(),a=Pi(),l=de();function c(u,h,f){h.length?h=n(h,function(p){return l(p)?function(m){return t(m,p.length===1?p[0]:p)}:p}):h=[a];var d=-1;h=n(h,s(e));var g=r(u,function(p,m,v){var b=n(h,function(w){return w(p)});return{criteria:b,index:++d,value:p}});return i(g,function(p,m){return o(p,m,f)})}return Us=c,Us}var Ks,Zc;function kb(){if(Zc)return Ks;Zc=1;function n(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}return Ks=n,Ks}var Xs,Jc;function Rd(){if(Jc)return Xs;Jc=1;var n=kb(),t=Math.max;function e(r,i,s){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=t(o.length-i,0),c=Array(l);++a<l;)c[a]=o[i+a];a=-1;for(var u=Array(i+1);++a<i;)u[a]=o[a];return u[i]=s(c),n(r,this,u)}}return Xs=e,Xs}var Gs,tu;function Pb(){if(tu)return Gs;tu=1;function n(t){return function(){return t}}return Gs=n,Gs}var Qs,eu;function Td(){if(eu)return Qs;eu=1;var n=yg(),t=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch{}}();return Qs=t,Qs}var Zs,nu;function Cb(){if(nu)return Zs;nu=1;var n=Pb(),t=Td(),e=Pi(),r=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:n(s),writable:!0})}:e;return Zs=r,Zs}var Js,ru;function Rb(){if(ru)return Js;ru=1;var n=800,t=16,e=Date.now;function r(i){var s=0,o=0;return function(){var a=e(),l=t-(a-o);if(o=a,l>0){if(++s>=n)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Js=r,Js}var to,iu;function Ad(){if(iu)return to;iu=1;var n=Cb(),t=Rb(),e=t(n);return to=e,to}var eo,su;function Ld(){if(su)return eo;su=1;var n=Pi(),t=Rd(),e=Ad();function r(i,s){return e(t(i,s,n),i+"")}return eo=r,eo}var no,ou;function Tb(){if(ou)return no;ou=1;var n=Cd(),t=Ob(),e=Ld(),r=Di(),i=e(function(s,o){if(s==null)return[];var a=o.length;return a>1&&r(s,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(s,n(o,1),[])});return no=i,no}var Ab=Tb();const Lb=jt(Ab);var ro,au;function Ib(){if(au)return ro;au=1;function n(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}return ro=n,ro}var io,lu;function Fb(){if(lu)return io;lu=1;var n=on(),t=Qf(),e=Ib(),r=Object.prototype,i=r.hasOwnProperty;function s(o){if(!n(o))return e(o);var a=t(o),l=[];for(var c in o)c=="constructor"&&(a||!i.call(o,c))||l.push(c);return l}return io=s,io}var so,cu;function Ri(){if(cu)return so;cu=1;var n=xg(),t=Fb(),e=wi();function r(i){return e(i)?n(i,!0):t(i)}return so=r,so}var oo,uu;function Nb(){if(uu)return oo;uu=1;var n=Ld(),t=Pa(),e=Di(),r=Ri(),i=Object.prototype,s=i.hasOwnProperty,o=n(function(a,l){a=Object(a);var c=-1,u=l.length,h=u>2?l[2]:void 0;for(h&&e(l[0],l[1],h)&&(u=1);++c<u;)for(var f=l[c],d=r(f),g=-1,p=d.length;++g<p;){var m=d[g],v=a[m];(v===void 0||t(v,i[m])&&!s.call(a,m))&&(a[m]=f[m])}return a});return oo=o,oo}var zb=Nb();const Bb=jt(zb);var ao,hu;function Ga(){if(hu)return ao;hu=1;var n=Td();function t(e,r,i){r=="__proto__"&&n?n(e,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[r]=i}return ao=t,ao}var lo,fu;function Wb(){if(fu)return lo;fu=1;var n=Ga(),t=Xa(),e=Ci();function r(i,s){var o={};return s=e(s,3),t(i,function(a,l,c){n(o,l,s(a,l,c))}),o}return lo=r,lo}var qb=Wb();const $b=jt(qb);var co,du;function Id(){if(du)return co;du=1;function n(t,e){for(var r=-1,i=t==null?0:t.length;++r<i&&e(t[r],r,t)!==!1;);return t}return co=n,co}var uo,pu;function Fd(){if(pu)return uo;pu=1;var n=Ga(),t=Pa(),e=Object.prototype,r=e.hasOwnProperty;function i(s,o,a){var l=s[o];(!(r.call(s,o)&&t(l,a))||a===void 0&&!(o in s))&&n(s,o,a)}return uo=i,uo}var ho,gu;function Dr(){if(gu)return ho;gu=1;var n=Fd(),t=Ga();function e(r,i,s,o){var a=!s;s||(s={});for(var l=-1,c=i.length;++l<c;){var u=i[l],h=o?o(s[u],r[u],u,s,r):void 0;h===void 0&&(h=r[u]),a?t(s,u,h):n(s,u,h)}return s}return ho=e,ho}var fo,mu;function Hb(){if(mu)return fo;mu=1;var n=Dr(),t=Si();function e(r,i){return r&&n(i,t(i),r)}return fo=e,fo}var po,vu;function jb(){if(vu)return po;vu=1;var n=Dr(),t=Ri();function e(r,i){return r&&n(i,t(i),r)}return po=e,po}var Bn={exports:{}};Bn.exports;var bu;function Vb(){return bu||(bu=1,function(n,t){var e=wg(),r=t&&!t.nodeType&&t,i=r&&!0&&n&&!n.nodeType&&n,s=i&&i.exports===r,o=s?e.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var h=c.length,f=a?a(h):new c.constructor(h);return c.copy(f),f}n.exports=l}(Bn,Bn.exports)),Bn.exports}var go,yu;function Yb(){if(yu)return go;yu=1;function n(t,e){var r=-1,i=t.length;for(e||(e=Array(i));++r<i;)e[r]=t[r];return e}return go=n,go}var mo,xu;function Ub(){if(xu)return mo;xu=1;var n=Dr(),t=Zf();function e(r,i){return n(r,t(r),i)}return mo=e,mo}var vo,wu;function Ti(){if(wu)return vo;wu=1;var n=_g(),t=n(Object.getPrototypeOf,Object);return vo=t,vo}var bo,_u;function Nd(){if(_u)return bo;_u=1;var n=Gf(),t=Ti(),e=Zf(),r=Sg(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)n(a,e(o)),o=t(o);return a}:r;return bo=s,bo}var yo,Su;function Kb(){if(Su)return yo;Su=1;var n=Dr(),t=Nd();function e(r,i){return n(r,t(r),i)}return yo=e,yo}var xo,Mu;function zd(){if(Mu)return xo;Mu=1;var n=Mg(),t=Nd(),e=Ri();function r(i){return n(i,e,t)}return xo=r,xo}var wo,Du;function Xb(){if(Du)return wo;Du=1;var n=Object.prototype,t=n.hasOwnProperty;function e(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return wo=e,wo}var _o,Eu;function Qa(){if(Eu)return _o;Eu=1;var n=Dg();function t(e){var r=new e.constructor(e.byteLength);return new n(r).set(new n(e)),r}return _o=t,_o}var So,Ou;function Gb(){if(Ou)return So;Ou=1;var n=Qa();function t(e,r){var i=r?n(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}return So=t,So}var Mo,ku;function Qb(){if(ku)return Mo;ku=1;var n=/\w*$/;function t(e){var r=new e.constructor(e.source,n.exec(e));return r.lastIndex=e.lastIndex,r}return Mo=t,Mo}var Do,Pu;function Zb(){if(Pu)return Do;Pu=1;var n=Ca(),t=n?n.prototype:void 0,e=t?t.valueOf:void 0;function r(i){return e?Object(e.call(i)):{}}return Do=r,Do}var Eo,Cu;function Jb(){if(Cu)return Eo;Cu=1;var n=Qa();function t(e,r){var i=r?n(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}return Eo=t,Eo}var Oo,Ru;function ty(){if(Ru)return Oo;Ru=1;var n=Qa(),t=Gb(),e=Qb(),r=Zb(),i=Jb(),s="[object Boolean]",o="[object Date]",a="[object Map]",l="[object Number]",c="[object RegExp]",u="[object Set]",h="[object String]",f="[object Symbol]",d="[object ArrayBuffer]",g="[object DataView]",p="[object Float32Array]",m="[object Float64Array]",v="[object Int8Array]",b="[object Int16Array]",w="[object Int32Array]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",_="[object Uint16Array]",S="[object Uint32Array]";function M(E,O,k){var C=E.constructor;switch(O){case d:return n(E);case s:case o:return new C(+E);case g:return t(E,k);case p:case m:case v:case b:case w:case y:case x:case _:case S:return i(E,k);case a:return new C;case l:case h:return new C(E);case c:return e(E);case u:return new C;case f:return r(E)}}return Oo=M,Oo}var ko,Tu;function Bd(){if(Tu)return ko;Tu=1;var n=on(),t=Object.create,e=function(){function r(){}return function(i){if(!n(i))return{};if(t)return t(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}}();return ko=e,ko}var Po,Au;function ey(){if(Au)return Po;Au=1;var n=Bd(),t=Ti(),e=Qf();function r(i){return typeof i.constructor=="function"&&!e(i)?n(t(i)):{}}return Po=r,Po}var Co,Lu;function ny(){if(Lu)return Co;Lu=1;var n=Ta(),t=_i(),e="[object Map]";function r(i){return t(i)&&n(i)==e}return Co=r,Co}var Ro,Iu;function ry(){if(Iu)return Ro;Iu=1;var n=ny(),t=Ra(),e=Jf(),r=e&&e.isMap,i=r?t(r):n;return Ro=i,Ro}var To,Fu;function iy(){if(Fu)return To;Fu=1;var n=Ta(),t=_i(),e="[object Set]";function r(i){return t(i)&&n(i)==e}return To=r,To}var Ao,Nu;function sy(){if(Nu)return Ao;Nu=1;var n=iy(),t=Ra(),e=Jf(),r=e&&e.isSet,i=r?t(r):n;return Ao=i,Ao}var Lo,zu;function oy(){if(zu)return Lo;zu=1;var n=Uf(),t=Id(),e=Fd(),r=Hb(),i=jb(),s=Vb(),o=Yb(),a=Ub(),l=Kb(),c=Eg(),u=zd(),h=Ta(),f=Xb(),d=ty(),g=ey(),p=de(),m=td(),v=ry(),b=on(),w=sy(),y=Si(),x=Ri(),_=1,S=2,M=4,E="[object Arguments]",O="[object Array]",k="[object Boolean]",C="[object Date]",T="[object Error]",B="[object Function]",W="[object GeneratorFunction]",F="[object Map]",$="[object Number]",Y="[object Object]",V="[object RegExp]",rt="[object Set]",P="[object String]",R="[object Symbol]",A="[object WeakMap]",I="[object ArrayBuffer]",N="[object DataView]",H="[object Float32Array]",tt="[object Float64Array]",G="[object Int8Array]",Tt="[object Int16Array]",ge="[object Int32Array]",Zt="[object Uint8Array]",Le="[object Uint8ClampedArray]",ln="[object Uint16Array]",On="[object Uint32Array]",J={};J[E]=J[O]=J[I]=J[N]=J[k]=J[C]=J[H]=J[tt]=J[G]=J[Tt]=J[ge]=J[F]=J[$]=J[Y]=J[V]=J[rt]=J[P]=J[R]=J[Zt]=J[Le]=J[ln]=J[On]=!0,J[T]=J[B]=J[A]=!1;function Ie(X,me,ve,Jt,te,qt){var vt,be=me&_,Fe=me&S,Pr=me&M;if(ve&&(vt=te?ve(X,Jt,te,qt):ve(X)),vt!==void 0)return vt;if(!b(X))return X;var kn=p(X);if(kn){if(vt=f(X),!be)return o(X,vt)}else{var ee=h(X),Sl=ee==B||ee==W;if(m(X))return s(X,be);if(ee==Y||ee==E||Sl&&!te){if(vt=Fe||Sl?{}:g(X),!be)return Fe?l(X,i(vt,X)):a(X,r(vt,X))}else{if(!J[ee])return te?X:{};vt=d(X,ee,be)}}qt||(qt=new n);var Ml=qt.get(X);if(Ml)return Ml;qt.set(X,vt),w(X)?X.forEach(function(ye){vt.add(Ie(ye,me,ve,ye,X,qt))}):v(X)&&X.forEach(function(ye,Ne){vt.set(Ne,Ie(ye,me,ve,Ne,X,qt))});var ag=Pr?Fe?u:c:Fe?x:y,Dl=kn?void 0:ag(X);return t(Dl||X,function(ye,Ne){Dl&&(Ne=ye,ye=X[Ne]),e(vt,Ne,Ie(ye,me,ve,Ne,X,qt))}),vt}return Lo=Ie,Lo}var Io,Bu;function ay(){if(Bu)return Io;Bu=1;function n(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}return Io=n,Io}var Fo,Wu;function ly(){if(Wu)return Fo;Wu=1;var n=ki(),t=ud();function e(r,i){return i.length<2?r:n(r,t(i,0,-1))}return Fo=e,Fo}var No,qu;function cy(){if(qu)return No;qu=1;var n=Oi(),t=ay(),e=ly(),r=Mr();function i(s,o){return o=n(o,s),s=e(s,o),s==null||delete s[r(t(o))]}return No=i,No}var zo,$u;function uy(){if($u)return zo;$u=1;var n=Yf(),t=Ti(),e=_i(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,l=o.call(Object);function c(u){if(!e(u)||n(u)!=r)return!1;var h=t(u);if(h===null)return!0;var f=a.call(h,"constructor")&&h.constructor;return typeof f=="function"&&f instanceof f&&o.call(f)==l}return zo=c,zo}var Bo,Hu;function hy(){if(Hu)return Bo;Hu=1;var n=uy();function t(e){return n(e)?void 0:e}return Bo=t,Bo}var Wo,ju;function fy(){if(ju)return Wo;ju=1;var n=Cd();function t(e){var r=e==null?0:e.length;return r?n(e,1):[]}return Wo=t,Wo}var qo,Vu;function dy(){if(Vu)return qo;Vu=1;var n=fy(),t=Rd(),e=Ad();function r(i){return e(t(i,void 0,n),i+"")}return qo=r,qo}var $o,Yu;function py(){if(Yu)return $o;Yu=1;var n=Ka(),t=oy(),e=cy(),r=Oi(),i=Dr(),s=hy(),o=dy(),a=zd(),l=1,c=2,u=4,h=o(function(f,d){var g={};if(f==null)return g;var p=!1;d=n(d,function(v){return v=r(v,f),p||(p=v.length>1),v}),i(f,a(f),g),p&&(g=t(g,l|c|u,s));for(var m=d.length;m--;)e(g,d[m]);return g});return $o=h,$o}var gy=py();const my=jt(gy);var Ho,Uu;function vy(){if(Uu)return Ho;Uu=1;var n=Id(),t=Bd(),e=Xa(),r=Ci(),i=Ti(),s=de(),o=td(),a=Og(),l=on(),c=kg();function u(h,f,d){var g=s(h),p=g||o(h)||c(h);if(f=r(f,4),d==null){var m=h&&h.constructor;p?d=g?new m:[]:l(h)?d=a(m)?t(i(h)):{}:d={}}return(p?n:e)(h,function(v,b,w){return f(d,v,b,w)}),d}return Ho=u,Ho}var by=vy();const yy=jt(by);var Qr={exports:{}},xy=Qr.exports,Ku;function wy(){return Ku||(Ku=1,function(n,t){(function(e,r){n.exports=r()})(xy,function(){return function(e,r,i){r.prototype.isBetween=function(s,o,a,l){var c=i(s),u=i(o),h=(l=l||"()")[0]==="(",f=l[1]===")";return(h?this.isAfter(c,a):!this.isBefore(c,a))&&(f?this.isBefore(u,a):!this.isAfter(u,a))||(h?this.isBefore(c,a):!this.isAfter(c,a))&&(f?this.isAfter(u,a):!this.isBefore(u,a))}}})}(Qr)),Qr.exports}wy();var Zr={exports:{}},_y=Zr.exports,Xu;function Sy(){return Xu||(Xu=1,function(n,t){(function(e,r){n.exports=r()})(_y,function(){return function(e,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})}(Zr)),Zr.exports}Sy();var Jr={exports:{}},My=Jr.exports,Gu;function Dy(){return Gu||(Gu=1,function(n,t){(function(e,r){n.exports=r()})(My,function(){return function(e,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})}(Jr)),Jr.exports}Dy();var ti={exports:{}},Ey=ti.exports,Qu;function Oy(){return Qu||(Qu=1,function(n,t){(function(e,r){n.exports=r()})(Ey,function(){return function(e,r,i){var s=r.prototype,o=function(h){return h&&(h.indexOf?h:h.s)},a=function(h,f,d,g,p){var m=h.name?h:h.$locale(),v=o(m[f]),b=o(m[d]),w=v||b.map(function(x){return x.slice(0,g)});if(!p)return w;var y=m.weekStart;return w.map(function(x,_){return w[(_+(y||0))%7]})},l=function(){return i.Ls[i.locale()]},c=function(h,f){return h.formats[f]||function(d){return d.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,p,m){return p||m.slice(1)})}(h.formats[f.toUpperCase()])},u=function(){var h=this;return{months:function(f){return f?f.format("MMMM"):a(h,"months")},monthsShort:function(f){return f?f.format("MMM"):a(h,"monthsShort","months",3)},firstDayOfWeek:function(){return h.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):a(h,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):a(h,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):a(h,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return c(h.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return u.bind(this)()},i.localeData=function(){var h=l();return{firstDayOfWeek:function(){return h.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(f){return c(h,f)},meridiem:h.meridiem,ordinal:h.ordinal}},i.months=function(){return a(l(),"months")},i.monthsShort=function(){return a(l(),"monthsShort","months",3)},i.weekdays=function(h){return a(l(),"weekdays",null,null,h)},i.weekdaysShort=function(h){return a(l(),"weekdaysShort","weekdays",3,h)},i.weekdaysMin=function(h){return a(l(),"weekdaysMin","weekdays",2,h)}}})}(ti)),ti.exports}Oy();var ei={exports:{}},ky=ei.exports,Zu;function Py(){return Zu||(Zu=1,function(n,t){(function(e,r){n.exports=r()})(ky,function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,s){var o=i.prototype,a=o.format;s.en.formats=e,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(h,f){return h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(d,g,p){var m=p&&p.toUpperCase();return g||f[p]||e[p]||f[m].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,b,w){return b||w.slice(1)})})}(l,c===void 0?{}:c);return a.call(this,u)}}})}(ei)),ei.exports}Py();var ni={exports:{}},Cy=ni.exports,Ju;function Ry(){return Ju||(Ju=1,function(n,t){(function(e,r){n.exports=r()})(Cy,function(){return function(e,r,i){var s=function(o,a){if(!a||!a.length||a.length===1&&!a[0]||a.length===1&&Array.isArray(a[0])&&!a[0].length)return null;var l;a.length===1&&a[0].length>0&&(a=a[0]),l=(a=a.filter(function(u){return u}))[0];for(var c=1;c<a.length;c+=1)a[c].isValid()&&!a[c][o](l)||(l=a[c]);return l};i.max=function(){var o=[].slice.call(arguments,0);return s("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return s("isBefore",o)}}})}(ni)),ni.exports}Ry();var ri={exports:{}},Ty=ri.exports,th;function Ay(){return th||(th=1,function(n,t){(function(e,r){n.exports=r()})(Ty,function(){var e="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(p){var m={date:p,utc:!0,args:arguments};return new o(m)},l.utc=function(p){var m=a(this.toDate(),{locale:this.$L,utc:!0});return p?m.add(this.utcOffset(),e):m},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),c.call(this,p)};var u=l.init;l.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else u.call(this)};var h=l.utcOffset;l.utcOffset=function(p,m){var v=this.$utils().u;if(v(p))return this.$u?0:v(this.$offset)?h.call(this):this.$offset;if(typeof p=="string"&&(p=function(x){x===void 0&&(x="");var _=x.match(r);if(!_)return null;var S=(""+_[0]).match(i)||["-",0,0],M=S[0],E=60*+S[1]+ +S[2];return E===0?0:M==="+"?E:-E}(p),p===null))return this;var b=Math.abs(p)<=16?60*p:p,w=this;if(m)return w.$offset=b,w.$u=p===0,w;if(p!==0){var y=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(w=this.local().add(b+y,e)).$offset=b,w.$x.$localOffset=y}else w=this.utc();return w};var f=l.format;l.format=function(p){var m=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,m)},l.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var d=l.toDate;l.toDate=function(p){return p==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var g=l.diff;l.diff=function(p,m,v){if(p&&this.$u===p.$u)return g.call(this,p,m,v);var b=this.local(),w=a(p).local();return g.call(b,w,m,v)}}})}(ri)),ri.exports}Ay();function oe(n){return n.children}var Rt={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Et={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},eh=Object.keys(Et).map(function(n){return Et[n]});L.oneOfType([L.string,L.func]);L.any;L.func;L.oneOfType([L.arrayOf(L.oneOf(eh)),L.objectOf(function(n,t){var e=eh.indexOf(t)!==-1&&typeof n[t]=="boolean";if(e)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return L.elementType.apply(L,[n,t].concat(i))})]);L.oneOfType([L.oneOf(["overlap","no-overlap"]),L.func]);var nh={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function Wd(n,t){var e=yt(n,"month");return yt(e,"week",t.startOfWeek())}function qd(n,t){var e=li(n,"month");return li(e,"week",t.startOfWeek())}function Ly(n,t){for(var e=Wd(n,t),r=qd(n,t),i=[];Mn(e,r,"day");)i.push(e),e=Ht(e,1,"day");return i}function Iy(n,t){var e=yt(n,t);return br(e,n)?e:Ht(e,1,t)}function Fy(n,t){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=n,i=[];Mn(r,t,e);)i.push(r),r=Ht(r,1,e);return i}function Ny(n,t){return t==null&&n==null?null:(t==null&&(t=new Date),n==null&&(n=new Date),n=yt(n,"day"),n=ir(n,ir(t)),n=mn(n,mn(t)),n=rr(n,rr(t)),nr(n,nr(t)))}function rh(n){return ir(n)===0&&mn(n)===0&&rr(n)===0&&nr(n)===0}function zy(n,t,e,r){return e==="day"&&(e="date"),Math.abs(Al[e](n,void 0,r)-Al[e](t,void 0,r))}function Za(n,t,e){return!e||e==="milliseconds"?Math.abs(+n-+t):Math.round(Math.abs(+yt(n,e)/nh[e]-+yt(t,e)/nh[e]))}var By=L.oneOfType([L.string,L.func]);function Wy(n,t,e,r,i){var s=typeof r=="function"?r(e,i,n):t.call(n,e,r,i);return Gn(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function qy(n,t,e){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,t+e,0,0)}function Ja(n,t){return n.getTimezoneOffset()-t.getTimezoneOffset()}function $y(n,t){return Za(n,t,"minutes")+Ja(n,t)}function Hy(n){var t=yt(n,"day");return Za(t,n,"minutes")+Ja(t,n)}function jy(n,t){return La(n,t,"day")}function Vy(n,t,e){var r=br(n,t,"minutes");return r?yr(t,e,"minutes"):Mi(t,e,"minutes")}function pa(n,t){return zy(n,t,"day")}function Yy(n){var t=n.evtA,e=t.start,r=t.end,i=t.allDay,s=n.evtB,o=s.start,a=s.end,l=s.allDay,c=+yt(e,"day")-+yt(o,"day"),u=pa(e,r),h=pa(o,a);return c||h-u||!!l-!!i||+e-+o||+r-+a}function Uy(n){var t=n.event,e=t.start,r=t.end,i=n.range,s=i.start,o=i.end,a=yt(e,"day"),l=Mn(a,o,"day"),c=Aa(a,r,"minutes"),u=c?Mi(r,s,"minutes"):yr(r,s,"minutes");return l&&u}function Ky(n,t){return br(n,t,"day")}function Xy(n,t){return rh(n)&&rh(t)}var Gy=pt(function n(t){var e=this;gt(this,n),Gn(typeof t.format=="function","date localizer `format(..)` must be a function"),Gn(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||By,this.formats=t.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return Wy.apply(void 0,[e,t.format].concat(i))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||Ny,this.inRange=t.inRange||od,this.lt=t.lt||La,this.lte=t.lte||Mn,this.gt=t.gt||Mi,this.gte=t.gte||yr,this.eq=t.eq||br,this.neq=t.neq||Aa,this.startOf=t.startOf||yt,this.endOf=t.endOf||li,this.add=t.add||Ht,this.range=t.range||Fy,this.diff=t.diff||Za,this.ceil=t.ceil||Iy,this.min=t.min||id,this.max=t.max||sd,this.minutes=t.minutes||mn,this.daySpan=t.daySpan||pa,this.firstVisibleDay=t.firstVisibleDay||Wd,this.lastVisibleDay=t.lastVisibleDay||qd,this.visibleDays=t.visibleDays||Ly,this.getSlotDate=t.getSlotDate||qy,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Ja,this.getTotalMin=t.getTotalMin||$y,this.getMinutesFromMidnight=t.getMinutesFromMidnight||Hy,this.continuesPrior=t.continuesPrior||jy,this.continuesAfter=t.continuesAfter||Vy,this.sortEvents=t.sortEvents||Yy,this.inEventRange=t.inEventRange||Uy,this.isSameDate=t.isSameDate||Ky,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||Xy,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function Qy(n,t,e,r){var i=et(et({},n.formats),e);return et(et({},n),{},{messages:r,startOfWeek:function(){return n.startOfWeek(t)},format:function(o,a){return n.format(o,i[a]||a,t)}})}var Zy=function(n){function t(){var e;gt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=Dt(this,t,[].concat(i)),e.navigate=function(o){e.props.onNavigate(o)},e.view=function(o){e.props.onView(o)},e}return Mt(t,n),pt(t,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,s=r.label;return D.createElement("div",{className:"rbc-toolbar"},D.createElement("span",{className:"rbc-btn-group"},D.createElement("button",{type:"button",onClick:this.navigate.bind(null,Rt.TODAY)},i.today),D.createElement("button",{type:"button",onClick:this.navigate.bind(null,Rt.PREVIOUS)},i.previous),D.createElement("button",{type:"button",onClick:this.navigate.bind(null,Rt.NEXT)},i.next)),D.createElement("span",{className:"rbc-toolbar-label"},s),D.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,s=this.props.views,o=this.props.view;if(s.length>1)return s.map(function(a){return D.createElement("button",{type:"button",key:a,className:ut({"rbc-active":o===a}),onClick:i.view.bind(null,a)},r[a])})}}])}(D.Component);function it(n,t){n&&n.apply(null,[].concat(t))}var Jy={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function t0(n){return et(et({},Jy),n)}function e0(n){var t=n.ref,e=n.callback;q.useEffect(function(){var r=function(s){t.current&&!t.current.contains(s.target)&&e()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,e])}var n0=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],$d=function(n){function t(){return gt(this,t),Dt(this,t,arguments)}return Mt(t,n),pt(t,[{key:"render",value:function(){var r=this.props,i=r.style,s=r.className,o=r.event,a=r.selected,l=r.isAllDay,c=r.onSelect,u=r.onDoubleClick,h=r.onKeyPress,f=r.localizer,d=r.continuesPrior,g=r.continuesAfter,p=r.accessors,m=r.getters,v=r.children,b=r.components,w=b.event,y=b.eventWrapper,x=r.slotStart,_=r.slotEnd,S=Qt(r,n0);delete S.resizable;var M=p.title(o),E=p.tooltip(o),O=p.end(o),k=p.start(o),C=p.allDay(o),T=l||C||f.diff(k,f.ceil(O,"day"),"day")>1,B=m.eventProp(o,k,O,a),W=D.createElement("div",{className:"rbc-event-content",title:E||void 0},w?D.createElement(w,{event:o,continuesPrior:d,continuesAfter:g,title:M,isAllDay:C,localizer:f,slotStart:x,slotEnd:_}):M);return D.createElement(y,Object.assign({},this.props,{type:"date"}),D.createElement("div",Object.assign({},S,{style:et(et({},B.style),i),className:ut("rbc-event",s,B.className,{"rbc-selected":a,"rbc-event-allday":T,"rbc-event-continues-prior":d,"rbc-event-continues-after":g}),onClick:function($){return c&&c(o,$)},onDoubleClick:function($){return u&&u(o,$)},onKeyDown:function($){return h&&h(o,$)}}),typeof v=="function"?v(W):W))}}])}(D.Component);function Ai(n,t){return!n||t==null?!1:jv(n,t)}function Hd(n,t){var e=n.right-n.left,r=e/t;return r}function jd(n,t,e,r){var i=Hd(n,r);return e?r-1-Math.floor((t-n.left)/i):Math.floor((t-n.left)/i)}function r0(n,t){var e=t.x,r=t.y;return r>=n.top&&r<=n.bottom&&e>=n.left&&e<=n.right}function i0(n,t,e,r,i){var s=-1,o=-1,a=r-1,l=Hd(t,r),c=jd(t,e.x,i,r),u=t.top<e.y&&t.bottom>e.y,h=t.top<n.y&&t.bottom>n.y,f=n.y>t.bottom,d=t.top>n.y,g=e.top<t.top&&e.bottom>t.bottom;return g&&(s=0,o=a),u&&(d?(s=0,o=c):f&&(s=c,o=a)),h&&(s=o=i?a-Math.floor((n.x-t.left)/l):Math.floor((n.x-t.left)/l),u?c<s?s=c:o=c:n.y<e.y?o=a:s=0),{startIdx:s,endIdx:o}}function s0(n){var t=n.target,e=n.offset,r=n.container,i=n.box,s=Ye(t),o=s.top,a=s.left,l=s.width,c=s.height,u=Ye(r),h=u.top,f=u.left,d=u.width,g=u.height,p=Ye(i),m=p.width,v=p.height,b=h+g,w=f+d,y=o+v,x=a+m,_=e.x,S=e.y,M=y>b?o-v-S:o+S+c,E=x>w?a+_-m+l:a+_;return{topOffset:M,leftOffset:E}}function o0(n){var t=n.containerRef,e=n.accessors,r=n.getters,i=n.selected,s=n.components,o=n.localizer,a=n.position,l=n.show,c=n.events,u=n.slotStart,h=n.slotEnd,f=n.onSelect,d=n.onDoubleClick,g=n.onKeyPress,p=n.handleDragStart,m=n.popperRef,v=n.target,b=n.offset;e0({ref:m,callback:l}),q.useLayoutEffect(function(){var x=s0({target:v,offset:b,container:t.current,box:m.current}),_=x.topOffset,S=x.leftOffset;m.current.style.top="".concat(_,"px"),m.current.style.left="".concat(S,"px")},[b.x,b.y,v]);var w=a.width,y={minWidth:w+w/2};return D.createElement("div",{style:y,className:"rbc-overlay",ref:m},D.createElement("div",{className:"rbc-overlay-header"},o.format(u,"dayHeaderFormat")),c.map(function(x,_){return D.createElement($d,{key:_,type:"popup",localizer:o,event:x,getters:r,onSelect:f,accessors:e,components:s,onDoubleClick:d,onKeyPress:g,continuesPrior:o.lt(e.end(x),u,"day"),continuesAfter:o.gte(e.start(x),h,"day"),slotStart:u,slotEnd:h,selected:Ai(x,i),draggable:!0,onDragStart:function(){return p(x)},onDragEnd:function(){return l()}})}))}var Vd=D.forwardRef(function(n,t){return D.createElement(o0,Object.assign({},n,{popperRef:t}))});Vd.propTypes={accessors:L.object.isRequired,getters:L.object.isRequired,selected:L.object,components:L.object.isRequired,localizer:L.object.isRequired,position:L.object.isRequired,show:L.func.isRequired,events:L.array.isRequired,slotStart:L.instanceOf(Date).isRequired,slotEnd:L.instanceOf(Date),onSelect:L.func,onDoubleClick:L.func,onKeyPress:L.func,handleDragStart:L.func,style:L.object,offset:L.shape({x:L.number,y:L.number})};function a0(n){var t=n.containerRef,e=n.popupOffset,r=e===void 0?5:e,i=n.overlay,s=n.accessors,o=n.localizer,a=n.components,l=n.getters,c=n.selected,u=n.handleSelectEvent,h=n.handleDoubleClickEvent,f=n.handleKeyPressEvent,d=n.handleDragStart,g=n.onHide,p=n.overlayDisplay,m=q.useRef(null);if(!i.position)return null;var v=r;isNaN(r)||(v={x:r,y:r});var b=i.position,w=i.events,y=i.date,x=i.end;return D.createElement(Ya,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:g,target:i.target},function(_){var S=_.props;return D.createElement(Vd,Object.assign({},S,{containerRef:t,ref:m,target:i.target,offset:v,accessors:s,getters:l,selected:c,components:a,localizer:o,position:b,show:p,events:w,slotStart:y,slotEnd:x,onSelect:u,onDoubleClick:h,onKeyPress:f,handleDragStart:d}))})}var tl=D.forwardRef(function(n,t){return D.createElement(a0,Object.assign({},n,{containerRef:t}))});tl.propTypes={popupOffset:L.oneOfType([L.number,L.shape({x:L.number,y:L.number})]),overlay:L.shape({position:L.object,events:L.array,date:L.instanceOf(Date),end:L.instanceOf(Date)}),accessors:L.object.isRequired,localizer:L.object.isRequired,components:L.object.isRequired,getters:L.object.isRequired,selected:L.object,handleSelectEvent:L.func,handleDoubleClickEvent:L.func,handleKeyPressEvent:L.func,handleDragStart:L.func,onHide:L.func,overlayDisplay:L.func};function xt(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return zn(e,n,t,{passive:!1})}function l0(n,t,e){return!n||sr(n,document.elementFromPoint(t,e))}function c0(n,t){var e=t.clientX,r=t.clientY,i=document.elementFromPoint(e,r);return Ed(i,".rbc-event",n)}function u0(n,t){var e=t.clientX,r=t.clientY,i=document.elementFromPoint(e,r);return Ed(i,".rbc-show-more",n)}function hi(n,t){return!!c0(n,t)}function h0(n,t){return!!u0(n,t)}function Cn(n){var t=n;return n.touches&&n.touches.length&&(t=n.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var ih=5,f0=250,Yd=function(){function n(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.global,i=r===void 0?!1:r,s=e.longPressThreshold,o=s===void 0?250:s,a=e.validContainers,l=a===void 0?[]:a;gt(this,n),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||i,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=xt("touchmove",function(){},window),this._removeKeyDownListener=xt("keydown",this._keyListener),this._removeKeyUpListener=xt("keyup",this._keyListener),this._removeDropFromOutsideListener=xt("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=xt("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return pt(n,[{key:"on",value:function(e,r){var i=this._listeners[e]||(this._listeners[e]=[]);return i.push(r),{remove:function(){var o=i.indexOf(r);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var o,a=this._listeners[e]||[];return a.forEach(function(l){o===void 0&&(o=l.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(e){var r=this._selectRect;return!r||!this.selecting?!1:sh(r,nn(e))}},{key:"filter",value:function(e){var r=this._selectRect;return!r||!this.selecting?[]:e.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(e,r){var i=this,s=null,o=null,a=null,l=function(f){s=setTimeout(function(){u(),e(f)},i.longPressThreshold),o=xt("touchmove",function(){return u()}),a=xt("touchend",function(){return u()})},c=xt("touchstart",l),u=function(){s&&clearTimeout(s),o&&o(),a&&a(),s=null,o=null,a=null};return r&&l(r),function(){u(),c()}}},{key:"_addInitialEventListener",value:function(){var e=this,r=xt("mousedown",function(s){e._removeInitialEventListener(),e._handleInitialEvent(s),e._removeInitialEventListener=xt("mousedown",e._handleInitialEvent)}),i=xt("touchstart",function(s){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,s)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(e){var r=Cn(e),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dropFromOutside",{x:i,y:s,clientX:o,clientY:a}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var r=Cn(e),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dragOverFromOutside",{x:i,y:s,clientX:o,clientY:a}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(this._initialEvent=e,!this.isDetached){var r=Cn(e),i=r.clientX,s=r.clientY,o=r.pageX,a=r.pageY,l=this.container(),c,u;if(!(e.which===3||e.button===2||!l0(l,i,s))){if(!this.globalMouse&&l&&!sr(l,e.target)){var h=d0(0),f=h.top,d=h.left,g=h.bottom,p=h.right;if(u=nn(l),c=sh({top:u.top-f,left:u.left-d,bottom:u.bottom+g,right:u.right+p},{top:a,left:o}),!c)return}var m=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:o,y:a,clientX:i,clientY:s});if(m!==!1)switch(e.type){case"mousedown":this._removeEndListener=xt("mouseup",this._handleTerminatingEvent),this._onEscListener=xt("keydown",this._handleTerminatingEvent),this._removeMoveListener=xt("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=xt("touchend",this._handleTerminatingEvent),this._removeMoveListener=xt("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(e){var r=e.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(s){return!!r.closest(s)})}},{key:"_handleTerminatingEvent",value:function(e){var r=this.selecting,i=this._selectRect;if(!r&&e.type.includes("key")&&(e=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!e){var s=!this.container||sr(this.container(),e.target),o=this._isWithinValidContainer(e);return e.key==="Escape"||!o?this.emit("reset"):!r&&s?this._handleClickEvent(e):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var r=Cn(e),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<f0?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:s,clientX:o,clientY:a})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:s,clientX:o,clientY:a}))}},{key:"_handleMoveEvent",value:function(e){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,s=r.y,o=Cn(e),a=o.pageX,l=o.pageY,c=Math.abs(i-a),u=Math.abs(s-l),h=Math.min(a,i),f=Math.min(l,s),d=this.selecting,g=this.isClick(a,l);g&&!d&&!(c||u)||(!d&&!g&&this.emit("selectStart",this._initialEventData),g||(this.selecting=!0,this._selectRect={top:f,left:h,x:a,y:l,right:h+c,bottom:f+u},this.emit("selecting",this._selectRect)),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,r){var i=this._initialEventData,s=i.x,o=i.y,a=i.isTouch;return!a&&Math.abs(e-s)<=ih&&Math.abs(r-o)<=ih}}])}();function d0(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return ka(n)!=="object"&&(n={top:n,left:n,right:n,bottom:n}),n}function sh(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=nn(n),i=r.top,s=r.left,o=r.right,a=o===void 0?s:o,l=r.bottom,c=l===void 0?i:l,u=nn(t),h=u.top,f=u.left,d=u.right,g=d===void 0?f:d,p=u.bottom,m=p===void 0?h:p;return!(c-e<h||i+e>m||a-e<f||s+e>g)}function nn(n){if(!n.getBoundingClientRect)return n;var t=n.getBoundingClientRect(),e=t.left+oh("left"),r=t.top+oh("top");return{top:r,left:e,right:(n.offsetWidth||0)+e,bottom:(n.offsetHeight||0)+r}}function oh(n){if(n==="left")return window.pageXOffset||document.body.scrollLeft||0;if(n==="top")return window.pageYOffset||document.body.scrollTop||0}var p0=function(n){function t(e,r){var i;return gt(this,t),i=Dt(this,t,[e,r]),i.state={selecting:!1},i.containerRef=q.createRef(),i}return Mt(t,n),pt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,s=r.getNow,o=r.getters,a=r.date,l=r.components.dateCellWrapper,c=r.localizer,u=this.state,h=u.selecting,f=u.startIdx,d=u.endIdx,g=s();return D.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(p,m){var v=h&&m>=f&&m<=d,b=o.dayProp(p),w=b.className,y=b.style;return D.createElement(l,{key:m,value:p,range:i},D.createElement("div",{style:y,className:ut("rbc-day-bg",w,v&&"rbc-selected-cell",c.isSameDate(p,g)&&"rbc-today",a&&c.neq(a,p,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,s=this._selector=new Yd(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,c){if(!hi(i,l)&&!h0(i,l)){var u=nn(i),h=r.props,f=h.range,d=h.rtl;if(r0(u,l)){var g=jd(u,l.x,d,f.length);r._selectSlot({startIdx:g,endIdx:g,action:c,box:l})}}r._initial={},r.setState({selecting:!1})};s.on("selecting",function(a){var l=r.props,c=l.range,u=l.rtl,h=-1,f=-1;if(r.state.selecting||(it(r.props.onSelectStart,[a]),r._initial={x:a.x,y:a.y}),s.isSelected(i)){var d=nn(i),g=i0(r._initial,d,a,c.length,u);h=g.startIdx,f=g.endIdx}r.setState({selecting:!0,startIdx:h,endIdx:f})}),s.on("beforeSelect",function(a){if(r.props.selectable==="ignoreEvents")return!hi(r.containerRef.current,a)}),s.on("click",function(a){return o(a,"click")}),s.on("doubleClick",function(a){return o(a,"doubleClick")}),s.on("select",function(a){r._selectSlot(et(et({},r.state),{},{action:"select",bounds:a})),r._initial={},r.setState({selecting:!1}),it(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,s=r.startIdx,o=r.action,a=r.bounds,l=r.box;i!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:i,action:o,bounds:a,box:l,resourceId:this.props.resourceId})}}])}(D.Component),Ut={propTypes:{slotMetrics:L.object.isRequired,selected:L.object,isAllDay:L.bool,accessors:L.object.isRequired,localizer:L.object.isRequired,components:L.object.isRequired,getters:L.object.isRequired,onSelect:L.func,onDoubleClick:L.func,onKeyPress:L.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,e){var r=t.selected;t.isAllDay;var i=t.accessors,s=t.getters,o=t.onSelect,a=t.onDoubleClick,l=t.onKeyPress,c=t.localizer,u=t.slotMetrics,h=t.components,f=t.resizable,d=u.continuesPrior(e),g=u.continuesAfter(e);return D.createElement($d,{event:e,getters:s,localizer:c,accessors:i,components:h,onSelect:o,onDoubleClick:a,onKeyPress:l,continuesPrior:d,continuesAfter:g,slotStart:u.first,slotEnd:u.last,selected:Ai(e,r),resizable:f})},renderSpan:function(t,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(e)/t*100+"%";return D.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},i)}},Ud=function(n){function t(){return gt(this,t),Dt(this,t,arguments)}return Mt(t,n),pt(t,[{key:"render",value:function(){var r=this,i=this.props,s=i.segments,o=i.slotMetrics.slots,a=i.className,l=1;return D.createElement("div",{className:ut(a,"rbc-row")},s.reduce(function(c,u,h){var f=u.event,d=u.left,g=u.right,p=u.span,m="_lvl_"+h,v=d-l,b=Ut.renderEvent(r.props,f);return v&&c.push(Ut.renderSpan(o,v,"".concat(m,"_gap"))),c.push(Ut.renderSpan(o,p,m,b)),l=g+1,c},[]))}}])}(D.Component);Ud.defaultProps=et({},Ut.defaultProps);function Kd(n){var t=n.dateRange,e=n.unit,r=e===void 0?"day":e,i=n.localizer;return{first:t[0],last:i.add(t[t.length-1],1,r)}}function g0(n,t,e,r){var i=Kd({dateRange:t,localizer:r}),s=i.first,o=i.last,a=r.diff(s,o,"day"),l=r.max(r.startOf(e.start(n),"day"),s),c=r.min(r.ceil(e.end(n),"day"),o),u=ub(t,function(f){return r.isSameDate(f,l)}),h=r.diff(l,c,"day");return h=Math.min(h,a),h=Math.max(h-r.segmentOffset,1),{event:n,span:h,left:u+1,right:Math.max(u+h,1)}}function Xd(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,e,r,i,s=[],o=[];for(e=0;e<n.length;e++){for(i=n[e],r=0;r<s.length&&m0(i,s[r]);r++);r>=t?o.push(i):(s[r]||(s[r]=[])).push(i)}for(e=0;e<s.length;e++)s[e].sort(function(a,l){return a.left-l.left});return{levels:s,extra:o}}function lr(n,t,e,r,i){var s={start:r.start(n),end:r.end(n)},o={start:t,end:e};return i.inEventRange({event:s,range:o})}function m0(n,t){return t.some(function(e){return e.left<=n.right&&e.right>=n.left})}function v0(n,t,e){var r=Kr(n),i=[],s=[];r.forEach(function(l){var c=t.start(l),u=t.end(l);e.daySpan(c,u)>1?i.push(l):s.push(l)});var o=i.sort(function(l,c){return ga(l,c,t,e)}),a=s.sort(function(l,c){return ga(l,c,t,e)});return[].concat(Kr(o),Kr(a))}function ga(n,t,e,r){var i={start:e.start(n),end:e.end(n),allDay:e.allDay(n)},s={start:e.start(t),end:e.end(t),allDay:e.allDay(t)};return r.sortEvents({evtA:i,evtB:s})}var Gd=function(t,e){return t.left<=e&&t.right>=e},ah=function(t,e){return t.filter(function(r){return Gd(r,e)}).map(function(r){return r.event})},Qd=function(n){function t(){return gt(this,t),Dt(this,t,arguments)}return Mt(t,n),pt(t,[{key:"render",value:function(){for(var r=this.props,i=r.segments,s=r.slotMetrics.slots,o=Xd(i).levels[0],a=1,l=1,c=[];a<=s;){var u="_lvl_"+a,h=o.filter(function(b){return Gd(b,a)})[0]||{},f=h.event,d=h.left,g=h.right,p=h.span;if(!f){a++;continue}var m=Math.max(0,d-l);if(this.canRenderSlotEvent(d,p)){var v=Ut.renderEvent(this.props,f);m&&c.push(Ut.renderSpan(s,m,u+"_gap")),c.push(Ut.renderSpan(s,p,u,v)),l=a=g+1}else m&&c.push(Ut.renderSpan(s,m,u+"_gap")),c.push(Ut.renderSpan(s,1,u,this.renderShowMore(i,a))),l=a=a+1}return D.createElement("div",{className:"rbc-row"},c)}},{key:"canRenderSlotEvent",value:function(r,i){var s=this.props.segments;return gb(r,r+i).every(function(o){var a=ah(s,o).length;return a===1})}},{key:"renderShowMore",value:function(r,i){var s=this,o=this.props,a=o.localizer,l=o.slotMetrics,c=o.components,u=l.getEventsForSlot(i),h=ah(r,i),f=h.length;if(c!=null&&c.showMore){var d=c.showMore,g=l.getDateForSlot(i-1);return f?D.createElement(d,{localizer:a,slotDate:g,slot:i,count:f,events:u,remainingEvents:h}):!1}return f?D.createElement("button",{type:"button",key:"sm_"+i,className:ut("rbc-button-link","rbc-show-more"),onClick:function(m){return s.showMore(i,m)}},a.messages.showMore(f,h,u)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}])}(D.Component);Qd.defaultProps=et({},Ut.defaultProps);var b0=function(t){var e=t.children;return D.createElement("div",{className:"rbc-row-content-scroll-container"},e)},y0=function(t,e){return t.left<=e&&t.right>=e},x0=function(t,e){return t[0].range===e[0].range&&t[0].events===e[0].events};function Zd(){return Pd(function(n){for(var t=n.range,e=n.events,r=n.maxRows,i=n.minRows,s=n.accessors,o=n.localizer,a=Kd({dateRange:t,localizer:o}),l=a.first,c=a.last,u=e.map(function(p){return g0(p,t,s,o)}),h=Xd(u,Math.max(r-1,1)),f=h.levels,d=h.extra,g=d.length>0?i-1:i;f.length<g;)f.push([]);return{first:l,last:c,levels:f,extra:d,range:t,slots:t.length,clone:function(m){var v=Zd();return v(et(et({},n),m))},getDateForSlot:function(m){return t[m]},getSlotForDate:function(m){return t.find(function(v){return o.isSameDate(v,m)})},getEventsForSlot:function(m){return u.filter(function(v){return y0(v,m)}).map(function(v){return v.event})},continuesPrior:function(m){return o.continuesPrior(s.start(m),l)},continuesAfter:function(m){var v=s.start(m),b=s.end(m);return o.continuesAfter(v,b,c)}}},x0)}var cr=function(n){function t(){var e;gt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=Dt(this,t,[].concat(i)),e.handleSelectSlot=function(o){var a=e.props,l=a.range,c=a.onSelectSlot;c(l.slice(o.start,o.end+1),o)},e.handleShowMore=function(o,a){var l=e.props,c=l.range,u=l.onShowMore,h=e.slotMetrics(e.props),f=gm(e.containerRef.current,".rbc-row-bg")[0],d;f&&(d=f.children[o-1]);var g=h.getEventsForSlot(o);u(g,c[o-1],d,o,a)},e.getContainer=function(){var o=e.props.container;return o?o():e.containerRef.current},e.renderHeadingCell=function(o,a){var l=e.props,c=l.renderHeader,u=l.getNow,h=l.localizer;return c({date:o,key:"header_".concat(a),className:ut("rbc-date-cell",h.isSameDate(o,u())&&"rbc-now")})},e.renderDummy=function(){var o=e.props,a=o.className,l=o.range,c=o.renderHeader,u=o.showAllEvents;return D.createElement("div",{className:a,ref:e.containerRef},D.createElement("div",{className:ut("rbc-row-content",u&&"rbc-row-content-scrollable")},c&&D.createElement("div",{className:"rbc-row",ref:e.headingRowRef},l.map(e.renderHeadingCell)),D.createElement("div",{className:"rbc-row",ref:e.eventRowRef},D.createElement("div",{className:"rbc-row-segment"},D.createElement("div",{className:"rbc-event"},D.createElement("div",{className:"rbc-event-content"},""))))))},e.containerRef=q.createRef(),e.headingRowRef=q.createRef(),e.eventRowRef=q.createRef(),e.slotMetrics=Zd(),e}return Mt(t,n),pt(t,[{key:"getRowLimit",value:function(){var r,i=ss(this.eventRowRef.current),s=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?ss(this.headingRowRef.current):0,o=ss(this.containerRef.current)-s;return Math.max(Math.floor(o/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.rtl,o=r.range,a=r.className,l=r.selected,c=r.selectable,u=r.renderForMeasure,h=r.accessors,f=r.getters,d=r.components,g=r.getNow,p=r.renderHeader,m=r.onSelect,v=r.localizer,b=r.onSelectStart,w=r.onSelectEnd,y=r.onDoubleClick,x=r.onKeyPress,_=r.resourceId,S=r.longPressThreshold,M=r.isAllDay,E=r.resizable,O=r.showAllEvents;if(u)return this.renderDummy();var k=this.slotMetrics(this.props),C=k.levels,T=k.extra,B=O?b0:oe,W=d.weekWrapper,F={selected:l,accessors:h,getters:f,localizer:v,components:d,onSelect:m,onDoubleClick:y,onKeyPress:x,resourceId:_,slotMetrics:k,resizable:E};return D.createElement("div",{className:a,role:"rowgroup",ref:this.containerRef},D.createElement(p0,{localizer:v,date:i,getNow:g,rtl:s,range:o,selectable:c,container:this.getContainer,getters:f,onSelectStart:b,onSelectEnd:w,onSelectSlot:this.handleSelectSlot,components:d,longPressThreshold:S,resourceId:_}),D.createElement("div",{className:ut("rbc-row-content",O&&"rbc-row-content-scrollable"),role:"row"},p&&D.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),D.createElement(B,null,D.createElement(W,Object.assign({isAllDay:M},F,{rtl:this.props.rtl}),C.map(function($,Y){return D.createElement(Ud,Object.assign({key:Y,segments:$},F))}),!!T.length&&D.createElement(Qd,Object.assign({segments:T,onShowMore:this.handleShowMore},F))))))}}])}(D.Component);cr.defaultProps={minRows:0,maxRows:1/0};var el=function(t){var e=t.label;return D.createElement("span",{role:"columnheader","aria-sort":"none"},e)},w0=function(t){var e=t.label,r=t.drilldownView,i=t.onDrillDown;return r?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},e):D.createElement("span",null,e)},_0=["date","className"],S0=function(t,e,r,i,s){return t.filter(function(o){return lr(o,e,r,i,s)})},Li=function(n){function t(){var e;gt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=Dt(this,t,[].concat(i)),e.getContainer=function(){return e.containerRef.current},e.renderWeek=function(o,a){var l=e.props,c=l.events,u=l.components,h=l.selectable,f=l.getNow,d=l.selected,g=l.date,p=l.localizer,m=l.longPressThreshold,v=l.accessors,b=l.getters,w=l.showAllEvents,y=e.state,x=y.needLimitMeasure,_=y.rowLimit,S=S0(Kr(c),o[0],o[o.length-1],v,p),M=v0(S,v,p);return D.createElement(cr,{key:a,ref:a===0?e.slotRowRef:void 0,container:e.getContainer,className:"rbc-month-row",getNow:f,date:g,range:o,events:M,maxRows:w?1/0:_,selected:d,selectable:h,components:u,accessors:v,getters:b,localizer:p,renderHeader:e.readerDateHeading,renderForMeasure:x,onShowMore:e.handleShowMore,onSelect:e.handleSelectEvent,onDoubleClick:e.handleDoubleClickEvent,onKeyPress:e.handleKeyPressEvent,onSelectSlot:e.handleSelectSlot,longPressThreshold:m,rtl:e.props.rtl,resizable:e.props.resizable,showAllEvents:w})},e.readerDateHeading=function(o){var a=o.date,l=o.className,c=Qt(o,_0),u=e.props,h=u.date,f=u.getDrilldownView,d=u.localizer,g=d.neq(a,h,"month"),p=d.isSameDate(a,h),m=f(a),v=d.format(a,"dateFormat"),b=e.props.components.dateHeader||w0;return D.createElement("div",Object.assign({},c,{className:ut(l,g&&"rbc-off-range",p&&"rbc-current"),role:"cell"}),D.createElement(b,{label:v,date:a,drilldownView:m,isOffRange:g,onDrillDown:function(y){return e.handleHeadingClick(a,m,y)}}))},e.handleSelectSlot=function(o,a){e._pendingSelection=e._pendingSelection.concat(o),clearTimeout(e._selectTimer),e._selectTimer=setTimeout(function(){return e.selectDates(a)})},e.handleHeadingClick=function(o,a,l){l.preventDefault(),e.clearSelection(),it(e.props.onDrillDown,[o,a])},e.handleSelectEvent=function(){e.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];it(e.props.onSelectEvent,a)},e.handleDoubleClickEvent=function(){e.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];it(e.props.onDoubleClickEvent,a)},e.handleKeyPressEvent=function(){e.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];it(e.props.onKeyPressEvent,a)},e.handleShowMore=function(o,a,l,c,u){var h=e.props,f=h.popup,d=h.onDrillDown,g=h.onShowMore,p=h.getDrilldownView,m=h.doShowMoreDrillDown;if(e.clearSelection(),f){var v=md(l,e.containerRef.current);e.setState({overlay:{date:a,events:o,position:v,target:u}})}else m&&it(d,[a,p(a)||Et.DAY]);it(g,[o,a,c])},e.overlayDisplay=function(){e.setState({overlay:null})},e.state={rowLimit:5,needLimitMeasure:!0,date:null},e.containerRef=q.createRef(),e.slotRowRef=q.createRef(),e._bgRows=[],e._pendingSelection=[],e}return Mt(t,n),pt(t,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||vd(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.className,a=s.visibleDays(i,s),l=Jg(a,7);return this._weekCount=l.length,D.createElement("div",{className:ut("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},D.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,s=i.localizer,o=i.components,a=r[0],l=r[r.length-1],c=o.header||el;return s.range(a,l,"day").map(function(u,h){return D.createElement("div",{key:"header_"+h,className:"rbc-header"},D.createElement(c,{date:u,localizer:s,label:s.format(u,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,c=a.localizer,u=a.components,h=a.getters,f=a.selected,d=a.popupOffset,g=a.handleDragStart,p=function(){return s.setState({overlay:null})};return D.createElement(tl,{overlay:o,accessors:l,localizer:c,components:u,getters:h,selected:f,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(a,l){return+a-+l});var s=new Date(i[0]),o=new Date(i[i.length-1]);o.setDate(i[i.length-1].getDate()+1),it(this.props.onSelectSlot,{slots:i,start:s,end:o,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var s=r.date,o=r.localizer;return{date:s,needLimitMeasure:o.neq(s,i.date,"month")}}}])}(D.Component);Li.range=function(n,t){var e=t.localizer,r=e.firstVisibleDay(n,e),i=e.lastVisibleDay(n,e);return{start:r,end:i}};Li.navigate=function(n,t,e){var r=e.localizer;switch(t){case Rt.PREVIOUS:return r.add(n,-1,"month");case Rt.NEXT:return r.add(n,1,"month");default:return n}};Li.title=function(n,t){var e=t.localizer;return e.format(n,"monthHeaderFormat")};var lh=function(t){var e=t.min,r=t.max,i=t.step,s=t.slots,o=t.localizer;return"".concat(+o.startOf(e,"minutes"))+"".concat(+o.startOf(r,"minutes"))+"".concat(i,"-").concat(s)};function nl(n){for(var t=n.min,e=n.max,r=n.step,i=n.timeslots,s=n.localizer,o=lh({step:r,localizer:s}),a=1+s.getTotalMin(t,e),l=s.getMinutesFromMidnight(t),c=Math.ceil((a-1)/(r*i)),u=c*i,h=new Array(c),f=new Array(u),d=0;d<c;d++){h[d]=new Array(i);for(var g=0;g<i;g++){var p=d*i+g,m=p*r;f[p]=h[d][g]=s.getSlotDate(t,l,m)}}var v=f.length*r;f.push(s.getSlotDate(t,l,v));function b(w){var y=s.diff(t,w,"minutes")+s.getDstOffset(t,w);return Math.min(y,a)}return{groups:h,update:function(y){return lh(y)!==o?nl(y):this},dateIsInGroup:function(y,x){var _=h[x+1];return s.inRange(y,h[x][0],_?_[0]:e,"minutes")},nextSlot:function(y){var x=f[Math.min(f.findIndex(function(_){return _===y||s.eq(_,y)})+1,f.length-1)];return s.eq(x,y)&&(x=s.add(y,r,"minutes")),x},closestSlotToPosition:function(y){var x=Math.min(f.length-1,Math.max(0,Math.floor(y*u)));return f[x]},closestSlotFromPoint:function(y,x){var _=Math.abs(x.top-x.bottom);return this.closestSlotToPosition((y.y-x.top)/_)},closestSlotFromDate:function(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(y,t,"minutes"))return f[0];if(s.gt(y,e,"minutes"))return f[f.length-1];var _=s.diff(t,y,"minutes");return f[(_-_%r)/r+x]},startsBeforeDay:function(y){return s.lt(y,t,"day")},startsAfterDay:function(y){return s.gt(y,e,"day")},startsBefore:function(y){return s.lt(s.merge(t,y),t,"minutes")},startsAfter:function(y){return s.gt(s.merge(e,y),e,"minutes")},getRange:function(y,x,_,S){_||(y=s.min(e,s.max(t,y))),S||(x=s.min(e,s.max(t,x)));var M=b(y),E=b(x),O=E>r*u&&!s.eq(e,x)?(M-r)/(r*u)*100:M/(r*u)*100;return{top:O,height:E/(r*u)*100-O,start:b(y),startDate:y,end:b(x),endDate:x}},getCurrentTimePosition:function(y){var x=b(y),_=x/(r*u)*100;return _}}}var M0=function(){function n(t,e){var r=e.accessors,i=e.slotMetrics;gt(this,n);var s=i.getRange(r.start(t),r.end(t)),o=s.start,a=s.startDate,l=s.end,c=s.endDate,u=s.top,h=s.height;this.start=o,this.end=l,this.startMs=+a,this.endMs=+c,this.top=u,this.height=h,this.data=t}return pt(n,[{key:"_width",get:function(){if(this.rows){var e=this.rows.reduce(function(i,s){return Math.max(i,s.leaves.length+1)},0)+1;return 100/e}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var e=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:e;var i=this.row.leaves,s=i.indexOf(this);return s===i.length-1?e:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,r=e.leaves,i=e.xOffset,s=e._width,o=r.indexOf(this)+1;return i+o*s}}])}();function D0(n,t,e){return Math.abs(t.start-n.start)<e||t.start>n.start&&t.start<n.end}function E0(n){for(var t=Lb(n,["startMs",function(a){return-a.endMs}]),e=[];t.length>0;){var r=t.shift();e.push(r);for(var i=0;i<t.length;i++){var s=t[i];if(!(r.endMs>s.startMs)){if(i>0){var o=t.splice(i,1)[0];e.push(o)}break}}}return e}function Jd(n){for(var t=n.events,e=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,s=t.map(function(u){return new M0(u,{slotMetrics:r,accessors:i})}),o=E0(s),a=[],l=function(){var h=o[c],f=a.find(function(p){return p.end>h.start||Math.abs(h.start-p.start)<e});if(!f)return h.rows=[],a.push(h),1;h.container=f;for(var d=null,g=f.rows.length-1;!d&&g>=0;g--)D0(f.rows[g],h,e)&&(d=f.rows[g]);d?(d.leaves.push(h),h.row=d):(h.leaves=[],f.rows.push(h))},c=0;c<o.length;c++)l();return o.map(function(u){return{event:u.data,style:{top:u.top,height:u.height,width:u.width,xOffset:Math.max(0,u.xOffset)}}})}function tp(n,t,e){for(var r=0;r<n.friends.length;++r)if(!(e.indexOf(n.friends[r])>-1)){t=t>n.friends[r].idx?t:n.friends[r].idx,e.push(n.friends[r]);var i=tp(n.friends[r],t,e);t=t>i?t:i}return t}function O0(n){var t=n.events,e=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,s=Jd({events:t,minimumStartDifference:e,slotMetrics:r,accessors:i});s.sort(function(W,F){return W=W.style,F=F.style,W.top!==F.top?W.top>F.top?1:-1:W.height!==F.height?W.top+W.height<F.top+F.height?1:-1:0});for(var o=0;o<s.length;++o)s[o].friends=[],delete s[o].style.left,delete s[o].style.left,delete s[o].idx,delete s[o].size;for(var a=0;a<s.length-1;++a)for(var l=s[a],c=l.style.top,u=l.style.top+l.style.height,h=a+1;h<s.length;++h){var f=s[h],d=f.style.top,g=f.style.top+f.style.height;(d>=c&&g<=u||g>c&&g<=u||d>=c&&d<u)&&(l.friends.push(f),f.friends.push(l))}for(var p=0;p<s.length;++p){for(var m=s[p],v=[],b=0;b<100;++b)v.push(1);for(var w=0;w<m.friends.length;++w)m.friends[w].idx!==void 0&&(v[m.friends[w].idx]=0);m.idx=v.indexOf(1)}for(var y=0;y<s.length;++y){var x=0;if(!s[y].size){var _=[],S=tp(s[y],0,_);x=100/(S+1),s[y].size=x;for(var M=0;M<_.length;++M)_[M].size=x}}for(var E=0;E<s.length;++E){var O=s[E];O.style.left=O.idx*O.size;for(var k=0,C=0;C<O.friends.length;++C){var T=O.friends[C].idx;k=k>T?k:T}k<=O.idx&&(O.size=100-O.idx*O.size);var B=O.idx===0?0:3;O.style.width="calc(".concat(O.size,"% - ").concat(B,"px)"),O.style.height="calc(".concat(O.style.height,"% - 2px)"),O.style.xOffset="calc(".concat(O.style.left,"% + ").concat(B,"px)")}return s}var ch={overlap:Jd,"no-overlap":O0};function k0(n){return!!(n&&n.constructor&&n.call&&n.apply)}function P0(n){n.events,n.minimumStartDifference,n.slotMetrics,n.accessors;var t=n.dayLayoutAlgorithm,e=t;return t in ch&&(e=ch[t]),k0(e)?e.apply(this,arguments):[]}var ep=function(n){function t(){return gt(this,t),Dt(this,t,arguments)}return Mt(t,n),pt(t,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,s=r.resource,o=r.group,a=r.getters,l=r.components,c=l===void 0?{}:l,u=c.timeSlotWrapper,h=u===void 0?oe:u,f=a?a.slotGroupProp(o):{};return D.createElement("div",Object.assign({className:"rbc-timeslot-group"},f),o.map(function(d,g){var p=a?a.slotProp(d,s):{};return D.createElement(h,{key:g,value:d,resource:s},D.createElement("div",Object.assign({},p,{className:ut("rbc-time-slot",p.className)}),i&&i(d,g)))}))}}])}(q.Component);function Ar(n){return typeof n=="string"?n:n+"%"}function C0(n){var t=n.style,e=n.className,r=n.event,i=n.accessors,s=n.rtl,o=n.selected,a=n.label,l=n.continuesPrior,c=n.continuesAfter,u=n.getters,h=n.onClick,f=n.onDoubleClick,d=n.isBackgroundEvent,g=n.onKeyPress,p=n.components,m=p.event,v=p.eventWrapper,b=i.title(r),w=i.tooltip(r),y=i.end(r),x=i.start(r),_=u.eventProp(r,x,y,o),S=[D.createElement("div",{key:"1",className:"rbc-event-label"},a),D.createElement("div",{key:"2",className:"rbc-event-content"},m?D.createElement(m,{event:r,title:b}):b)],M=t.height,E=t.top,O=t.width,k=t.xOffset,C=et(et({},_.style),{},fn({top:Ar(E),height:Ar(M),width:Ar(O)},s?"right":"left",Ar(k)));return D.createElement(v,Object.assign({type:"time"},n),D.createElement("div",{role:"button",tabIndex:0,onClick:h,onDoubleClick:f,style:C,onKeyDown:g,title:w?(typeof a=="string"?a+": ":"")+w:void 0,className:ut(d?"rbc-background-event":"rbc-event",e,_.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},S))}var R0=function(t){var e=t.children,r=t.className,i=t.style,s=t.innerRef;return D.createElement("div",{className:r,style:i,ref:s},e)},T0=D.forwardRef(function(n,t){return D.createElement(R0,Object.assign({},n,{innerRef:t}))}),A0=["dayProp"],L0=["eventContainerWrapper"],np=function(n){function t(){var e;gt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=Dt(this,t,[].concat(i)),e.state={selecting:!1,timeIndicatorPosition:null},e.intervalTriggered=!1,e.renderEvents=function(o){var a=o.events,l=o.isBackgroundEvent,c=e.props,u=c.rtl,h=c.selected,f=c.accessors,d=c.localizer,g=c.getters,p=c.components,m=c.step,v=c.timeslots,b=c.dayLayoutAlgorithm,w=c.resizable,y=e,x=y.slotMetrics,_=d.messages,S=P0({events:a,accessors:f,slotMetrics:x,minimumStartDifference:Math.ceil(m*v/2),dayLayoutAlgorithm:b});return S.map(function(M,E){var O,k=M.event,C=M.style,T=f.end(k),B=f.start(k),W=(O=f.eventId(k))!==null&&O!==void 0?O:"evt_"+E,F="eventTimeRangeFormat",$,Y=x.startsBeforeDay(B),V=x.startsAfterDay(T);Y?F="eventTimeRangeEndFormat":V&&(F="eventTimeRangeStartFormat"),Y&&V?$=_.allDay:$=d.format({start:B,end:T},F);var rt=Y||x.startsBefore(B),P=V||x.startsAfter(T);return D.createElement(C0,{style:C,event:k,label:$,key:W,getters:g,rtl:u,components:p,continuesPrior:rt,continuesAfter:P,accessors:f,resource:e.props.resource,selected:Ai(k,h),onClick:function(A){return e._select(et(et(et({},k),e.props.resource&&{sourceResource:e.props.resource}),l&&{isBackgroundEvent:!0}),A)},onDoubleClick:function(A){return e._doubleClick(k,A)},isBackgroundEvent:l,onKeyPress:function(A){return e._keyPress(k,A)},resizable:w})})},e._selectable=function(){var o=e.containerRef.current,a=e.props,l=a.longPressThreshold,c=a.localizer,u=e._selector=new Yd(function(){return o},{longPressThreshold:l}),h=function(p){var m=e.props.onSelecting,v=e.state||{},b=f(p),w=b.startDate,y=b.endDate;m&&(c.eq(v.startDate,w,"minutes")&&c.eq(v.endDate,y,"minutes")||m({start:w,end:y,resourceId:e.props.resource})===!1)||(e.state.start!==b.start||e.state.end!==b.end||e.state.selecting!==b.selecting)&&e.setState(b)},f=function(p){var m=e.slotMetrics.closestSlotFromPoint(p,nn(o));e.state.selecting||(e._initialSlot=m);var v=e._initialSlot;c.lte(v,m)?m=e.slotMetrics.nextSlot(m):c.gt(v,m)&&(v=e.slotMetrics.nextSlot(v));var b=e.slotMetrics.getRange(c.min(v,m),c.max(v,m));return et(et({},b),{},{selecting:!0,top:"".concat(b.top,"%"),height:"".concat(b.height,"%")})},d=function(p,m){if(!hi(e.containerRef.current,p)){var v=f(p),b=v.startDate,w=v.endDate;e._selectSlot({startDate:b,endDate:w,action:m,box:p})}e.setState({selecting:!1})};u.on("selecting",h),u.on("selectStart",h),u.on("beforeSelect",function(g){if(e.props.selectable==="ignoreEvents")return!hi(e.containerRef.current,g)}),u.on("click",function(g){return d(g,"click")}),u.on("doubleClick",function(g){return d(g,"doubleClick")}),u.on("select",function(g){e.state.selecting&&(e._selectSlot(et(et({},e.state),{},{action:"select",bounds:g})),e.setState({selecting:!1}))}),u.on("reset",function(){e.state.selecting&&e.setState({selecting:!1})})},e._teardownSelectable=function(){e._selector&&(e._selector.teardown(),e._selector=null)},e._selectSlot=function(o){for(var a=o.startDate,l=o.endDate,c=o.action,u=o.bounds,h=o.box,f=a,d=[];e.props.localizer.lte(f,l);)d.push(f),f=new Date(+f+e.props.step*60*1e3);it(e.props.onSelectSlot,{slots:d,start:a,end:l,resourceId:e.props.resource,action:c,bounds:u,box:h})},e._select=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];it(e.props.onSelectEvent,a)},e._doubleClick=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];it(e.props.onDoubleClickEvent,a)},e._keyPress=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];it(e.props.onKeyPressEvent,a)},e.slotMetrics=nl(e.props),e.containerRef=q.createRef(),e}return Mt(t,n),pt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var s=this.props,o=s.getNow,a=s.isNow,l=s.localizer,c=s.date,u=s.min,h=s.max,f=l.neq(r.getNow(),o(),"minutes");if(r.isNow!==a||f){if(this.clearTimeIndicatorInterval(),a){var d=!f&&l.eq(r.date,c,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(d)}}else a&&(l.neq(r.min,u,"minutes")||l.neq(r.max,h,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,s=r.max,o=r.getNow,a=o();if(a>=i&&a<=s){var l=this.slotMetrics.getCurrentTimePosition(a);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.max,o=r.rtl,a=r.isNow,l=r.resource,c=r.accessors,u=r.localizer,h=r.getters,f=h.dayProp,d=Qt(h,A0),g=r.components,p=g.eventContainerWrapper,m=Qt(g,L0);this.slotMetrics=this.slotMetrics.update(this.props);var v=this.slotMetrics,b=this.state,w=b.selecting,y=b.top,x=b.height,_=b.startDate,S=b.endDate,M={start:_,end:S},E=f(s,l),O=E.className,k=E.style,C=m.dayColumnWrapper||T0;return D.createElement(C,{ref:this.containerRef,date:i,style:k,className:ut(O,"rbc-day-slot","rbc-time-column",a&&"rbc-now",a&&"rbc-today",w&&"rbc-slot-selecting"),slotMetrics:v,resource:l},v.groups.map(function(T,B){return D.createElement(ep,{key:B,group:T,resource:l,getters:d,components:m})}),D.createElement(p,{localizer:u,resource:l,accessors:c,getters:d,components:m,slotMetrics:v},D.createElement("div",{className:ut("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),w&&D.createElement("div",{className:"rbc-slot-selection",style:{top:y,height:x}},D.createElement("span",null,u.format(M,"selectRangeFormat"))),a&&this.intervalTriggered&&D.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}(D.Component);np.defaultProps={dragThroughEvents:!0,timeslots:2};var rp=function(t){var e=t.label;return D.createElement(D.Fragment,null,e)},I0=function(n){function t(){var e;gt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=Dt(this,t,[].concat(i)),e.handleHeaderClick=function(o,a,l){l.preventDefault(),it(e.props.onDrillDown,[o,a])},e.renderRow=function(o){var a=e.props,l=a.events,c=a.rtl,u=a.selectable,h=a.getNow,f=a.range,d=a.getters,g=a.localizer,p=a.accessors,m=a.components,v=a.resizable,b=p.resourceId(o),w=o?l.filter(function(y){return p.resource(y)===b}):l;return D.createElement(cr,{isAllDay:!0,rtl:c,getNow:h,minRows:2,maxRows:e.props.allDayMaxRows+1,range:f,events:w,resourceId:b,className:"rbc-allday-cell",selectable:u,selected:e.props.selected,components:m,accessors:p,getters:d,localizer:g,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyPress:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:v})},e}return Mt(t,n),pt(t,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,c=s.getters.dayProp,u=s.components.header,h=u===void 0?el:u,f=l();return r.map(function(d,g){var p=a(d),m=o.format(d,"dayFormat"),v=c(d),b=v.className,w=v.style,y=D.createElement(h,{date:d,label:m,localizer:o});return D.createElement("div",{key:g,style:w,className:ut("rbc-header",b,o.isSameDate(d,f)&&"rbc-today")},p?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(_){return i.handleHeaderClick(d,p,_)}},y):D.createElement("span",null,y))})}},{key:"render",value:function(){var r=this,i=this.props,s=i.width,o=i.rtl,a=i.resources,l=i.range,c=i.events,u=i.getNow,h=i.accessors,f=i.selectable,d=i.components,g=i.getters,p=i.scrollRef,m=i.localizer,v=i.isOverflowing,b=i.components,w=b.timeGutterHeader,y=b.resourceHeader,x=y===void 0?rp:y,_=i.resizable,S={};v&&(S[o?"marginLeft":"marginRight"]="".concat(Va()-1,"px"));var M=a.groupEvents(c);return D.createElement("div",{style:S,ref:p,className:ut("rbc-time-header",v&&"rbc-overflowing")},D.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},w&&D.createElement(w,null)),a.map(function(E,O){var k=Nt(E,2),C=k[0],T=k[1];return D.createElement("div",{className:"rbc-time-header-content",key:C||O},T&&D.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(O)},D.createElement("div",{className:"rbc-header"},D.createElement(x,{index:O,label:h.resourceTitle(T),resource:T}))),D.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),D.createElement(cr,{isAllDay:!0,rtl:o,getNow:u,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:M.get(C)||[],resourceId:T&&C,className:"rbc-allday-cell",selectable:f,selected:r.props.selected,components:d,accessors:h,getters:g,localizer:m,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:_}))}))}}])}(D.Component),F0=function(n){function t(){var e;gt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=Dt(this,t,[].concat(i)),e.handleHeaderClick=function(o,a,l){l.preventDefault(),it(e.props.onDrillDown,[o,a])},e}return Mt(t,n),pt(t,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,c=s.getters.dayProp,u=s.components,h=u.header,f=h===void 0?el:h,d=u.resourceHeader,g=d===void 0?rp:d,p=s.resources,m=s.accessors,v=s.events,b=s.rtl,w=s.selectable,y=s.components,x=s.getters,_=s.resizable,S=l(),M=p.groupEvents(v);return r.map(function(E,O){var k=a(E),C=o.format(E,"dayFormat"),T=c(E),B=T.className,W=T.style,F=D.createElement(f,{date:E,label:C,localizer:o});return D.createElement("div",{key:O,className:"rbc-time-header-content rbc-resource-grouping"},D.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},D.createElement("div",{style:W,className:ut("rbc-header",B,o.isSameDate(E,S)&&"rbc-today")},k?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(Y){return i.handleHeaderClick(E,k,Y)}},F):D.createElement("span",null,F))),D.createElement("div",{className:"rbc-row"},p.map(function($,Y){var V=Nt($,2),rt=V[0],P=V[1];return D.createElement("div",{key:"resource_".concat(rt,"_").concat(Y),className:ut("rbc-header",B,o.isSameDate(E,S)&&"rbc-today")},D.createElement(g,{index:Y,label:m.resourceTitle(P),resource:P}))})),D.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},p.map(function($,Y){var V=Nt($,2),rt=V[0],P=V[1],R=(M.get(rt)||[]).filter(function(A){return o.isSameDate(A.start,E)||o.isSameDate(A.end,E)});return D.createElement(cr,{key:"resource_".concat(rt,"_").concat(Y),isAllDay:!0,rtl:b,getNow:l,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[E],events:R,resourceId:P&&rt,className:"rbc-allday-cell",selectable:w,selected:i.props.selected,components:y,accessors:m,getters:x,localizer:o,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:_})})))})}},{key:"render",value:function(){var r=this.props,i=r.width,s=r.rtl,o=r.range,a=r.scrollRef,l=r.isOverflowing,c=r.components.timeGutterHeader,u={};return l&&(u[s?"marginLeft":"marginRight"]="".concat(Va()-1,"px")),D.createElement("div",{style:u,ref:a,className:ut("rbc-time-header",l&&"rbc-overflowing")},D.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},c&&D.createElement(c,null)),this.renderHeaderCells(o))}}])}(D.Component);function N0(n){var t=n.min,e=n.max,r=n.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(e)?{start:r.add(t,-1,"day"),end:r.add(e,-1,"day")}:{start:t,end:e}}var z0=function(t){var e=t.min,r=t.max,i=t.timeslots,s=t.step,o=t.localizer,a=t.getNow,l=t.resource,c=t.components,u=t.getters,h=t.gutterRef,f=c.timeGutterWrapper,d=q.useMemo(function(){return N0({min:e,max:r,localizer:o})},[e?.toISOString(),r?.toISOString(),o]),g=d.start,p=d.end,m=q.useState(nl({min:g,max:p,timeslots:i,step:s,localizer:o})),v=Nt(m,2),b=v[0],w=v[1];q.useEffect(function(){b&&w(b.update({min:g,max:p,timeslots:i,step:s,localizer:o}))},[g?.toISOString(),p?.toISOString(),i,s]);var y=q.useCallback(function(x,_){if(_)return null;var S=b.dateIsInGroup(a(),_);return D.createElement("span",{className:ut("rbc-label",S&&"rbc-now")},o.format(x,"timeGutterFormat"))},[b,o,a]);return D.createElement(f,{slotMetrics:b},D.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:h},b.groups.map(function(x,_){return D.createElement(ep,{key:_,group:x,resource:l,components:c,renderSlot:y,getters:u})})))},B0=D.forwardRef(function(n,t){return D.createElement(z0,Object.assign({gutterRef:t},n))}),jo={};function W0(n,t){return{map:function(r){return n?n.map(function(i,s){return r([t.resourceId(i),i],s)}):[r([jo,null],0)]},groupEvents:function(r){var i=new Map;return n?(r.forEach(function(s){var o=t.resource(s)||jo;if(Array.isArray(o))o.forEach(function(l){var c=i.get(l)||[];c.push(s),i.set(l,c)});else{var a=i.get(o)||[];a.push(s),i.set(o,a)}}),i):(i.set(jo,r),i)}}}var En=function(n){function t(e){var r;return gt(this,t),r=Dt(this,t,[e]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){Vl(r.rafHandle),r.rafHandle=vd(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];it(r.props.onKeyPressEvent,s)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];it(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];it(r.props.onDoubleClickEvent,s)},r.handleShowMore=function(i,s,o,a,l){var c=r.props,u=c.popup,h=c.onDrillDown,f=c.onShowMore,d=c.getDrilldownView,g=c.doShowMoreDrillDown;if(r.clearSelection(),u){var p=md(o,r.containerRef.current);r.setState({overlay:{date:s,events:i,position:et(et({},p),{},{width:"200px"}),target:l}})}else g&&it(h,[s,d(s)||Et.DAY]);it(f,[i,s,a])},r.handleSelectAllDaySlot=function(i,s){var o=r.props.onSelectSlot,a=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),it(o,{slots:i,start:a,end:l,action:s.action,resourceId:s.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var s=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==s&&(r._updatingOverflow=!0,r.setState({isOverflowing:s},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=Pd(function(i,s){return W0(i,s)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=D.createRef(),r.contentRef=D.createRef(),r.containerRef=D.createRef(),r._scrollRatio=null,r.gutterRef=q.createRef(),r}return Mt(t,n),pt(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Vl(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,i,s,o,a,l,c,u,h,f){var d=this.props,g=d.min,p=d.max,m=(o.get(i)||[]).filter(function(b){return l.inRange(r,c.start(b),c.end(b),"day")}),v=(a.get(i)||[]).filter(function(b){return l.inRange(r,c.start(b),c.end(b),"day")});return D.createElement(np,Object.assign({},this.props,{localizer:l,min:l.merge(r,g),max:l.merge(r,p),resource:s&&i,components:u,isNow:l.isSameDate(r,f),key:"".concat(i,"-").concat(r),date:r,events:m,backgroundEvents:v,dayLayoutAlgorithm:h}))}},{key:"renderResourcesFirst",value:function(r,i,s,o,a,l,c,u,h){var f=this;return i.map(function(d){var g=Nt(d,2),p=g[0],m=g[1];return r.map(function(v){return f.renderDayColumn(v,p,m,s,o,a,l,u,h,c)})})}},{key:"renderRangeFirst",value:function(r,i,s,o,a,l,c,u,h){var f=this;return r.map(function(d){return D.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:d},i.map(function(g){var p=Nt(g,2),m=p[0],v=p[1];return D.createElement("div",{style:{flex:1},key:l.resourceId(v)},f.renderDayColumn(d,m,v,s,o,a,l,u,h,c))}))})}},{key:"renderEvents",value:function(r,i,s,o){var a=this.props,l=a.accessors,c=a.localizer,u=a.resourceGroupingLayout,h=a.components,f=a.dayLayoutAlgorithm,d=this.memoizedResources(this.props.resources,l),g=d.groupEvents(i),p=d.groupEvents(s);return u?this.renderRangeFirst(r,d,g,p,c,l,o,h,f):this.renderResourcesFirst(r,d,g,p,c,l,o,h,f)}},{key:"render",value:function(){var r,i=this.props,s=i.events,o=i.backgroundEvents,a=i.range,l=i.width,c=i.rtl,u=i.selected,h=i.getNow,f=i.resources,d=i.components,g=i.accessors,p=i.getters,m=i.localizer,v=i.min,b=i.max,w=i.showMultiDayTimes,y=i.longPressThreshold,x=i.resizable,_=i.resourceGroupingLayout;l=l||this.state.gutterWidth;var S=a[0],M=a[a.length-1];this.slots=a.length;var E=[],O=[],k=[];s.forEach(function(T){if(lr(T,S,M,g,m)){var B=g.start(T),W=g.end(T);g.allDay(T)||m.startAndEndAreDateOnly(B,W)||!w&&!m.isSameDate(B,W)?E.push(T):O.push(T)}}),o.forEach(function(T){lr(T,S,M,g,m)&&k.push(T)}),E.sort(function(T,B){return ga(T,B,g,m)});var C={range:a,events:E,width:l,rtl:c,getNow:h,localizer:m,selected:u,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(f,g),selectable:this.props.selectable,accessors:g,getters:p,components:d,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:y,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:x};return D.createElement("div",{className:ut("rbc-time-view",f&&"rbc-time-view-resources"),ref:this.containerRef},f&&f.length>1&&_?D.createElement(F0,C):D.createElement(I0,C),this.props.popup&&this.renderOverlay(),D.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},D.createElement(B0,{date:S,ref:this.gutterRef,localizer:m,min:m.merge(S,v),max:m.merge(S,b),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:d,className:"rbc-time-gutter",getters:p}),this.renderEvents(a,O,k,h())))}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,c=a.localizer,u=a.components,h=a.getters,f=a.selected,d=a.popupOffset,g=a.handleDragStart,p=function(){return s.setState({overlay:null})};return D.createElement(tl,{overlay:o,accessors:l,localizer:c,components:u,getters:h,selected:f,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,s=(i=r.gutterRef)!==null&&i!==void 0&&i.current?da(r.gutterRef.current):void 0;s&&r.state.gutterWidth!==s&&r.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,s=r.max,o=r.scrollToTime,a=r.localizer,l=a.diff(a.merge(o,i),o,"milliseconds"),c=a.diff(i,s,"milliseconds");this._scrollRatio=l/c}}])}(q.Component);En.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var q0=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Ii=function(n){function t(){return gt(this,t),Dt(this,t,arguments)}return Mt(t,n),pt(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,u=r.scrollToTime,h=u===void 0?s.startOf(new Date,"day"):u,f=r.enableAutoScroll,d=f===void 0?!0:f,g=Qt(r,q0),p=t.range(i,{localizer:s});return D.createElement(En,Object.assign({},g,{range:p,eventOffset:10,localizer:s,min:a,max:c,scrollToTime:h,enableAutoScroll:d}))}}])}(D.Component);Ii.range=function(n,t){var e=t.localizer;return[e.startOf(n,"day")]};Ii.navigate=function(n,t,e){var r=e.localizer;switch(t){case Rt.PREVIOUS:return r.add(n,-1,"day");case Rt.NEXT:return r.add(n,1,"day");default:return n}};Ii.title=function(n,t){var e=t.localizer;return e.format(n,"dayHeaderFormat")};var $0=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Oe=function(n){function t(){return gt(this,t),Dt(this,t,arguments)}return Mt(t,n),pt(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,u=r.scrollToTime,h=u===void 0?s.startOf(new Date,"day"):u,f=r.enableAutoScroll,d=f===void 0?!0:f,g=Qt(r,$0),p=t.range(i,this.props);return D.createElement(En,Object.assign({},g,{range:p,eventOffset:15,localizer:s,min:a,max:c,scrollToTime:h,enableAutoScroll:d}))}}])}(D.Component);Oe.defaultProps=En.defaultProps;Oe.navigate=function(n,t,e){var r=e.localizer;switch(t){case Rt.PREVIOUS:return r.add(n,-1,"week");case Rt.NEXT:return r.add(n,1,"week");default:return n}};Oe.range=function(n,t){var e=t.localizer,r=e.startOfWeek(),i=e.startOf(n,"week",r),s=e.endOf(n,"week",r);return e.range(i,s)};Oe.title=function(n,t){var e=t.localizer,r=Oe.range(n,{localizer:e}),i=jf(r),s=i[0],o=i.slice(1);return e.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var H0=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function rl(n,t){return Oe.range(n,t).filter(function(e){return[6,0].indexOf(e.getDay())===-1})}var Er=function(n){function t(){return gt(this,t),Dt(this,t,arguments)}return Mt(t,n),pt(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,u=r.scrollToTime,h=u===void 0?s.startOf(new Date,"day"):u,f=r.enableAutoScroll,d=f===void 0?!0:f,g=Qt(r,H0),p=rl(i,this.props);return D.createElement(En,Object.assign({},g,{range:p,eventOffset:15,localizer:s,min:a,max:c,scrollToTime:h,enableAutoScroll:d}))}}])}(D.Component);Er.defaultProps=En.defaultProps;Er.range=rl;Er.navigate=Oe.navigate;Er.title=function(n,t){var e=t.localizer,r=rl(n,{localizer:e}),i=jf(r),s=i[0],o=i.slice(1);return e.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var Fi=30;function Ni(n){var t=n.accessors,e=n.components,r=n.date,i=n.events,s=n.getters,o=n.length,a=o===void 0?Fi:o,l=n.localizer,c=n.onDoubleClickEvent,u=n.onSelectEvent,h=n.selected,f=q.useRef(null),d=q.useRef(null),g=q.useRef(null),p=q.useRef(null),m=q.useRef(null);q.useEffect(function(){w()});var v=function(M,E,O){var k=e.event,C=e.date;return E=E.filter(function(T){return lr(T,l.startOf(M,"day"),l.endOf(M,"day"),t,l)}),E.map(function(T,B){var W=t.title(T),F=t.end(T),$=t.start(T),Y=s.eventProp(T,$,F,Ai(T,h)),V=B===0&&l.format(M,"agendaDateFormat"),rt=B===0?D.createElement("td",{rowSpan:E.length,className:"rbc-agenda-date-cell"},C?D.createElement(C,{day:M,label:V}):V):!1;return D.createElement("tr",{key:O+"_"+B,className:Y.className,style:Y.style},rt,D.createElement("td",{className:"rbc-agenda-time-cell"},b(M,T)),D.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(R){return u&&u(T,R)},onDoubleClick:function(R){return c&&c(T,R)}},k?D.createElement(k,{event:T,title:W}):W))},[])},b=function(M,E){var O="",k=e.time,C=l.messages.allDay,T=t.end(E),B=t.start(E);return t.allDay(E)||(l.eq(B,T)?C=l.format(B,"agendaTimeFormat"):l.isSameDate(B,T)?C=l.format({start:B,end:T},"agendaTimeRangeFormat"):l.isSameDate(M,B)?C=l.format(B,"agendaTimeFormat"):l.isSameDate(M,T)&&(C=l.format(T,"agendaTimeFormat"))),l.gt(M,B,"day")&&(O="rbc-continues-prior"),l.lt(M,T,"day")&&(O+=" rbc-continues-after"),D.createElement("span",{className:O.trim()},k?D.createElement(k,{event:E,day:M,label:C}):C)},w=function(){if(m.current){var M=f.current,E=m.current.firstChild;if(E){var O=p.current.scrollHeight>p.current.clientHeight,k=[],C=k;k=[da(E.children[0]),da(E.children[1])],(C[0]!==k[0]||C[1]!==k[1])&&(d.current.style.width=k[0]+"px",g.current.style.width=k[1]+"px"),O?(Bv(M,"rbc-header-overflowing"),M.style.marginRight=Va()+"px"):Wv(M,"rbc-header-overflowing")}}},y=l.messages,x=l.add(r,a,"day"),_=l.range(r,x,"day");return i=i.filter(function(S){return lr(S,l.startOf(r,"day"),l.endOf(x,"day"),t,l)}),i.sort(function(S,M){return+t.start(S)-+t.start(M)}),D.createElement("div",{className:"rbc-agenda-view"},i.length!==0?D.createElement(D.Fragment,null,D.createElement("table",{ref:f,className:"rbc-agenda-table"},D.createElement("thead",null,D.createElement("tr",null,D.createElement("th",{className:"rbc-header",ref:d},y.date),D.createElement("th",{className:"rbc-header",ref:g},y.time),D.createElement("th",{className:"rbc-header"},y.event)))),D.createElement("div",{className:"rbc-agenda-content",ref:p},D.createElement("table",{className:"rbc-agenda-table"},D.createElement("tbody",{ref:m},_.map(function(S,M){return v(S,i,M)}))))):D.createElement("span",{className:"rbc-agenda-empty"},y.noEventsInRange))}Ni.range=function(n,t){var e=t.length,r=e===void 0?Fi:e,i=t.localizer,s=i.add(n,r,"day");return{start:n,end:s}};Ni.navigate=function(n,t,e){var r=e.length,i=r===void 0?Fi:r,s=e.localizer;switch(t){case Rt.PREVIOUS:return s.add(n,-i,"day");case Rt.NEXT:return s.add(n,i,"day");default:return n}};Ni.title=function(n,t){var e=t.length,r=e===void 0?Fi:e,i=t.localizer,s=i.add(n,r,"day");return i.format({start:n,end:s},"agendaHeaderFormat")};var ii=fn(fn(fn(fn(fn({},Et.MONTH,Li),Et.WEEK,Oe),Et.WORK_WEEK,Er),Et.DAY,Ii),Et.AGENDA,Ni),j0=["action","date","today"];function V0(n,t){var e=t.action,r=t.date,i=t.today,s=Qt(t,j0);switch(n=typeof n=="string"?ii[n]:n,e){case Rt.TODAY:r=i||new Date;break;case Rt.DATE:break;default:Gn(n&&typeof n.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=n.navigate(r,e,s)}return r}function Y0(n,t){var e=null;return typeof t=="function"?e=t(n):typeof t=="string"&&ka(n)==="object"&&n!=null&&t in n&&(e=n[t]),e}var ne=function(t){return function(e){return Y0(e,t)}},U0=["view","date","getNow","onNavigate"],K0=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function ip(n){if(Array.isArray(n))return n;for(var t=[],e=0,r=Object.entries(n);e<r.length;e++){var i=Nt(r[e],2),s=i[0],o=i[1];o&&t.push(s)}return t}function X0(n,t){var e=t.views,r=ip(e);return r.indexOf(n)!==-1}var sp=function(n){function t(){var e;gt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=Dt(this,t,[].concat(i)),e.getViews=function(){var o=e.props.views;return Array.isArray(o)?yy(o,function(a,l){return a[l]=ii[l]},{}):ka(o)==="object"?$b(o,function(a,l){return a===!0?ii[l]:a}):ii},e.getView=function(){var o=e.getViews();return o[e.props.view]},e.getDrilldownView=function(o){var a=e.props,l=a.view,c=a.drilldownView,u=a.getDrilldownView;return u?u(o,l,Object.keys(e.getViews())):c},e.handleRangeChange=function(o,a,l){var c=e.props,u=c.onRangeChange,h=c.localizer;u&&a.range&&u(a.range(o,{localizer:h}),l)},e.handleNavigate=function(o,a){var l=e.props,c=l.view,u=l.date,h=l.getNow,f=l.onNavigate,d=Qt(l,U0),g=e.getView(),p=h();u=V0(g,et(et({},d),{},{action:o,date:a||u||p,today:p})),f(u,c,o),e.handleRangeChange(u,g)},e.handleViewChange=function(o){o!==e.props.view&&X0(o,e.props)&&e.props.onView(o);var a=e.getViews();e.handleRangeChange(e.props.date||e.props.getNow(),a[o],o)},e.handleSelectEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];it(e.props.onSelectEvent,a)},e.handleDoubleClickEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];it(e.props.onDoubleClickEvent,a)},e.handleKeyPressEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];it(e.props.onKeyPressEvent,a)},e.handleSelectSlot=function(o){it(e.props.onSelectSlot,o)},e.handleDrillDown=function(o,a){var l=e.props.onDrillDown;if(l){l(o,a,e.drilldownView);return}a&&e.handleViewChange(a),e.handleNavigate(Rt.DATE,o)},e.state={context:t.getContext(e.props)},e}return Mt(t,n),pt(t,[{key:"render",value:function(){var r=this.props,i=r.view,s=r.toolbar,o=r.events,a=r.backgroundEvents,l=r.resourceGroupingLayout,c=r.style,u=r.className,h=r.elementProps,f=r.date,d=r.getNow,g=r.length,p=r.showMultiDayTimes,m=r.onShowMore,v=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var b=Qt(r,K0);f=f||d();var w=this.getView(),y=this.state.context,x=y.accessors,_=y.components,S=y.getters,M=y.localizer,E=y.viewNames,O=_.toolbar||Zy,k=w.title(f,{localizer:M,length:g});return D.createElement("div",Object.assign({},h,{className:ut(u,"rbc-calendar",b.rtl&&"rbc-rtl"),style:c}),s&&D.createElement(O,{date:f,view:i,views:E,label:k,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:M}),D.createElement(w,Object.assign({},b,{events:o,backgroundEvents:a,date:f,getNow:d,length:g,localizer:M,getters:S,components:_,accessors:x,showMultiDayTimes:p,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:m,doShowMoreDrillDown:v,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,s=r.endAccessor,o=r.allDayAccessor,a=r.tooltipAccessor,l=r.titleAccessor,c=r.resourceAccessor,u=r.resourceIdAccessor,h=r.resourceTitleAccessor,f=r.eventIdAccessor,d=r.eventPropGetter,g=r.backgroundEventPropGetter,p=r.slotPropGetter,m=r.slotGroupPropGetter,v=r.dayPropGetter,b=r.view,w=r.views,y=r.localizer,x=r.culture,_=r.messages,S=_===void 0?{}:_,M=r.components,E=M===void 0?{}:M,O=r.formats,k=O===void 0?{}:O,C=ip(w),T=t0(S);return{viewNames:C,localizer:Qy(y,x,k,T),getters:{eventProp:function(){return d&&d.apply(void 0,arguments)||{}},backgroundEventProp:function(){return g&&g.apply(void 0,arguments)||{}},slotProp:function(){return p&&p.apply(void 0,arguments)||{}},slotGroupProp:function(){return m&&m.apply(void 0,arguments)||{}},dayProp:function(){return v&&v.apply(void 0,arguments)||{}}},components:Bb(E[b]||{},my(E,C),{eventWrapper:oe,backgroundEventWrapper:oe,eventContainerWrapper:oe,dateCellWrapper:oe,weekWrapper:oe,timeSlotWrapper:oe,timeGutterWrapper:oe}),accessors:{start:ne(i),end:ne(s),allDay:ne(o),tooltip:ne(a),title:ne(l),resource:ne(c),resourceId:ne(u),resourceTitle:ne(h),eventId:ne(f)}}}}])}(D.Component);sp.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Et.MONTH,views:[Et.MONTH,Et.WEEK,Et.DAY,Et.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Et.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var G0=nd(sp,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Q0=function(t,e,r){var i=t.start,s=t.end;return r.format(i,"MMMM DD",e)+"  "+r.format(s,r.eq(i,s,"month")?"DD":"MMMM DD",e)},Z0=function(t,e,r){var i=t.start,s=t.end;return r.format(i,"L",e)+"  "+r.format(s,"L",e)},Vo=function(t,e,r){var i=t.start,s=t.end;return r.format(i,"LT",e)+"  "+r.format(s,"LT",e)},J0=function(t,e,r){var i=t.start;return r.format(i,"LT",e)+"  "},tx=function(t,e,r){var i=t.end;return"  "+r.format(i,"LT",e)},ex={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:Vo,eventTimeRangeFormat:Vo,eventTimeRangeStartFormat:J0,eventTimeRangeEndFormat:tx,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:Q0,agendaHeaderFormat:Z0,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:Vo};function xe(n){var t=n&&n.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function nx(n){var t=function(R,A){return A?R.locale(A):R};function e(P){return n(P).toDate().getTimezoneOffset()}function r(P,R){var A,I,N=n(P).local(),H=n(R).local();if(!n.tz)return N.toDate().getTimezoneOffset()-H.toDate().getTimezoneOffset();var tt=(A=N==null||(I=N._z)===null||I===void 0?void 0:I.name)!==null&&A!==void 0?A:n.tz.guess(),G=n.tz.zone(tt).utcOffset(+N),Tt=n.tz.zone(tt).utcOffset(+H);return G-Tt}function i(P){var R=n(P).startOf("day");return r(R,P)}function s(P,R,A){var I=xe(A),N=I?n(P).startOf(I):n(P),H=I?n(R).startOf(I):n(R);return[N,H,I]}function o(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,R=arguments.length>1?arguments[1]:void 0,A=xe(R);return A?n(P).startOf(A).toDate():n(P).toDate()}function a(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,R=arguments.length>1?arguments[1]:void 0,A=xe(R);return A?n(P).endOf(A).toDate():n(P).toDate()}function l(P,R,A){var I=s(P,R,A),N=Nt(I,3),H=N[0],tt=N[1],G=N[2];return H.isSame(tt,G)}function c(P,R,A){return!l(P,R,A)}function u(P,R,A){var I=s(P,R,A),N=Nt(I,3),H=N[0],tt=N[1],G=N[2];return H.isAfter(tt,G)}function h(P,R,A){var I=s(P,R,A),N=Nt(I,3),H=N[0],tt=N[1],G=N[2];return H.isBefore(tt,G)}function f(P,R,A){var I=s(P,R,A),N=Nt(I,3),H=N[0],tt=N[1],G=N[2];return H.isSameOrBefore(tt,G)}function d(P,R,A){var I=s(P,R,A),N=Nt(I,3),H=N[0],tt=N[1],G=N[2];return H.isSameOrBefore(tt,G)}function g(P,R,A){var I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",N=xe(I),H=n(P),tt=n(R),G=n(A);return H.isBetween(tt,G,N,"[]")}function p(P,R){var A=n(P),I=n(R),N=n.min(A,I);return N.toDate()}function m(P,R){var A=n(P),I=n(R),N=n.max(A,I);return N.toDate()}function v(P,R){if(!P&&!R)return null;var A=n(R).format("HH:mm:ss"),I=n(P).startOf("day").format("MM/DD/YYYY");return n("".concat(I," ").concat(A),"MM/DD/YYYY HH:mm:ss").toDate()}function b(P,R,A){var I=xe(A);return n(P).add(R,I).toDate()}function w(P,R){for(var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",I=xe(A),N=n(P).toDate(),H=[];d(N,R);)H.push(N),N=b(N,1,I);return H}function y(P,R){var A=xe(R),I=o(P,A);return l(I,P)?I:b(I,1,A)}function x(P,R){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",I=xe(A),N=n(P),H=n(R);return H.diff(N,I)}function _(P){var R=n(P);return R.minutes()}function S(P){var R=P?n.localeData(P):n.localeData();return R?R.firstDayOfWeek():0}function M(P){return n(P).startOf("month").startOf("week").toDate()}function E(P){return n(P).endOf("month").endOf("week").toDate()}function O(P){for(var R=M(P),A=E(P),I=[];d(R,A);)I.push(R),R=b(R,1,"d");return I}function k(P,R,A){return n(P).startOf("day").minute(R+A).toDate()}function C(P,R){return x(P,R,"minutes")}function T(P){var R=n(P).startOf("day"),A=n(P);return A.diff(R,"minutes")+i(P)}function B(P,R){var A=n(P),I=n(R);return A.isBefore(I,"day")}function W(P,R,A){var I=n(R),N=n(A);return I.isSameOrAfter(N,"minutes")}function F(P,R){var A=n(P),I=n(R),N=n.duration(I.diff(A));return N.days()}function $(P){var R=P.evtA,A=R.start,I=R.end,N=R.allDay,H=P.evtB,tt=H.start,G=H.end,Tt=H.allDay,ge=+o(A,"day")-+o(tt,"day"),Zt=F(A,I),Le=F(tt,G);return ge||Le-Zt||!!Tt-!!N||+A-+tt||+I-+G}function Y(P){var R=P.event,A=R.start,I=R.end,N=P.range,H=N.start,tt=N.end,G=n(A).startOf("day"),Tt=n(I),ge=n(H),Zt=n(tt),Le=G.isSameOrBefore(Zt,"day"),ln=!G.isSame(Tt,"minutes"),On=ln?Tt.isAfter(ge,"minutes"):Tt.isSameOrAfter(ge,"minutes");return Le&&On}function V(P,R){var A=n(P),I=n(R);return A.isSame(I,"day")}function rt(){var P=new Date,R=/-/.test(P.toString())?"-":"",A=P.getTimezoneOffset(),I=Number("".concat(R).concat(Math.abs(A))),N=n().utcOffset();return N>I?1:0}return new Gy({formats:ex,firstOfWeek:S,firstVisibleDay:M,lastVisibleDay:E,visibleDays:O,format:function(R,A,I){return t(n(R),I).format(A)},lt:h,lte:d,gt:u,gte:f,eq:l,neq:c,merge:v,inRange:g,startOf:o,endOf:a,range:w,add:b,diff:x,ceil:y,min:p,max:m,minutes:_,getSlotDate:k,getTimezoneOffset:e,getDstOffset:r,getTotalMin:C,getMinutesFromMidnight:T,continuesPrior:B,continuesAfter:W,sortEvents:$,inEventRange:Y,isSameDate:V,daySpan:F,browserTZOffset:rt})}const bt=[];for(let n=0;n<256;++n)bt.push((n+256).toString(16).slice(1));function rx(n,t=0){return(bt[n[t+0]]+bt[n[t+1]]+bt[n[t+2]]+bt[n[t+3]]+"-"+bt[n[t+4]]+bt[n[t+5]]+"-"+bt[n[t+6]]+bt[n[t+7]]+"-"+bt[n[t+8]]+bt[n[t+9]]+"-"+bt[n[t+10]]+bt[n[t+11]]+bt[n[t+12]]+bt[n[t+13]]+bt[n[t+14]]+bt[n[t+15]]).toLowerCase()}let Yo;const ix=new Uint8Array(16);function sx(){if(!Yo){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Yo=crypto.getRandomValues.bind(crypto)}return Yo(ix)}const ox=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),uh={randomUUID:ox};function ax(n,t,e){if(uh.randomUUID&&!n)return uh.randomUUID();n=n||{};const r=n.random||(n.rng||sx)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,rx(r)}const lx=({onToday:n,filter:t,onFilterChange:e,view:r,onViewChange:i})=>z.jsxs(z.Fragment,{children:[z.jsx("div",{children:z.jsx("h2",{className:"text-lg text-purple-800 mb-5 pb-1 font-semibold border-b border-purple-800",children:"Reminders"})}),z.jsx("div",{className:"mb-4 flex justify-between items-center",children:z.jsxs("div",{className:"flex gap-2",children:[z.jsxs(Ol,{value:t,onValueChange:e,children:[z.jsx(kl,{className:"w-[180px]",children:z.jsx(Pl,{placeholder:"Filter events"})}),z.jsxs(Cl,{children:[z.jsx(ze,{value:"all",children:"All Events"}),z.jsx(ze,{value:"past",children:"Past Events"}),z.jsx(ze,{value:"upcoming",children:"Upcoming Events"})]})]}),z.jsxs(Ol,{value:r,onValueChange:i,children:[z.jsx(kl,{className:"w-[180px]",children:z.jsx(Pl,{placeholder:"Select view"})}),z.jsxs(Cl,{children:[z.jsx(ze,{value:"month",children:"Month"}),z.jsx(ze,{value:"week",children:"Week"}),z.jsx(ze,{value:"day",children:"Day"}),z.jsx(ze,{value:"agenda",children:"Agenda"})]})]})]})})]}),cx=nx(Cg),ux=()=>{const[n,t]=q.useState("month"),[e,r]=q.useState(new Date),[i,s]=q.useState("all"),[o,a]=q.useState([]),[l,c]=q.useState(!1),[u,h]=q.useState(null),[f,d]=q.useState("add"),{data:g,isLoading:p}=cg();q.useEffect(()=>{if(g){const S=g.data.map(M=>({id:M._id,title:`${M.message} ${M.inquiryId?.name?`- ${M.inquiryId.name}`:""}`,start:new Date(M.date),end:new Date(M.date),inquiryDetails:M.inquiryId||{}}));a(S)}},[g]);const m=q.useMemo(()=>{const S=new Date;switch(i){case"past":return o.filter(M=>M.end<S);case"upcoming":return o.filter(M=>M.start>=S);default:return o}},[i,o]),v=S=>r(S),b=S=>{h(null),d("add"),c(!0)},w=S=>{h(S),d("edit"),c(!0)},y=S=>{a(f==="add"?[...o,S]:o.map(M=>M.id===S.id?S:M))},x=S=>{a(o.filter(M=>M.id!==S)),c(!1)},_=()=>{h({id:ax(),title:"",start:new Date,end:new Date}),d("add")};return z.jsxs("div",{className:"h-screen p-4",children:[z.jsx(lx,{onToday:()=>v(new Date),filter:i,onFilterChange:s,view:n,onViewChange:t}),p?z.jsx("div",{children:"Loading follow-ups..."}):z.jsx(G0,{localizer:cx,events:m,startAccessor:"start",endAccessor:"end",style:{height:"calc(100vh - 100px)"},view:n,onView:t,date:e,onNavigate:v,onSelectSlot:b,onSelectEvent:w,selectable:!0,eventPropGetter:S=>({className:"custom-event",style:{backgroundColor:S.inquiryDetails?.status==="completed"?"#4CAF50":"#2196F3"}})}),z.jsx(Pg,{isOpen:l,onClose:()=>{c(!1),h(null)},event:u||{},onSave:y,onDelete:x,onAddNew:_,mode:f})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Or(n){return n+.5|0}const _e=(n,t,e)=>Math.max(Math.min(n,e),t);function Wn(n){return _e(Or(n*2.55),0,255)}function De(n){return _e(Or(n*255),0,255)}function ae(n){return _e(Or(n/2.55)/100,0,1)}function hh(n){return _e(Or(n*100),0,100)}const Ft={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ma=[..."0123456789ABCDEF"],hx=n=>ma[n&15],fx=n=>ma[(n&240)>>4]+ma[n&15],Lr=n=>(n&240)>>4===(n&15),dx=n=>Lr(n.r)&&Lr(n.g)&&Lr(n.b)&&Lr(n.a);function px(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Ft[n[1]]*17,g:255&Ft[n[2]]*17,b:255&Ft[n[3]]*17,a:t===5?Ft[n[4]]*17:255}:(t===7||t===9)&&(e={r:Ft[n[1]]<<4|Ft[n[2]],g:Ft[n[3]]<<4|Ft[n[4]],b:Ft[n[5]]<<4|Ft[n[6]],a:t===9?Ft[n[7]]<<4|Ft[n[8]]:255})),e}const gx=(n,t)=>n<255?t(n):"";function mx(n){var t=dx(n)?hx:fx;return n?"#"+t(n.r)+t(n.g)+t(n.b)+gx(n.a,t):void 0}const vx=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function op(n,t,e){const r=t*Math.min(e,1-e),i=(s,o=(s+n/30)%12)=>e-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function bx(n,t,e){const r=(i,s=(i+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function yx(n,t,e){const r=op(n,1,.5);let i;for(t+e>1&&(i=1/(t+e),t*=i,e*=i),i=0;i<3;i++)r[i]*=1-t-e,r[i]+=t;return r}function xx(n,t,e,r,i){return n===i?(t-e)/r+(t<e?6:0):t===i?(e-n)/r+2:(n-t)/r+4}function il(n){const e=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(e,r,i),o=Math.min(e,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=xx(e,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function sl(n,t,e,r){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,r)).map(De)}function ol(n,t,e){return sl(op,n,t,e)}function wx(n,t,e){return sl(yx,n,t,e)}function _x(n,t,e){return sl(bx,n,t,e)}function ap(n){return(n%360+360)%360}function Sx(n){const t=vx.exec(n);let e=255,r;if(!t)return;t[5]!==r&&(e=t[6]?Wn(+t[5]):De(+t[5]));const i=ap(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=wx(i,s,o):t[1]==="hsv"?r=_x(i,s,o):r=ol(i,s,o),{r:r[0],g:r[1],b:r[2],a:e}}function Mx(n,t){var e=il(n);e[0]=ap(e[0]+t),e=ol(e),n.r=e[0],n.g=e[1],n.b=e[2]}function Dx(n){if(!n)return;const t=il(n),e=t[0],r=hh(t[1]),i=hh(t[2]);return n.a<255?`hsla(${e}, ${r}%, ${i}%, ${ae(n.a)})`:`hsl(${e}, ${r}%, ${i}%)`}const fh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},dh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ex(){const n={},t=Object.keys(dh),e=Object.keys(fh);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<e.length;i++)s=e[i],a=a.replace(s,fh[s]);s=parseInt(dh[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}let Ir;function Ox(n){Ir||(Ir=Ex(),Ir.transparent=[0,0,0,0]);const t=Ir[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const kx=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Px(n){const t=kx.exec(n);let e=255,r,i,s;if(t){if(t[7]!==r){const o=+t[7];e=t[8]?Wn(o):_e(o*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?Wn(r):_e(r,0,255)),i=255&(t[4]?Wn(i):_e(i,0,255)),s=255&(t[6]?Wn(s):_e(s,0,255)),{r,g:i,b:s,a:e}}}function Cx(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ae(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Uo=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,cn=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Rx(n,t,e){const r=cn(ae(n.r)),i=cn(ae(n.g)),s=cn(ae(n.b));return{r:De(Uo(r+e*(cn(ae(t.r))-r))),g:De(Uo(i+e*(cn(ae(t.g))-i))),b:De(Uo(s+e*(cn(ae(t.b))-s))),a:n.a+e*(t.a-n.a)}}function Fr(n,t,e){if(n){let r=il(n);r[t]=Math.max(0,Math.min(r[t]+r[t]*e,t===0?360:1)),r=ol(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function lp(n,t){return n&&Object.assign(t||{},n)}function ph(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=De(n[3]))):(t=lp(n,{r:0,g:0,b:0,a:1}),t.a=De(t.a)),t}function Tx(n){return n.charAt(0)==="r"?Px(n):Sx(n)}class ur{constructor(t){if(t instanceof ur)return t;const e=typeof t;let r;e==="object"?r=ph(t):e==="string"&&(r=px(t)||Ox(t)||Tx(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=lp(this._rgb);return t&&(t.a=ae(t.a)),t}set rgb(t){this._rgb=ph(t)}rgbString(){return this._valid?Cx(this._rgb):void 0}hexString(){return this._valid?mx(this._rgb):void 0}hslString(){return this._valid?Dx(this._rgb):void 0}mix(t,e){if(t){const r=this.rgb,i=t.rgb;let s;const o=e===s?.5:e,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(t,e){return t&&(this._rgb=Rx(this._rgb,t._rgb,e)),this}clone(){return new ur(this.rgb)}alpha(t){return this._rgb.a=De(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Or(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Fr(this._rgb,2,t),this}darken(t){return Fr(this._rgb,2,-t),this}saturate(t){return Fr(this._rgb,1,t),this}desaturate(t){return Fr(this._rgb,1,-t),this}rotate(t){return Mx(this._rgb,t),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function re(){}const Ax=(()=>{let n=0;return()=>n++})();function K(n){return n==null}function at(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function U(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ct(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function At(n,t){return ct(n)?n:t}function j(n,t){return typeof n>"u"?t:n}const Lx=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,cp=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function nt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Z(n,t,e,r){let i,s,o;if(at(n))for(s=n.length,i=0;i<s;i++)t.call(e,n[i],i);else if(U(n))for(o=Object.keys(n),s=o.length,i=0;i<s;i++)t.call(e,n[o[i]],o[i])}function fi(n,t){let e,r,i,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,r=n.length;e<r;++e)if(i=n[e],s=t[e],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function di(n){if(at(n))return n.map(di);if(U(n)){const t=Object.create(null),e=Object.keys(n),r=e.length;let i=0;for(;i<r;++i)t[e[i]]=di(n[e[i]]);return t}return n}function up(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Ix(n,t,e,r){if(!up(n))return;const i=t[n],s=e[n];U(i)&&U(s)?hr(i,s,r):t[n]=di(s)}function hr(n,t,e){const r=at(t)?t:[t],i=r.length;if(!U(n))return n;e=e||{};const s=e.merger||Ix;let o;for(let a=0;a<i;++a){if(o=r[a],!U(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],n,o,e)}return n}function Yn(n,t){return hr(n,t,{merger:Fx})}function Fx(n,t,e){if(!up(n))return;const r=t[n],i=e[n];U(r)&&U(i)?Yn(r,i):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=di(i))}const gh={"":n=>n,x:n=>n.x,y:n=>n.y};function Nx(n){const t=n.split("."),e=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(e.push(r),r="");return e}function zx(n){const t=Nx(n);return e=>{for(const r of t){if(r==="")break;e=e&&e[r]}return e}}function ke(n,t){return(gh[t]||(gh[t]=zx(t)))(n)}function al(n){return n.charAt(0).toUpperCase()+n.slice(1)}const fr=n=>typeof n<"u",Pe=n=>typeof n=="function",mh=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function Bx(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ot=Math.PI,st=2*ot,Wx=st+ot,pi=Number.POSITIVE_INFINITY,qx=ot/180,ht=ot/2,Be=ot/4,vh=ot*2/3,Se=Math.log10,Gt=Math.sign;function Un(n,t,e){return Math.abs(n-t)<e}function bh(n){const t=Math.round(n);n=Un(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Se(n))),r=n/e;return(r<=1?1:r<=2?2:r<=5?5:10)*e}function $x(n){const t=[],e=Math.sqrt(n);let r;for(r=1;r<e;r++)n%r===0&&(t.push(r),t.push(n/r));return e===(e|0)&&t.push(e),t.sort((i,s)=>i-s).pop(),t}function wn(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Hx(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function hp(n,t,e){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function $t(n){return n*(ot/180)}function ll(n){return n*(180/ot)}function yh(n){if(!ct(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function fp(n,t){const e=t.x-n.x,r=t.y-n.y,i=Math.sqrt(e*e+r*r);let s=Math.atan2(r,e);return s<-.5*ot&&(s+=st),{angle:s,distance:i}}function va(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function jx(n,t){return(n-t+Wx)%st-ot}function Lt(n){return(n%st+st)%st}function dr(n,t,e,r){const i=Lt(n),s=Lt(t),o=Lt(e),a=Lt(s-i),l=Lt(o-i),c=Lt(i-s),u=Lt(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function mt(n,t,e){return Math.max(t,Math.min(e,n))}function Vx(n){return mt(n,-32768,32767)}function le(n,t,e,r=1e-6){return n>=Math.min(t,e)-r&&n<=Math.max(t,e)+r}function cl(n,t,e){e=e||(o=>n[o]<t);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,e(s)?i=s:r=s;return{lo:i,hi:r}}const ce=(n,t,e,r)=>cl(n,e,r?i=>{const s=n[i][t];return s<e||s===e&&n[i+1][t]===e}:i=>n[i][t]<e),Yx=(n,t,e)=>cl(n,e,r=>n[r][t]>=e);function Ux(n,t,e){let r=0,i=n.length;for(;r<i&&n[r]<t;)r++;for(;i>r&&n[i-1]>e;)i--;return r>0||i<n.length?n.slice(r,i):n}const dp=["push","pop","shift","splice","unshift"];function Kx(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),dp.forEach(e=>{const r="_onData"+al(e),i=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function xh(n,t){const e=n._chartjs;if(!e)return;const r=e.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(dp.forEach(s=>{delete n[s]}),delete n._chartjs)}function pp(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const gp=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function mp(n,t){let e=[],r=!1;return function(...i){e=i,r||(r=!0,gp.call(window,()=>{r=!1,n.apply(t,e)}))}}function Xx(n,t){let e;return function(...r){return t?(clearTimeout(e),e=setTimeout(n,t,r)):n.apply(this,r),t}}const ul=n=>n==="start"?"left":n==="end"?"right":"center",wt=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Gx=(n,t,e,r)=>n===(r?"left":"right")?e:n==="center"?(t+e)/2:t;function vp(n,t,e){const r=t.length;let i=0,s=r;if(n._sorted){const{iScale:o,_parsed:a}=n,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(i=mt(Math.min(ce(a,l,c).lo,e?r:ce(t,l,o.getPixelForValue(c)).lo),0,r-1)),f?s=mt(Math.max(ce(a,o.axis,u,!0).hi+1,e?0:ce(t,l,o.getPixelForValue(u),!0).hi+1),i,r)-i:s=r-i}return{start:i,count:s}}function bp(n){const{xScale:t,yScale:e,_scaleRanges:r}=n,i={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!r)return n._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==e.min||r.ymax!==e.max;return Object.assign(r,i),s}const Nr=n=>n===0||n===1,wh=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*st/e)),_h=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*st/e)+1,Kn={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ht)+1,easeOutSine:n=>Math.sin(n*ht),easeInOutSine:n=>-.5*(Math.cos(ot*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Nr(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Nr(n)?n:wh(n,.075,.3),easeOutElastic:n=>Nr(n)?n:_h(n,.075,.3),easeInOutElastic(n){return Nr(n)?n:n<.5?.5*wh(n*2,.1125,.45):.5+.5*_h(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Kn.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Kn.easeInBounce(n*2)*.5:Kn.easeOutBounce(n*2-1)*.5+.5};function hl(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Sh(n){return hl(n)?n:new ur(n)}function Ko(n){return hl(n)?n:new ur(n).saturate(.5).darken(.1).hexString()}const Qx=["x","y","borderWidth","radius","tension"],Zx=["color","borderColor","backgroundColor"];function Jx(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Zx},numbers:{type:"number",properties:Qx}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function tw(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Mh=new Map;function ew(n,t){t=t||{};const e=n+JSON.stringify(t);let r=Mh.get(e);return r||(r=new Intl.NumberFormat(n,t),Mh.set(e,r)),r}function kr(n,t,e){return ew(t,e).format(n)}const yp={values(n){return at(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=nw(n,e)}const o=Se(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),kr(n,r,l)},logarithmic(n,t,e){if(n===0)return"0";const r=e[t].significand||n/Math.pow(10,Math.floor(Se(n)));return[1,2,3,5,10,15].includes(r)||t>.8*e.length?yp.numeric.call(this,n,t,e):""}};function nw(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var zi={formatters:yp};function rw(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:zi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const rn=Object.create(null),ba=Object.create(null);function Xn(n,t){if(!t)return n;const e=t.split(".");for(let r=0,i=e.length;r<i;++r){const s=e[r];n=n[s]||(n[s]=Object.create(null))}return n}function Xo(n,t,e){return typeof t=="string"?hr(Xn(n,t),e):hr(Xn(n,""),t)}class iw{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Ko(i.backgroundColor),this.hoverBorderColor=(r,i)=>Ko(i.borderColor),this.hoverColor=(r,i)=>Ko(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Xo(this,t,e)}get(t){return Xn(this,t)}describe(t,e){return Xo(ba,t,e)}override(t,e){return Xo(rn,t,e)}route(t,e,r,i){const s=Xn(this,t),o=Xn(this,r),a="_"+e;Object.defineProperties(s,{[a]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],c=o[i];return U(l)?Object.assign({},c,l):j(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}}var lt=new iw({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Jx,tw,rw]);function sw(n){return!n||K(n.size)||K(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function gi(n,t,e,r,i){let s=t[i];return s||(s=t[i]=n.measureText(i).width,e.push(i)),s>r&&(r=s),r}function ow(n,t,e,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),n.save(),n.font=t;let o=0;const a=e.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=e[l],h!=null&&!at(h))o=gi(n,i,s,o,h);else if(at(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!at(f)&&(o=gi(n,i,s,o,f));n.restore();const d=s.length/2;if(d>e.length){for(l=0;l<d;l++)delete i[s[l]];s.splice(0,d)}return o}function We(n,t,e){const r=n.currentDevicePixelRatio,i=e!==0?Math.max(e/2,.5):0;return Math.round((t-i)*r)/r+i}function Dh(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function ya(n,t,e,r){xp(n,t,e,r,null)}function xp(n,t,e,r,i){let s,o,a,l,c,u,h,f;const d=t.pointStyle,g=t.rotation,p=t.radius;let m=(g||0)*qx;if(d&&typeof d=="object"&&(s=d.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(e,r),n.rotate(m),n.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),n.restore();return}if(!(isNaN(p)||p<=0)){switch(n.beginPath(),d){default:i?n.ellipse(e,r,i/2,p,0,0,st):n.arc(e,r,p,0,st),n.closePath();break;case"triangle":u=i?i/2:p,n.moveTo(e+Math.sin(m)*u,r-Math.cos(m)*p),m+=vh,n.lineTo(e+Math.sin(m)*u,r-Math.cos(m)*p),m+=vh,n.lineTo(e+Math.sin(m)*u,r-Math.cos(m)*p),n.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(m+Be)*l,h=Math.cos(m+Be)*(i?i/2-c:l),a=Math.sin(m+Be)*l,f=Math.sin(m+Be)*(i?i/2-c:l),n.arc(e-h,r-a,c,m-ot,m-ht),n.arc(e+f,r-o,c,m-ht,m),n.arc(e+h,r+a,c,m,m+ht),n.arc(e-f,r+o,c,m+ht,m+ot),n.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,u=i?i/2:l,n.rect(e-u,r-l,2*u,2*l);break}m+=Be;case"rectRot":h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,f=Math.sin(m)*(i?i/2:p),n.moveTo(e-h,r-a),n.lineTo(e+f,r-o),n.lineTo(e+h,r+a),n.lineTo(e-f,r+o),n.closePath();break;case"crossRot":m+=Be;case"cross":h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,f=Math.sin(m)*(i?i/2:p),n.moveTo(e-h,r-a),n.lineTo(e+h,r+a),n.moveTo(e+f,r-o),n.lineTo(e-f,r+o);break;case"star":h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,f=Math.sin(m)*(i?i/2:p),n.moveTo(e-h,r-a),n.lineTo(e+h,r+a),n.moveTo(e+f,r-o),n.lineTo(e-f,r+o),m+=Be,h=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,f=Math.sin(m)*(i?i/2:p),n.moveTo(e-h,r-a),n.lineTo(e+h,r+a),n.moveTo(e+f,r-o),n.lineTo(e-f,r+o);break;case"line":o=i?i/2:Math.cos(m)*p,a=Math.sin(m)*p,n.moveTo(e-o,r-a),n.lineTo(e+o,r+a);break;case"dash":n.moveTo(e,r),n.lineTo(e+Math.cos(m)*(i?i/2:p),r+Math.sin(m)*p);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function ue(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Bi(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Wi(n){n.restore()}function aw(n,t,e,r,i){if(!t)return n.lineTo(e.x,e.y);if(i==="middle"){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else i==="after"!=!!r?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function lw(n,t,e,r){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?e.cp2x:e.cp1x,r?e.cp2y:e.cp1y,e.x,e.y)}function cw(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),K(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function uw(n,t,e,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=e-s.actualBoundingBoxAscent,c=e+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function hw(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function sn(n,t,e,r,i,s={}){const o=at(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(n.save(),n.font=i.string,cw(n,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&hw(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),K(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,e,r,s.maxWidth)),n.fillText(c,e,r,s.maxWidth),uw(n,e,r,c,s),r+=Number(i.lineHeight);n.restore()}function pr(n,t){const{x:e,y:r,w:i,h:s,radius:o}=t;n.arc(e+o.topLeft,r+o.topLeft,o.topLeft,1.5*ot,ot,!0),n.lineTo(e,r+s-o.bottomLeft),n.arc(e+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,ot,ht,!0),n.lineTo(e+i-o.bottomRight,r+s),n.arc(e+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,ht,0,!0),n.lineTo(e+i,r+o.topRight),n.arc(e+i-o.topRight,r+o.topRight,o.topRight,0,-ht,!0),n.lineTo(e+o.topLeft,r)}const fw=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,dw=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pw(n,t){const e=(""+n).match(fw);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const gw=n=>+n||0;function fl(n,t){const e={},r=U(t),i=r?Object.keys(t):t,s=U(n)?r?o=>j(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of i)e[o]=gw(s(o));return e}function wp(n){return fl(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ke(n){return fl(n,["topLeft","topRight","bottomLeft","bottomRight"])}function St(n){const t=wp(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function dt(n,t){n=n||{},t=t||lt.font;let e=j(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let r=j(n.style,t.style);r&&!(""+r).match(dw)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:j(n.family,t.family),lineHeight:pw(j(n.lineHeight,t.lineHeight),e),size:e,style:r,weight:j(n.weight,t.weight),string:""};return i.string=sw(i),i}function qn(n,t,e,r){let i,s,o;for(i=0,s=n.length;i<s;++i)if(o=n[i],o!==void 0&&o!==void 0)return o}function mw(n,t,e){const{min:r,max:i}=n,s=cp(t,(i-r)/2),o=(a,l)=>e&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Te(n,t){return Object.assign(Object.create(n),t)}function dl(n,t=[""],e,r,i=()=>n[0]){const s=e||n;typeof r>"u"&&(r=Dp("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>dl([a,...n],t,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return Sp(a,l,()=>Mw(l,t,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return Oh(a).includes(l)},ownKeys(a){return Oh(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function _n(n,t,e,r){const i={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:_p(n,r),setContext:s=>_n(n,s,e,r),override:s=>_n(n.override(s),t,e,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return Sp(s,o,()=>bw(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function _p(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=n;return{allKeys:i,scriptable:e,indexable:r,isScriptable:Pe(e)?e:()=>e,isIndexable:Pe(r)?r:()=>r}}const vw=(n,t)=>n?n+al(t):t,pl=(n,t)=>U(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Sp(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const r=e();return n[t]=r,r}function bw(n,t,e){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=n;let a=r[t];return Pe(a)&&o.isScriptable(t)&&(a=yw(t,a,n,e)),at(a)&&a.length&&(a=xw(t,a,n,o.isIndexable)),pl(t,a)&&(a=_n(a,i,s&&s[t],o)),a}function yw(n,t,e,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=t(s,o||r);return a.delete(n),pl(n,l)&&(l=gl(i._scopes,i,n,l)),l}function xw(n,t,e,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=e;if(typeof s.index<"u"&&r(n))return t[s.index%t.length];if(U(t[0])){const l=t,c=i._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=gl(c,i,n,u);t.push(_n(h,s,o&&o[n],a))}}return t}function Mp(n,t,e){return Pe(n)?n(t,e):n}const ww=(n,t)=>n===!0?t:typeof n=="string"?ke(t,n):void 0;function _w(n,t,e,r,i){for(const s of t){const o=ww(e,s);if(o){n.add(o);const a=Mp(o._fallback,e,i);if(typeof a<"u"&&a!==e&&a!==r)return a}else if(o===!1&&typeof r<"u"&&e!==r)return null}return!1}function gl(n,t,e,r){const i=t._rootScopes,s=Mp(t._fallback,e,r),o=[...n,...i],a=new Set;a.add(r);let l=Eh(a,o,e,s||e,r);return l===null||typeof s<"u"&&s!==e&&(l=Eh(a,o,s,l,r),l===null)?!1:dl(Array.from(a),[""],i,s,()=>Sw(t,e,r))}function Eh(n,t,e,r,i){for(;e;)e=_w(n,t,e,r,i);return e}function Sw(n,t,e){const r=n._getTarget();t in r||(r[t]={});const i=r[t];return at(i)&&U(e)?e:i||{}}function Mw(n,t,e,r){let i;for(const s of t)if(i=Dp(vw(s,n),e),typeof i<"u")return pl(n,i)?gl(e,r,n,i):i}function Dp(n,t){for(const e of t){if(!e)continue;const r=e[n];if(typeof r<"u")return r}}function Oh(n){let t=n._keys;return t||(t=n._keys=Dw(n._scopes)),t}function Dw(n){const t=new Set;for(const e of n)for(const r of Object.keys(e).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function Ep(n,t,e,r){const{iScale:i}=n,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+e,u=t[c],o[a]={r:i.parse(ke(u,s),c)};return o}const Ew=Number.EPSILON||1e-14,Sn=(n,t)=>t<n.length&&!n[t].skip&&n[t],Op=n=>n==="x"?"y":"x";function Ow(n,t,e,r){const i=n.skip?t:n,s=t,o=e.skip?t:e,a=va(s,i),l=va(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,f=r*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function kw(n,t,e){const r=n.length;let i,s,o,a,l,c=Sn(n,0);for(let u=0;u<r-1;++u)if(l=c,c=Sn(n,u+1),!(!l||!c)){if(Un(t[u],0,Ew)){e[u]=e[u+1]=0;continue}i=e[u]/t[u],s=e[u+1]/t[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),e[u]=i*o*t[u],e[u+1]=s*o*t[u])}}function Pw(n,t,e="x"){const r=Op(e),i=n.length;let s,o,a,l=Sn(n,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Sn(n,c+1),!a)continue;const u=a[e],h=a[r];o&&(s=(u-o[e])/3,a[`cp1${e}`]=u-s,a[`cp1${r}`]=h-s*t[c]),l&&(s=(l[e]-u)/3,a[`cp2${e}`]=u+s,a[`cp2${r}`]=h+s*t[c])}}function Cw(n,t="x"){const e=Op(t),r=n.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=Sn(n,0);for(o=0;o<r;++o)if(a=l,l=c,c=Sn(n,o+1),!!l){if(c){const u=c[t]-l[t];i[o]=u!==0?(c[e]-l[e])/u:0}s[o]=a?c?Gt(i[o-1])!==Gt(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}kw(n,i,s),Pw(n,s,t)}function zr(n,t,e){return Math.max(Math.min(n,e),t)}function Rw(n,t){let e,r,i,s,o,a=ue(n[0],t);for(e=0,r=n.length;e<r;++e)o=s,s=a,a=e<r-1&&ue(n[e+1],t),s&&(i=n[e],o&&(i.cp1x=zr(i.cp1x,t.left,t.right),i.cp1y=zr(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=zr(i.cp2x,t.left,t.right),i.cp2y=zr(i.cp2y,t.top,t.bottom)))}function Tw(n,t,e,r,i){let s,o,a,l;if(t.spanGaps&&(n=n.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")Cw(n,i);else{let c=r?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],l=Ow(c,a,n[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&Rw(n,e)}function ml(){return typeof window<"u"&&typeof document<"u"}function vl(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function mi(n,t,e){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*t.parentNode[e])):r=n,r}const qi=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Aw(n,t){return qi(n).getPropertyValue(t)}const Lw=["top","right","bottom","left"];function Xe(n,t,e){const r={};e=e?"-"+e:"";for(let i=0;i<4;i++){const s=Lw[i];r[s]=parseFloat(n[t+"-"+s+e])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Iw=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function Fw(n,t){const e=n.touches,r=e&&e.length?e[0]:n,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(Iw(i,s,n.target))a=i,l=s;else{const c=t.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function He(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:r}=t,i=qi(e),s=i.boxSizing==="border-box",o=Xe(i,"padding"),a=Xe(i,"border","width"),{x:l,y:c,box:u}=Fw(n,e),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:d,height:g}=t;return s&&(d-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/d*e.width/r),y:Math.round((c-f)/g*e.height/r)}}function Nw(n,t,e){let r,i;if(t===void 0||e===void 0){const s=n&&vl(n);if(!s)t=n.clientWidth,e=n.clientHeight;else{const o=s.getBoundingClientRect(),a=qi(s),l=Xe(a,"border","width"),c=Xe(a,"padding");t=o.width-c.width-l.width,e=o.height-c.height-l.height,r=mi(a.maxWidth,s,"clientWidth"),i=mi(a.maxHeight,s,"clientHeight")}}return{width:t,height:e,maxWidth:r||pi,maxHeight:i||pi}}const Br=n=>Math.round(n*10)/10;function zw(n,t,e,r){const i=qi(n),s=Xe(i,"margin"),o=mi(i.maxWidth,n,"clientWidth")||pi,a=mi(i.maxHeight,n,"clientHeight")||pi,l=Nw(n,t,e);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=Xe(i,"border","width"),d=Xe(i,"padding");c-=d.width+f.width,u-=d.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=Br(Math.min(c,o,l.maxWidth)),u=Br(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Br(c/2)),(t!==void 0||e!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=Br(Math.floor(u*r))),{width:c,height:u}}function kh(n,t,e){const r=t||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(n.currentDevicePixelRatio=r,o.height=i,o.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Bw=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};ml()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function Ph(n,t){const e=Aw(n,t),r=e&&e.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function je(n,t,e,r){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Ww(n,t,e,r){return{x:n.x+e*(t.x-n.x),y:r==="middle"?e<.5?n.y:t.y:r==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function qw(n,t,e,r){const i={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},o=je(n,i,e),a=je(i,s,e),l=je(s,t,e),c=je(o,a,e),u=je(a,l,e);return je(c,u,e)}const $w=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,r){return e-r},leftForLtr(e,r){return e-r}}},Hw=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function pn(n,t,e){return n?$w(t,e):Hw()}function kp(n,t){let e,r;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,r=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=r)}function Pp(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Cp(n){return n==="angle"?{between:dr,compare:jx,normalize:Lt}:{between:le,compare:(t,e)=>t-e,normalize:t=>t}}function Ch({start:n,end:t,count:e,loop:r,style:i}){return{start:n%e,end:t%e,loop:r&&(t-n+1)%e===0,style:i}}function jw(n,t,e){const{property:r,start:i,end:s}=e,{between:o,normalize:a}=Cp(r),l=t.length;let{start:c,end:u,loop:h}=n,f,d;if(h){for(c+=l,u+=l,f=0,d=l;f<d&&o(a(t[c%l][r]),i,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:n.style}}function Rp(n,t,e){if(!e)return[n];const{property:r,start:i,end:s}=e,o=t.length,{compare:a,between:l,normalize:c}=Cp(r),{start:u,end:h,loop:f,style:d}=jw(n,t,e),g=[];let p=!1,m=null,v,b,w;const y=()=>l(i,w,v)&&a(i,w)!==0,x=()=>a(s,v)===0||l(s,w,v),_=()=>p||y(),S=()=>!p||x();for(let M=u,E=u;M<=h;++M)b=t[M%o],!b.skip&&(v=c(b[r]),v!==w&&(p=l(v,i,s),m===null&&_()&&(m=a(v,i)===0?M:E),m!==null&&S()&&(g.push(Ch({start:m,end:M,loop:f,count:o,style:d})),m=null),E=M,w=v));return m!==null&&g.push(Ch({start:m,end:h,loop:f,count:o,style:d})),g}function Tp(n,t){const e=[],r=n.segments;for(let i=0;i<r.length;i++){const s=Rp(r[i],n.points,t);s.length&&e.push(...s)}return e}function Vw(n,t,e,r){let i=0,s=t-1;if(e&&!r)for(;i<t&&!n[i].skip;)i++;for(;i<t&&n[i].skip;)i++;for(i%=t,e&&(s+=i);s>i&&n[s%t].skip;)s--;return s%=t,{start:i,end:s}}function Yw(n,t,e,r){const i=n.length,s=[];let o=t,a=n[t],l;for(l=t+1;l<=e;++l){const c=n[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:t%i,end:(l-1)%i,loop:r}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&s.push({start:t%i,end:o%i,loop:r}),s}function Uw(n,t){const e=n.points,r=n.options.spanGaps,i=e.length;if(!i)return[];const s=!!n._loop,{start:o,end:a}=Vw(e,i,s,r);if(r===!0)return Rh(n,[{start:o,end:a,loop:s}],e,t);const l=a<o?a+i:a,c=!!n._fullLoop&&o===0&&a===i-1;return Rh(n,Yw(e,o,l,c),e,t)}function Rh(n,t,e,r){return!r||!r.setContext||!e?t:Kw(n,t,e,r)}function Kw(n,t,e,r){const i=n._chart.getContext(),s=Th(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=e.length,c=[];let u=s,h=t[0].start,f=h;function d(g,p,m,v){const b=a?-1:1;if(g!==p){for(g+=l;e[g%l].skip;)g-=b;for(;e[p%l].skip;)p+=b;g%l!==p%l&&(c.push({start:g%l,end:p%l,loop:m,style:v}),u=v,h=p%l)}}for(const g of t){h=a?h:g.start;let p=e[h%l],m;for(f=h+1;f<=g.end;f++){const v=e[f%l];m=Th(r.setContext(Te(i,{type:"segment",p0:p,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),Xw(m,u)&&d(h,f-1,g.loop,u),p=v,u=m}h<f-1&&d(h,f-1,g.loop,u)}return c}function Th(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Xw(n,t){if(!t)return!1;const e=[],r=function(i,s){return hl(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(t,r)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class Gw{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,r,i){const s=e.listeners[i],o=e.duration;s.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(r-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=gp.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),e+=s.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let r=e.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,r)),r}listen(t,e,r){this._getAnims(t).listeners[e].push(r)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const r=e.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ie=new Gw;const Ah="transparent",Qw={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const r=Sh(n||Ah),i=r.valid&&Sh(t||Ah);return i&&i.valid?i.mix(r,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class Zw{constructor(t,e,r,i){const s=e[r];i=qn([t.to,i,s,t.from]);const o=qn([t.from,s,i]);this._active=!0,this._fn=t.fn||Qw[t.type||typeof o],this._easing=Kn[t.easing]||Kn.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=qn([t.to,e,i,t.from]),this._from=qn([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||e<r),!this._active){this._target[i]=a,this._notify(!0);return}if(e<0){this._target[i]=s;return}l=e/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,r)=>{t.push({res:e,rej:r})})}_notify(t){const e=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][e]()}}class Ap{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!U(t))return;const e=Object.keys(lt.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!U(s))return;const o={};for(const a of e)o[a]=s[a];(at(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,e){const r=e.options,i=t_(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&Jw(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,e){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,e));continue}const u=e[c];let h=s[c];const f=r.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){t[c]=u;continue}s[c]=h=new Zw(f,t,c,u),i.push(h)}return i}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const r=this._createAnimations(t,e);if(r.length)return ie.add(this._chart,r),!0}}function Jw(n,t){const e=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function t_(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Lh(n,t){const e=n&&n.options||{},r=e.reverse,i=e.min===void 0?t:0,s=e.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function e_(n,t,e){if(e===!1)return!1;const r=Lh(n,e),i=Lh(t,e);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function n_(n){let t,e,r,i;return U(n)?(t=n.top,e=n.right,r=n.bottom,i=n.left):t=e=r=i=n,{top:t,right:e,bottom:r,left:i,disabled:n===!1}}function Lp(n,t){const e=[],r=n._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)e.push(r[i].index);return e}function Ih(n,t,e,r={}){const i=n.keys,s=r.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===e){if(u=!0,r.all)continue;break}c=n.values[l],ct(c)&&(s||t===0||Gt(t)===Gt(c))&&(t+=c)}return!u&&!r.all?0:t}function r_(n,t){const{iScale:e,vScale:r}=t,i=e.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:n[u]};return a}function Go(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function i_(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function s_(n){const{min:t,max:e,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}function o_(n,t,e){const r=n[t]||(n[t]={});return r[e]||(r[e]={})}function Fh(n,t,e,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(e&&s>0||!e&&s<0)return i.index}return null}function Nh(n,t){const{chart:e,_cachedMeta:r}=n,i=e._stacks||(e._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=i_(s,o,r),h=t.length;let f;for(let d=0;d<h;++d){const g=t[d],{[l]:p,[c]:m}=g,v=g._stacks||(g._stacks={});f=v[c]=o_(i,u,p),f[a]=m,f._top=Fh(f,o,!0,r.type),f._bottom=Fh(f,o,!1,r.type);const b=f._visualValues||(f._visualValues={});b[a]=m}}function Qo(n,t){const e=n.scales;return Object.keys(e).filter(r=>e[r].axis===t).shift()}function a_(n,t){return Te(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function l_(n,t,e){return Te(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Rn(n,t){const e=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){t=t||n._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][e]===void 0)return;delete s[r][e],s[r]._visualValues!==void 0&&s[r]._visualValues[e]!==void 0&&delete s[r]._visualValues[e]}}}const Zo=n=>n==="reset"||n==="none",zh=(n,t)=>t?n:Object.assign({},n),c_=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:Lp(e,!0),values:null};class Ae{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Go(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Rn(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,r=this.getDataset(),i=(h,f,d,g)=>h==="x"?f:h==="r"?g:d,s=e.xAxisID=j(r.xAxisID,Qo(t,"x")),o=e.yAxisID=j(r.yAxisID,Qo(t,"y")),a=e.rAxisID=j(r.rAxisID,Qo(t,"r")),l=e.indexAxis,c=e.iAxisID=i(l,s,o,a),u=e.vAxisID=i(l,o,s,a);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&xh(this._data,this),t._stacked&&Rn(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),r=this._data;if(U(e)){const i=this._cachedMeta;this._data=r_(e,i)}else if(r!==e){if(r){xh(r,this);const i=this._cachedMeta;Rn(i),i._parsed=[]}e&&Object.isExtensible(e)&&Kx(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=e._stacked;e._stacked=Go(e.vScale,e),e.stack!==r.stack&&(i=!0,Rn(e),e.stack=r.stack),this._resyncElements(t),(i||s!==e._stacked)&&(Nh(this,e._parsed),e._stacked=Go(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=t===0&&e===i.length?!0:r._sorted,c=t>0&&r._parsed[t-1],u,h,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{at(i[t])?f=this.parseArrayData(r,i,t,e):U(i[t])?f=this.parseObjectData(r,i,t,e):f=this.parsePrimitiveData(r,i,t,e);const d=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<e;++u)r._parsed[u+t]=h=f[u],l&&(d()&&(l=!1),c=h);r._sorted=l}o&&Nh(this,f)}parsePrimitiveData(t,e,r,i){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(i);let f,d,g;for(f=0,d=i;f<d;++f)g=f+r,h[f]={[a]:u||s.parse(c[g],g),[l]:o.parse(e[g],g)};return h}parseArrayData(t,e,r,i){const{xScale:s,yScale:o}=t,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+r,h=e[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,e,r,i){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,f,d;for(u=0,h=i;u<h;++u)f=u+r,d=e[f],c[u]={x:s.parse(ke(d,a),f),y:o.parse(ke(d,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,r){const i=this.chart,s=this._cachedMeta,o=e[t.axis],a={keys:Lp(i,!0),values:e._stacks[t.axis]._visualValues};return Ih(a,o,s.index,{mode:r})}updateRangeFromParsed(t,e,r,i){const s=r[e.axis];let o=s===null?NaN:s;const a=i&&r._stacks[e.axis];i&&a&&(i.values=a,o=Ih(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,o=i.length,a=this._getOtherScale(t),l=c_(e,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=s_(a);let f,d;function g(){d=i[f];const p=d[a.axis];return!ct(d[t.axis])||u>p||h<p}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(c,t,d,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(c,t,d,l);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=e.length;i<s;++i)o=e[i][t.axis],ct(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,r=e.iScale,i=e.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=n_(j(this.options.clip,e_(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,r=this._cachedMeta,i=r.data||[],s=e.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(t,s,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,s))}for(u=0;u<o.length;++u)o[u].draw(t,s)}getStyle(t,e){const r=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,e,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=l_(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=a_(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",r){const i=e==="active",s=this._cachedDataOpts,o=t+"-"+e,a=s[o],l=this.enableOptionSharing&&fr(r);if(a)return zh(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),u),d=Object.keys(lt.elements[t]),g=()=>this.getContext(r,i,e),p=c.resolveNamedOptions(f,d,g,h);return p.$shared&&(p.$shared=l,s[o]=Object.freeze(zh(p,l))),p}_resolveAnimations(t,e,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${e}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,e),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(t,r,e))}const c=new Ap(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Zo(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const r=this.resolveDataElementOptions(t,e),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(e,s)||s!==i;return this.updateSharedOptions(s,e,r),{sharedOptions:s,includeOptions:o}}updateElement(t,e,r,i){Zo(i)?Object.assign(t,r):this._resolveAnimations(e,i).update(t,r)}updateSharedOptions(t,e,r){t&&!Zo(e)&&this._resolveAnimations(void 0,e).update(t,r)}_setStyle(t,e,r,i){t.active=i;const s=this.getStyle(e,i);this._resolveAnimations(e,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,e,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=e.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,e,r=!0){const i=this._cachedMeta,s=i.data,o=t+e;let a;const l=c=>{for(c.length+=e,a=c.length-1;a>=o;a--)c[a]=c[a-e]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,e),r&&this.updateElements(s,t,e,"reset")}updateElements(t,e,r,i){}_removeElements(t,e){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,e);r._stacked&&Rn(r,i)}r.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,r,i]=t;this[e](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function u_(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=e.length;i<s;i++)r=r.concat(e[i].controller.getAllParsedValues(n));n._cache.$bar=pp(r.sort((i,s)=>i-s))}return n._cache.$bar}function h_(n){const t=n.iScale,e=u_(t,n.type);let r=t._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(fr(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=e.length;i<s;++i)o=t.getPixelForValue(e[i]),l();for(a=void 0,i=0,s=t.ticks.length;i<s;++i)o=t.getPixelForTick(i),l();return r}function f_(n,t,e,r){const i=e.barThickness;let s,o;return K(i)?(s=t.min*e.categoryPercentage,o=e.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:t.pixels[n]-s/2}}function d_(n,t,e,r){const i=t.pixels,s=i[n];let o=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null;const l=e.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:e.barPercentage,start:c}}function p_(n,t,e,r){const i=e.parse(n[0],r),s=e.parse(n[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function Ip(n,t,e,r){return at(n)?p_(n,t,e,r):t[e.axis]=e.parse(n,r),t}function Bh(n,t,e,r){const i=n.iScale,s=n.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,h,f;for(c=e,u=e+r;c<u;++c)f=t[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(Ip(f,h,s,c));return l}function Jo(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function g_(n,t,e){return n!==0?Gt(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function m_(n){let t,e,r,i,s;return n.horizontal?(t=n.base>n.x,e="left",r="right"):(t=n.base<n.y,e="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:e,end:r,reverse:t,top:i,bottom:s}}function v_(n,t,e,r){let i=t.borderSkipped;const s={};if(!i){n.borderSkipped=s;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=m_(n);i==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===r?i=c:(e._bottom||0)===r?i=u:(s[Wh(u,o,a,l)]=!0,i=c)),s[Wh(i,o,a,l)]=!0,n.borderSkipped=s}function Wh(n,t,e,r){return r?(n=b_(n,t,e),n=qh(n,e,t)):n=qh(n,t,e),n}function b_(n,t,e){return n===t?e:n===e?t:n}function qh(n,t,e){return n==="start"?t:n==="end"?e:n}function y_(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class x_ extends Ae{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,r,i){return Bh(t,e,r,i)}parseArrayData(t,e,r,i){return Bh(t,e,r,i)}parseObjectData(t,e,r,i){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,d,g,p;for(f=r,d=r+i;f<d;++f)p=e[f],g={},g[s.axis]=s.parse(ke(p,c),f),h.push(Ip(ke(p,u),g,o,f));return h}updateRangeFromParsed(t,e,r,i){super.updateRangeFromParsed(t,e,r,i);const s=r._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:r,vScale:i}=e,s=this.getParsed(t),o=s._custom,a=Jo(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(e,i);for(let d=e;d<e+r;d++){const g=this.getParsed(d),p=s||K(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),m=this._calculateBarIndexPixels(d,u),v=(g._stacks||{})[a.axis],b={horizontal:c,base:p.base,enableBorderRadius:!v||Jo(g._custom)||o===v._top||o===v._bottom,x:c?p.head:m.center,y:c?m.center:p.head,height:c?m.size:Math.abs(p.size),width:c?Math.abs(p.size):m.size};f&&(b.options=h||this.resolveDataElementOptions(d,t[d].active?"active":i));const w=b.options||t[d].options;v_(b,w,v,o),y_(b,w,u.ratio),this.updateElement(t[d],d,b,i)}}_getStacks(t,e){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(e),l=a&&a[r.axis],c=u=>{const h=u._parsed.find(d=>d[r.axis]===l),f=h&&h[u.vScale.axis];if(K(f)||isNaN(f))return!0};for(const u of i)if(!(e!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,r){const i=this._getStacks(t,r),s=e!==void 0?i.indexOf(e):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,r=e.iScale,i=[];let s,o;for(s=0,o=e.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=t.barThickness;return{min:a||h_(e),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),c=l._custom,u=Jo(c);let h=l[e.axis],f=0,d=r?this.applyStack(e,l,r):h,g,p;d!==h&&(f=d-h,d=h),u&&(h=c.barStart,d=c.barEnd-c.barStart,h!==0&&Gt(h)!==Gt(c.barEnd)&&(f=0),f+=h);const m=!K(s)&&!u?s:f;let v=e.getPixelForValue(m);if(this.chart.getDataVisibility(t)?g=e.getPixelForValue(f+d):g=v,p=g-v,Math.abs(p)<o){p=g_(p,e,a)*o,h===a&&(v-=p/2);const b=e.getPixelForDecimal(0),w=e.getPixelForDecimal(1),y=Math.min(b,w),x=Math.max(b,w);v=Math.max(Math.min(v,x),y),g=v+p,r&&!u&&(l._stacks[e.axis]._visualValues[i]=e.getValueForPixel(g)-e.getValueForPixel(v))}if(v===e.getPixelForValue(a)){const b=Gt(p)*e.getLineWidthForValue(a)/2;v+=b,p-=b}return{size:p,base:v,head:g,center:g+p/2}}_calculateBarIndexPixels(t,e){const r=e.scale,i=this.options,s=i.skipNull,o=j(i.maxBarThickness,1/0);let a,l;if(e.grouped){const c=s?this._getStackCount(t):e.stackCount,u=i.barThickness==="flex"?d_(t,e,i,c):f_(t,e,i,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(o,e.min*e.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,r=t.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[e.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}class w_ extends Ae{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,r,i){const s=super.parsePrimitiveData(t,e,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(t,e,r,i){const s=super.parseArrayData(t,e,r,i);for(let o=0;o<s.length;o++){const a=e[r+o];s[o]._custom=j(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(t,e,r,i){const s=super.parseObjectData(t,e,r,i);for(let o=0;o<s.length;o++){const a=e[r+o];s[o]._custom=j(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let r=t.length-1;r>=0;--r)e=Math.max(e,t[r].size(this.resolveDataElementOptions(r))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=e,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:r[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(e,i),u=o.axis,h=a.axis;for(let f=e;f<e+r;f++){const d=t[f],g=!s&&this.getParsed(f),p={},m=p[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(g[u]),v=p[h]=s?a.getBasePixel():a.getPixelForValue(g[h]);p.skip=isNaN(m)||isNaN(v),c&&(p.options=l||this.resolveDataElementOptions(f,d.active?"active":i),s&&(p.options.radius=0)),this.updateElement(d,f,p,i)}}resolveDataElementOptions(t,e){const r=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return e!=="active"&&(i.radius=0),i.radius+=j(r&&r._custom,s),i}}function __(n,t,e){let r=1,i=1,s=0,o=0;if(t<st){const a=n,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),d=(w,y,x)=>dr(w,a,l,!0)?1:Math.max(y,y*e,x,x*e),g=(w,y,x)=>dr(w,a,l,!0)?-1:Math.min(y,y*e,x,x*e),p=d(0,c,h),m=d(ht,u,f),v=g(ot,c,h),b=g(ot+ht,u,f);r=(p-v)/2,i=(m-b)/2,s=-(p+v)/2,o=-(m+b)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class bl extends Ae{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return e.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,r){r.chart.toggleDataVisibility(e.index),r.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(U(r[t])){const{key:l="value"}=this._parsing;s=c=>+ke(r[c],l)}let o,a;for(o=t,a=t+e;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return $t(this.options.rotation-90)}_getCircumference(){return $t(this.options.circumference)}_getRotationExtents(){let t=st,e=-st;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();t=Math.min(t,s),e=Math.max(e,s+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:r}=e,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(Lx(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:d,offsetX:g,offsetY:p}=__(h,u,l),m=(r.width-o)/f,v=(r.height-o)/d,b=Math.max(Math.min(m,v)/2,0),w=cp(this.options.radius,b),y=Math.max(w*l,0),x=(w-y)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=p*w,i.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return e&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/st)}updateElements(t,e,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=s&&c.animateScale,d=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(e,i);let v=this._getRotation(),b;for(b=0;b<e;++b)v+=this._circumference(b,s);for(b=e;b<e+r;++b){const w=this._circumference(b,s),y=t[b],x={x:u+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+w,circumference:w,outerRadius:g,innerRadius:d};m&&(x.options=p||this.resolveDataElementOptions(b,y.active?"active":i)),v+=w,this.updateElement(y,b,x,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let r=0,i;for(i=0;i<e.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!e[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?st*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=kr(e._parsed[t],r.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const r=this.chart;let i,s,o,a,l;if(!t){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let r=0,i=t.length;r<i;++r){const s=this.resolveDataElementOptions(r);e=Math.max(e,s.offset||0,s.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(e+=this._getRingWeight(r));return e}_getRingWeight(t){return Math.max(j(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class S_ extends Ae{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=e,o=this.chart._animationsDisabled;let{start:a,count:l}=vp(e,i,o);this._drawStart=a,this._drawCount=l,bp(e)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,e,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,i),f=o.axis,d=a.axis,{spanGaps:g,segment:p}=this.options,m=wn(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none",b=e+r,w=t.length;let y=e>0&&this.getParsed(e-1);for(let x=0;x<w;++x){const _=t[x],S=v?_:{};if(x<e||x>=b){S.skip=!0;continue}const M=this.getParsed(x),E=K(M[d]),O=S[f]=o.getPixelForValue(M[f],x),k=S[d]=s||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,M,l):M[d],x);S.skip=isNaN(O)||isNaN(k)||E,S.stop=x>0&&Math.abs(M[f]-y[f])>m,p&&(S.parsed=M,S.raw=c.data[x]),h&&(S.options=u||this.resolveDataElementOptions(x,_.active?"active":i)),v||this.updateElement(_,x,S,i),y=M}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,r=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class Fp extends Ae{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return e.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,r){r.chart.toggleDataVisibility(e.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=kr(e._parsed[t].r,r.options.locale);return{label:i[t]||"",value:s}}parseObjectData(t,e,r,i){return Ep.bind(this)(t,e,r,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<e.min&&(e.min=s),s>e.max&&(e.max=s))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,r=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,r,i){const s=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*ot;let d=f,g;const p=360/this.countVisibleElements();for(g=0;g<e;++g)d+=this._computeAngle(g,i,p);for(g=e;g<e+r;g++){const m=t[g];let v=d,b=d+this._computeAngle(g,i,p),w=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;d=b,s&&(l.animateScale&&(w=0),l.animateRotate&&(v=b=f));const y={x:u,y:h,innerRadius:0,outerRadius:w,startAngle:v,endAngle:b,options:this.resolveDataElementOptions(g,m.active?"active":i)};this.updateElement(m,g,y,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++}),e}_computeAngle(t,e,r){return this.chart.getDataVisibility(t)?$t(this.resolveDataElementOptions(t,e).angle||r):0}}class M_ extends bl{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class D_ extends Ae{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,r=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(r[e.axis])}}parseObjectData(t,e,r,i){return Ep.bind(this)(t,e,r,i)}update(t){const e=this._cachedMeta,r=e.dataset,i=e.data||[],s=e.iScale.getLabels();if(r.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=e;a<e+r;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=s.getPointPositionForValue(a,this.getParsed(a).r),h=o?s.xCenter:u.x,f=o?s.yCenter:u.y,d={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,d,i)}}}class E_ extends Ae{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=e,o=this.getParsed(t),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:r[t]||"",value:"("+a+", "+l+")"}}update(t){const e=this._cachedMeta,{data:r=[]}=e,i=this.chart._animationsDisabled;let{start:s,count:o}=vp(e,r,i);if(this._drawStart=s,this._drawCount=o,bp(e)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=e;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=r;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(e,i),h=this.getSharedOptions(u),f=this.includeOptions(i,h),d=o.axis,g=a.axis,{spanGaps:p,segment:m}=this.options,v=wn(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||i==="none";let w=e>0&&this.getParsed(e-1);for(let y=e;y<e+r;++y){const x=t[y],_=this.getParsed(y),S=b?x:{},M=K(_[g]),E=S[d]=o.getPixelForValue(_[d],y),O=S[g]=s||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,_,l):_[g],y);S.skip=isNaN(E)||isNaN(O)||M,S.stop=y>0&&Math.abs(_[d]-w[d])>v,m&&(S.parsed=_,S.raw=c.data[y]),f&&(S.options=h||this.resolveDataElementOptions(y,x.active?"active":i)),b||this.updateElement(x,y,S,i),w=_}this.updateSharedOptions(h,i,u)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let a=0;for(let l=e.length-1;l>=0;--l)a=Math.max(a,e[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const r=t.dataset,i=r.options&&r.options.borderWidth||0;if(!e.length)return i;const s=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,s,o)/2}}var O_=Object.freeze({__proto__:null,BarController:x_,BubbleController:w_,DoughnutController:bl,LineController:S_,PieController:M_,PolarAreaController:Fp,RadarController:D_,ScatterController:E_});function qe(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yl{static override(t){Object.assign(yl.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return qe()}parse(){return qe()}format(){return qe()}add(){return qe()}diff(){return qe()}startOf(){return qe()}endOf(){return qe()}}var k_={_date:yl};function P_(n,t,e,r){const{controller:i,data:s,_sorted:o}=n,a=i._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const l=a._reversePixels?Yx:ce;if(r){if(i._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(t);if(u){const h=l(s,t,e-u),f=l(s,t,e+u);return{lo:h.lo,hi:f.hi}}}}else return l(s,t,e)}return{lo:0,hi:s.length-1}}function $i(n,t,e,r,i){const s=n.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:f}=P_(s[a],t,o,i);for(let d=h;d<=f;++d){const g=u[d];g.skip||r(g,c,d)}}}function C_(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,o=e?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function ta(n,t,e,r,i){const s=[];return!i&&!n.isPointInArea(t)||$i(n,e,t,function(a,l,c){!i&&!ue(a,n.chartArea,0)||a.inRange(t.x,t.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function R_(n,t,e,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:h}=fp(o,{x:t.x,y:t.y});dr(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return $i(n,e,t,s),i}function T_(n,t,e,r,i,s){let o=[];const a=C_(e);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const d=u.inRange(t.x,t.y,i);if(r&&!d)return;const g=u.getCenterPoint(i);if(!(!!s||n.isPointInArea(g))&&!d)return;const m=a(t,g);m<l?(o=[{element:u,datasetIndex:h,index:f}],l=m):m===l&&o.push({element:u,datasetIndex:h,index:f})}return $i(n,e,t,c),o}function ea(n,t,e,r,i,s){return!s&&!n.isPointInArea(t)?[]:e==="r"&&!r?R_(n,t,e,i):T_(n,t,e,r,i,s)}function $h(n,t,e,r,i){const s=[],o=e==="x"?"inXRange":"inYRange";let a=!1;return $i(n,e,t,(l,c,u)=>{l[o]&&l[o](t[e],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),r&&!a?[]:s}var A_={modes:{index(n,t,e,r){const i=He(t,n),s=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?ta(n,i,s,r,o):ea(n,i,s,!1,r,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(n,t,e,r){const i=He(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;let a=e.intersect?ta(n,i,s,r,o):ea(n,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,t,e,r){const i=He(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return ta(n,i,s,r,o)},nearest(n,t,e,r){const i=He(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;return ea(n,i,s,e.intersect,r,o)},x(n,t,e,r){const i=He(t,n);return $h(n,i,"x",e.intersect,r)},y(n,t,e,r){const i=He(t,n);return $h(n,i,"y",e.intersect,r)}}};const Np=["left","top","right","bottom"];function Tn(n,t){return n.filter(e=>e.pos===t)}function Hh(n,t){return n.filter(e=>Np.indexOf(e.pos)===-1&&e.box.axis===t)}function An(n,t){return n.sort((e,r)=>{const i=t?r:e,s=t?e:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function L_(n){const t=[];let e,r,i,s,o,a;for(e=0,r=(n||[]).length;e<r;++e)i=n[e],{position:s,options:{stack:o,stackWeight:a=1}}=i,t.push({index:e,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}function I_(n){const t={};for(const e of n){const{stack:r,pos:i,stackWeight:s}=e;if(!r||!Np.includes(i))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function F_(n,t){const e=I_(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];const{fullSize:l}=a.box,c=e[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&t.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&t.availableHeight)}return e}function N_(n){const t=L_(n),e=An(t.filter(c=>c.box.fullSize),!0),r=An(Tn(t,"left"),!0),i=An(Tn(t,"right")),s=An(Tn(t,"top"),!0),o=An(Tn(t,"bottom")),a=Hh(t,"x"),l=Hh(t,"y");return{fullSize:e,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Tn(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function jh(n,t,e,r){return Math.max(n[e],t[e])+Math.max(n[r],t[r])}function zp(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function z_(n,t,e,r){const{pos:i,box:s}=e,o=n.maxPadding;if(!U(i)){e.size&&(n[i]-=e.size);const h=r[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?s.height:s.width),e.size=h.size/h.count,n[i]+=e.size}s.getPadding&&zp(o,s.getPadding());const a=Math.max(0,t.outerWidth-jh(o,n,"left","right")),l=Math.max(0,t.outerHeight-jh(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:c,other:u}:{same:u,other:c}}function B_(n){const t=n.maxPadding;function e(r){const i=Math.max(t[r]-n[r],0);return n[r]+=i,i}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function W_(n,t){const e=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],e[o])}),s}return r(n?["left","right"]:["top","bottom"])}function $n(n,t,e,r){const i=[];let s,o,a,l,c,u;for(s=0,o=n.length,c=0;s<o;++s){a=n[s],l=a.box,l.update(a.width||t.w,a.height||t.h,W_(a.horizontal,t));const{same:h,other:f}=z_(t,e,a,r);c|=h&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&$n(i,t,e,r)||u}function Wr(n,t,e,r,i){n.top=e,n.left=t,n.right=t+r,n.bottom=e+i,n.width=r,n.height=i}function Vh(n,t,e,r){const i=e.padding;let{x:s,y:o}=t;for(const a of n){const l=a.box,c=r[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,f=c.size||l.height;fr(c.start)&&(o=c.start),l.fullSize?Wr(l,i.left,o,e.outerWidth-i.right-i.left,f):Wr(l,t.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,f=c.size||l.width;fr(c.start)&&(s=c.start),l.fullSize?Wr(l,s,i.top,f,e.outerHeight-i.bottom-i.top):Wr(l,s,t.top+c.placed,f,h),c.start=s,c.placed+=h,s=l.right}}t.x=s,t.y=o}var _t={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,r){if(!n)return;const i=St(n.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(e-i.height,0),a=N_(n.boxes),l=a.vertical,c=a.horizontal;Z(n.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=l.reduce((p,m)=>m.box.options&&m.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);zp(f,St(r));const d=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),g=F_(l.concat(c),h);$n(a.fullSize,d,h,g),$n(l,d,h,g),$n(c,d,h,g)&&$n(l,d,h,g),B_(d),Vh(a.leftAndTop,d,h,g),d.x+=d.w,d.y+=d.h,Vh(a.rightAndBottom,d,h,g),n.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},Z(a.chartArea,p=>{const m=p.box;Object.assign(m,n.chartArea),m.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class Bp{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,r){}removeEventListener(t,e,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,r,i){return e=Math.max(0,e||t.width),r=r||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):r)}}isAttached(t){return!0}updateConfig(t){}}class q_ extends Bp{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const si="$chartjs",$_={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Yh=n=>n===null||n==="";function H_(n,t){const e=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[si]={initial:{height:r,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Yh(i)){const s=Ph(n,"width");s!==void 0&&(n.width=s)}if(Yh(r))if(n.style.height==="")n.height=n.width/(t||2);else{const s=Ph(n,"height");s!==void 0&&(n.height=s)}return n}const Wp=Bw?{passive:!0}:!1;function j_(n,t,e){n&&n.addEventListener(t,e,Wp)}function V_(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,Wp)}function Y_(n,t){const e=$_[n.type]||n.type,{x:r,y:i}=He(n,t);return{type:e,chart:t,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function vi(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function U_(n,t,e){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||vi(a.addedNodes,r),o=o&&!vi(a.removedNodes,r);o&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function K_(n,t,e){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||vi(a.removedNodes,r),o=o&&!vi(a.addedNodes,r);o&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}const gr=new Map;let Uh=0;function qp(){const n=window.devicePixelRatio;n!==Uh&&(Uh=n,gr.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function X_(n,t){gr.size||window.addEventListener("resize",qp),gr.set(n,t)}function G_(n){gr.delete(n),gr.size||window.removeEventListener("resize",qp)}function Q_(n,t,e){const r=n.canvas,i=r&&vl(r);if(!i)return;const s=mp((a,l)=>{const c=i.clientWidth;e(a,l),c<i.clientWidth&&e()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),X_(n,s),o}function na(n,t,e){e&&e.disconnect(),t==="resize"&&G_(n)}function Z_(n,t,e){const r=n.canvas,i=mp(s=>{n.ctx!==null&&e(Y_(s,n))},n);return j_(r,t,i),i}class J_ extends Bp{acquireContext(t,e){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(H_(t,e),r):null}releaseContext(t){const e=t.canvas;if(!e[si])return!1;const r=e[si].initial;["height","width"].forEach(s=>{const o=r[s];K(o)?e.removeAttribute(s):e.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{e.style[s]=i[s]}),e.width=e.width,delete e[si],!0}addEventListener(t,e,r){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),o={attach:U_,detach:K_,resize:Q_}[e]||Z_;i[e]=o(t,e,r)}removeEventListener(t,e){const r=t.$proxies||(t.$proxies={}),i=r[e];if(!i)return;({attach:na,detach:na,resize:na}[e]||V_)(t,e,i),r[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,r,i){return zw(t,e,r,i)}isAttached(t){const e=t&&vl(t);return!!(e&&e.isConnected)}}function tS(n){return!ml()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?q_:J_}let pe=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:r}=this.getProps(["x","y"],t);return{x:e,y:r}}hasValue(){return wn(this.x)&&wn(this.y)}getProps(t,e){const r=this.$animations;if(!e||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function eS(n,t){const e=n.options.ticks,r=nS(n),i=Math.min(e.maxTicksLimit||r,r),s=e.major.enabled?iS(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return sS(t,c,s,o/i),c;const u=rS(s,t,i);if(o>0){let h,f;const d=o>1?Math.round((l-a)/(o-1)):null;for(qr(t,c,u,K(d)?0:a-d,a),h=0,f=o-1;h<f;h++)qr(t,c,u,s[h],s[h+1]);return qr(t,c,u,l,K(d)?t.length:l+d),c}return qr(t,c,u),c}function nS(n){const t=n.options.offset,e=n._tickSize(),r=n._length/e+(t?0:1),i=n._maxLength/e;return Math.floor(Math.min(r,i))}function rS(n,t,e){const r=oS(n),i=t.length/e;if(!r)return Math.max(i,1);const s=$x(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function iS(n){const t=[];let e,r;for(e=0,r=n.length;e<r;e++)n[e].major&&t.push(e);return t}function sS(n,t,e,r){let i=0,s=e[0],o;for(r=Math.ceil(r),o=0;o<n.length;o++)o===s&&(t.push(n[o]),i++,s=e[i*r])}function qr(n,t,e,r,i){const s=j(r,0),o=Math.min(j(i,n.length),n.length);let a=0,l,c,u;for(e=Math.ceil(e),i&&(l=i-r,e=l/Math.floor(l/e)),u=s;u<0;)a++,u=Math.round(s+a*e);for(c=Math.max(s,0);c<o;c++)c===u&&(t.push(n[c]),a++,u=Math.round(s+a*e))}function oS(n){const t=n.length;let e,r;if(t<2)return!1;for(r=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==r)return!1;return r}const aS=n=>n==="left"?"right":n==="right"?"left":n,Kh=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Xh=(n,t)=>Math.min(t||n,n);function Gh(n,t){const e=[],r=n.length/t,i=n.length;let s=0;for(;s<i;s+=r)e.push(n[Math.floor(s)]);return e}function lS(n,t,e){const r=n.ticks.length,i=Math.min(t,r-1),s=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(i),c;if(!(e&&(r===1?c=Math.max(l-s,o-l):t===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<s-a||l>o+a)))return l}function cS(n,t){Z(n,e=>{const r=e.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete e.data[r[s]];r.splice(0,i)}})}function Ln(n){return n.drawTicks?n.tickLength:0}function Qh(n,t){if(!n.display)return 0;const e=dt(n.font,t),r=St(n.padding);return(at(n.text)?n.text.length:1)*e.lineHeight+r.height}function uS(n,t){return Te(n,{scale:t,type:"scale"})}function hS(n,t,e){return Te(n,{tick:e,index:t,type:"tick"})}function fS(n,t,e){let r=ul(n);return(e&&t!=="right"||!e&&t==="right")&&(r=aS(r)),r}function dS(n,t,e,r){const{top:i,left:s,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let h=0,f,d,g;const p=o-i,m=a-s;if(n.isHorizontal()){if(d=wt(r,s,a),U(e)){const v=Object.keys(e)[0],b=e[v];g=u[v].getPixelForValue(b)+p-t}else e==="center"?g=(c.bottom+c.top)/2+p-t:g=Kh(n,e,t);f=a-s}else{if(U(e)){const v=Object.keys(e)[0],b=e[v];d=u[v].getPixelForValue(b)-m+t}else e==="center"?d=(c.left+c.right)/2-m+t:d=Kh(n,e,t);g=wt(r,o,i),h=e==="left"?-ht:ht}return{titleX:d,titleY:g,maxWidth:f,rotation:h}}class an extends pe{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:r,_suggestedMax:i}=this;return t=At(t,Number.POSITIVE_INFINITY),e=At(e,Number.NEGATIVE_INFINITY),r=At(r,Number.POSITIVE_INFINITY),i=At(i,Number.NEGATIVE_INFINITY),{min:At(t,r),max:At(e,i),minDefined:ct(t),maxDefined:ct(e)}}getMinMax(t){let{min:e,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:e,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(e=Math.min(e,o.min)),s||(r=Math.max(r,o.max));return e=s&&e>r?r:e,r=i&&e>r?e:r,{min:At(e,At(r,e)),max:At(r,At(e,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nt(this.options.beforeUpdate,[this])}update(t,e,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=mw(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Gh(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=eS(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,r;this.isHorizontal()?(e=this.left,r=this.right):(e=this.top,r=this.bottom,t=!t),this._startPixel=e,this._endPixel=r,this._reversePixels=t,this._length=r-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nt(this.options.afterUpdate,[this])}beforeSetDimensions(){nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),nt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=nt(e.callback,[s.value,r,t],this)}afterTickToLabelConversion(){nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,r=Xh(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,s=e.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!e.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,d=mt(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/r:d/(r-1),h+6>a&&(a=d/(r-(t.offset?.5:1)),l=this.maxHeight-Ln(t.grid)-e.padding-Qh(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=ll(Math.min(Math.asin(mt((u.highest.height+6)/a,-1,1)),Math.asin(mt(l/c,-1,1))-Math.asin(mt(f/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){nt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Qh(i,e.options.font);if(a?(t.width=this.maxWidth,t.height=Ln(s)+l):(t.height=this.maxHeight,t.width=Ln(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),d=r.padding*2,g=$t(this.labelRotation),p=Math.cos(g),m=Math.sin(g);if(a){const v=r.mirror?0:m*h.width+p*f.height;t.height=Math.min(this.maxHeight,t.height+v+d)}else{const v=r.mirror?0:p*h.width+m*f.height;t.width=Math.min(this.maxWidth,t.width+v+d)}this._calculatePadding(c,u,m,p)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;l?c?(f=i*t.width,d=r*e.height):(f=r*t.height,d=i*e.width):s==="start"?d=e.width:s==="end"?f=t.width:s!=="inner"&&(f=t.width/2,d=e.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let u=e.height/2,h=t.height/2;s==="start"?(u=0,h=t.height):s==="end"&&(u=e.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,r;for(e=0,r=t.length;e<r;e++)K(t[e].label)&&(t.splice(e,1),r--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let r=this.ticks;e<r.length&&(r=Gh(r,e)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(e/Xh(e,r));let c=0,u=0,h,f,d,g,p,m,v,b,w,y,x;for(h=0;h<e;h+=l){if(g=t[h].label,p=this._resolveTickFontOptions(h),i.font=m=p.string,v=s[m]=s[m]||{data:{},gc:[]},b=p.lineHeight,w=y=0,!K(g)&&!at(g))w=gi(i,v.data,v.gc,w,g),y=b;else if(at(g))for(f=0,d=g.length;f<d;++f)x=g[f],!K(x)&&!at(x)&&(w=gi(i,v.data,v.gc,w,x),y+=b);o.push(w),a.push(y),c=Math.max(w,c),u=Math.max(y,u)}cS(s,e);const _=o.indexOf(c),S=a.indexOf(u),M=E=>({width:o[E]||0,height:a[E]||0});return{first:M(0),last:M(e-1),widest:M(_),highest:M(S),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Vx(this._alignToPixels?We(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const r=e[t];return r.$context||(r.$context=hS(this.getContext(),t,r))}return this.$context||(this.$context=uS(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=$t(this.labelRotation),r=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Ln(s),d=[],g=a.setContext(this.getContext()),p=g.display?g.width:0,m=p/2,v=function(F){return We(r,F,p)};let b,w,y,x,_,S,M,E,O,k,C,T;if(o==="top")b=v(this.bottom),S=this.bottom-f,E=b-m,k=v(t.top)+m,T=t.bottom;else if(o==="bottom")b=v(this.top),k=t.top,T=v(t.bottom)-m,S=b+m,E=this.top+f;else if(o==="left")b=v(this.right),_=this.right-f,M=b-m,O=v(t.left)+m,C=t.right;else if(o==="right")b=v(this.left),O=t.left,C=v(t.right)-m,_=b+m,M=this.left+f;else if(e==="x"){if(o==="center")b=v((t.top+t.bottom)/2+.5);else if(U(o)){const F=Object.keys(o)[0],$=o[F];b=v(this.chart.scales[F].getPixelForValue($))}k=t.top,T=t.bottom,S=b+m,E=S+f}else if(e==="y"){if(o==="center")b=v((t.left+t.right)/2);else if(U(o)){const F=Object.keys(o)[0],$=o[F];b=v(this.chart.scales[F].getPixelForValue($))}_=b-m,M=_-f,O=t.left,C=t.right}const B=j(i.ticks.maxTicksLimit,h),W=Math.max(1,Math.ceil(h/B));for(w=0;w<h;w+=W){const F=this.getContext(w),$=s.setContext(F),Y=a.setContext(F),V=$.lineWidth,rt=$.color,P=Y.dash||[],R=Y.dashOffset,A=$.tickWidth,I=$.tickColor,N=$.tickBorderDash||[],H=$.tickBorderDashOffset;y=lS(this,w,l),y!==void 0&&(x=We(r,y,V),c?_=M=O=C=x:S=E=k=T=x,d.push({tx1:_,ty1:S,tx2:M,ty2:E,x1:O,y1:k,x2:C,y2:T,width:V,color:rt,borderDash:P,borderDashOffset:R,tickWidth:A,tickColor:I,tickBorderDash:N,tickBorderDashOffset:H}))}return this._ticksLength=h,this._borderValue=b,d}_computeLabelItems(t){const e=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,f=Ln(r.grid),d=f+u,g=h?-u:d,p=-$t(this.labelRotation),m=[];let v,b,w,y,x,_,S,M,E,O,k,C,T="middle";if(i==="top")_=this.bottom-g,S=this._getXAxisLabelAlignment();else if(i==="bottom")_=this.top+g,S=this._getXAxisLabelAlignment();else if(i==="left"){const W=this._getYAxisLabelAlignment(f);S=W.textAlign,x=W.x}else if(i==="right"){const W=this._getYAxisLabelAlignment(f);S=W.textAlign,x=W.x}else if(e==="x"){if(i==="center")_=(t.top+t.bottom)/2+d;else if(U(i)){const W=Object.keys(i)[0],F=i[W];_=this.chart.scales[W].getPixelForValue(F)+d}S=this._getXAxisLabelAlignment()}else if(e==="y"){if(i==="center")x=(t.left+t.right)/2-d;else if(U(i)){const W=Object.keys(i)[0],F=i[W];x=this.chart.scales[W].getPixelForValue(F)}S=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(l==="start"?T="top":l==="end"&&(T="bottom"));const B=this._getLabelSizes();for(v=0,b=a.length;v<b;++v){w=a[v],y=w.label;const W=s.setContext(this.getContext(v));M=this.getPixelForTick(v)+s.labelOffset,E=this._resolveTickFontOptions(v),O=E.lineHeight,k=at(y)?y.length:1;const F=k/2,$=W.color,Y=W.textStrokeColor,V=W.textStrokeWidth;let rt=S;o?(x=M,S==="inner"&&(v===b-1?rt=this.options.reverse?"left":"right":v===0?rt=this.options.reverse?"right":"left":rt="center"),i==="top"?c==="near"||p!==0?C=-k*O+O/2:c==="center"?C=-B.highest.height/2-F*O+O:C=-B.highest.height+O/2:c==="near"||p!==0?C=O/2:c==="center"?C=B.highest.height/2-F*O:C=B.highest.height-k*O,h&&(C*=-1),p!==0&&!W.showLabelBackdrop&&(x+=O/2*Math.sin(p))):(_=M,C=(1-k)*O/2);let P;if(W.showLabelBackdrop){const R=St(W.backdropPadding),A=B.heights[v],I=B.widths[v];let N=C-R.top,H=0-R.left;switch(T){case"middle":N-=A/2;break;case"bottom":N-=A;break}switch(S){case"center":H-=I/2;break;case"right":H-=I;break;case"inner":v===b-1?H-=I:v>0&&(H-=I/2);break}P={left:H,top:N,width:I+R.width,height:A+R.height,color:W.backdropColor}}m.push({label:y,font:E,textOffset:C,options:{rotation:p,color:$,strokeColor:Y,strokeWidth:V,textAlign:rt,textBaseline:T,translation:[x,_],backdrop:P}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-$t(this.labelRotation))return t==="top"?"left":"right";let i="center";return e.align==="start"?i="left":e.align==="end"?i="right":e.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let c,u;return e==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):e==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:r,top:i,width:s,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(r,i,s,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const e=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(e.display)for(s=0,o=i.length;s<o;++s){const l=i[s];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=We(t,this.left,o)-o/2,u=We(t,this.right,a)+a/2,h=f=l):(h=We(t,this.top,o)-o/2,f=We(t,this.bottom,a)+a/2,c=u=l),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(c,h),e.lineTo(u,f),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Bi(r,i);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;sn(r,c,0,u,l,a)}i&&Wi(r)}drawTitle(){const{ctx:t,options:{position:e,title:r,reverse:i}}=this;if(!r.display)return;const s=dt(r.font),o=St(r.padding),a=r.align;let l=s.lineHeight/2;e==="bottom"||e==="center"||U(e)?(l+=o.bottom,at(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=dS(this,l,e,a);sn(t,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:f,textAlign:fS(a,e,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,r=j(t.grid&&t.grid.z,-1),i=j(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==an.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=e.length;s<o;++s){const a=e[s];a[r]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return dt(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class $r{constructor(t,e,r){this.type=t,this.scope=e,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let r;mS(e)&&(r=this.register(e));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,pS(t,o,r),this.override&&lt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,r=t.id,i=this.scope;r in e&&delete e[r],i&&r in lt[i]&&(delete lt[i][r],this.override&&delete rn[r])}}function pS(n,t,e){const r=hr(Object.create(null),[e?lt.get(e):{},lt.get(t),n.defaults]);lt.set(t,r),n.defaultRoutes&&gS(t,n.defaultRoutes),n.descriptors&&lt.describe(t,n.descriptors)}function gS(n,t){Object.keys(t).forEach(e=>{const r=e.split("."),i=r.pop(),s=[n].concat(r).join("."),o=t[e].split("."),a=o.pop(),l=o.join(".");lt.route(s,i,l,a)})}function mS(n){return"id"in n&&"defaults"in n}class vS{constructor(){this.controllers=new $r(Ae,"datasets",!0),this.elements=new $r(pe,"elements"),this.plugins=new $r(Object,"plugins"),this.scales=new $r(an,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,r){[...e].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):Z(i,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,r){const i=al(t);nt(r["before"+i],[],r),e[t](r),nt(r["after"+i],[],r)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const r=this._typedRegistries[e];if(r.isForType(t))return r}return this.plugins}_get(t,e,r){const i=e.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var Yt=new vS;class bS{constructor(){this._init=[]}notify(t,e,r,i){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,e,r);return e==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,r,i){i=i||{};for(const s of t){const o=s.plugin,a=o[r],l=[e,i,s.options];if(nt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){K(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const r=t&&t.config,i=j(r.options&&r.options.plugins,{}),s=yS(r);return i===!1&&!e?[]:wS(t,s,i,e)}_notifyStateChanges(t){const e=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(e,r),t,"stop"),this._notify(i(r,e),t,"start")}}function yS(n){const t={},e=[],r=Object.keys(Yt.plugins.items);for(let s=0;s<r.length;s++)e.push(Yt.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function xS(n,t){return!t&&n===!1?null:n===!0?{}:n}function wS(n,{plugins:t,localIds:e},r,i){const s=[],o=n.getContext();for(const a of t){const l=a.id,c=xS(r[l],i);c!==null&&s.push({plugin:a,options:_S(n.config,{plugin:a,local:e[l]},c,o)})}return s}function _S(n,{plugin:t,local:e},r,i){const s=n.pluginScopeKeys(t),o=n.getOptionScopes(r,s);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xa(n,t){const e=lt.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function SS(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function MS(n,t){return n===t?"_index_":"_value_"}function Zh(n){if(n==="x"||n==="y"||n==="r")return n}function DS(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function wa(n,...t){if(Zh(n))return n;for(const e of t){const r=e.axis||DS(e.position)||n.length>1&&Zh(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Jh(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function ES(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(e.length)return Jh(n,"x",e[0])||Jh(n,"y",e[0])}return{}}function OS(n,t){const e=rn[n.type]||{scales:{}},r=t.scales||{},i=xa(n.type,t),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!U(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=wa(o,a,ES(o,n),lt.scales[a.type]),c=MS(l,i),u=e.scales||{};s[o]=Yn(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||xa(a,t),u=(rn[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=SS(h,l),d=o[f+"AxisID"]||f;s[d]=s[d]||Object.create(null),Yn(s[d],[{axis:f},r[d],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Yn(a,[lt.scales[a.type],lt.scale])}),s}function $p(n){const t=n.options||(n.options={});t.plugins=j(t.plugins,{}),t.scales=OS(n,t)}function Hp(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function kS(n){return n=n||{},n.data=Hp(n.data),$p(n),n}const tf=new Map,jp=new Set;function Hr(n,t){let e=tf.get(n);return e||(e=t(),tf.set(n,e),jp.add(e)),e}const In=(n,t,e)=>{const r=ke(t,e);r!==void 0&&n.add(r)};class PS{constructor(t){this._config=kS(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Hp(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),$p(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Hr(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Hr(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Hr(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,r=this.type;return Hr(`${r}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const r=this._scopeCache;let i=r.get(t);return(!i||e)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,e,r){const{options:i,type:s}=this,o=this._cachedScopes(t,r),a=o.get(e);if(a)return a;const l=new Set;e.forEach(u=>{t&&(l.add(t),u.forEach(h=>In(l,t,h))),u.forEach(h=>In(l,i,h)),u.forEach(h=>In(l,rn[s]||{},h)),u.forEach(h=>In(l,lt,h)),u.forEach(h=>In(l,ba,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),jp.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,rn[e]||{},lt.datasets[e]||{},{type:e},lt,ba]}resolveNamedOptions(t,e,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=ef(this._resolverCache,t,i);let l=o;if(RS(o,e)){s.$shared=!1,r=Pe(r)?r():r;const c=this.createResolver(t,r,a);l=_n(o,r,c)}for(const c of e)s[c]=l[c];return s}createResolver(t,e,r=[""],i){const{resolver:s}=ef(this._resolverCache,t,r);return U(e)?_n(s,e,void 0,i):s}}function ef(n,t,e){let r=n.get(t);r||(r=new Map,n.set(t,r));const i=e.join();let s=r.get(i);return s||(s={resolver:dl(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const CS=n=>U(n)&&Object.getOwnPropertyNames(n).some(t=>Pe(n[t]));function RS(n,t){const{isScriptable:e,isIndexable:r}=_p(n);for(const i of t){const s=e(i),o=r(i),a=(o||s)&&n[i];if(s&&(Pe(a)||CS(a))||o&&at(a))return!0}return!1}var TS="4.4.7";const AS=["top","bottom","left","right","chartArea"];function nf(n,t){return n==="top"||n==="bottom"||AS.indexOf(n)===-1&&t==="x"}function rf(n,t){return function(e,r){return e[n]===r[n]?e[t]-r[t]:e[n]-r[n]}}function sf(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),nt(e&&e.onComplete,[n],t)}function LS(n){const t=n.chart,e=t.options.animation;nt(e&&e.onProgress,[n],t)}function Vp(n){return ml()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const oi={},of=n=>{const t=Vp(n);return Object.values(oi).filter(e=>e.canvas===t).pop()};function IS(n,t,e){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=t){const o=n[i];delete n[i],(e>0||s>t)&&(n[s+e]=o)}}}function FS(n,t,e,r){return!e||n.type==="mouseout"?null:r?t:n}function jr(n,t,e){return n.options.clip?n[e]:t[e]}function NS(n,t){const{xScale:e,yScale:r}=n;return e&&r?{left:jr(e,t,"left"),right:jr(e,t,"right"),top:jr(r,t,"top"),bottom:jr(r,t,"bottom")}:t}class xl{static defaults=lt;static instances=oi;static overrides=rn;static registry=Yt;static version=TS;static getChart=of;static register(...t){Yt.add(...t),af()}static unregister(...t){Yt.remove(...t),af()}constructor(t,e){const r=this.config=new PS(e),i=Vp(t),s=of(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||tS(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Ax(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Xx(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],oi[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ie.listen(this,"complete",sf),ie.listen(this,"progress",LS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:r,height:i,_aspectRatio:s}=this;return K(t)?e&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Yt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():kh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Dh(this.canvas,this.ctx),this}stop(){return ie.stop(this),this}resize(t,e){ie.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,e,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,kh(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),nt(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Z(e,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,e=t.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];e&&(s=s.concat(Object.keys(e).map(o=>{const a=e[o],l=wa(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Z(s,o=>{const a=o.options,l=a.id,c=wa(l,a),u=j(a.type,o.dtype);(a.position===void 0||nf(a.position,c)!==nf(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===u)h=r[l];else{const f=Yt.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,t)}),Z(i,(o,a)=>{o||delete r[a]}),Z(r,o=>{_t.configure(this,o,o.options),_t.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>e){for(let i=e;i<r;++i)this._destroyDatasetMeta(i);t.splice(e,r-e)}this._sortedMetasets=t.slice(0).sort(rf("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((r,i)=>{e.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=e.length;r<i;r++){const s=e[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||xa(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Yt.getController(a),{datasetElementType:c,dataElementType:u}=lt.datasets[a];Object.assign(l,{dataElementType:Yt.getElement(u),datasetElementType:c&&Yt.getElement(c)}),o.controller=new l(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Z(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const r=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Z(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(rf("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Z(this.scales,t=>{_t.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!mh(e,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of e){const o=r==="_removeElements"?-s:s;IS(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,r=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<e;s++)if(!mh(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_t.update(this,this.width,this.height,t);const e=this.chartArea,r=e.width<=0||e.height<=0;this._layers=[],Z(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,r=this.data.datasets.length;e<r;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,r=this.data.datasets.length;e<r;++e)this._updateDataset(e,Pe(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ie.has(this)?this.attached&&!ie.running(this)&&ie.start(this):(this.draw(),sf({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,r=[];let i,s;for(i=0,s=e.length;i<s;++i){const o=e[i];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,r=t._clip,i=!r.disabled,s=NS(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Bi(e,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),t.controller.draw(),i&&Wi(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return ue(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,r,i){const s=A_.modes[e];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===e).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Te(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!e.hidden}setDatasetVisibility(t,e){const r=this.getDatasetMeta(t);r.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);fr(e)?(s.data[e].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ie.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Dh(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete oi[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,r=(s,o)=>{e.addEventListener(this,s,o),t[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Z(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,r=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){Z(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Z(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,r){const i=r?"set":"remove";let s,o,a,l;for(e==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],r=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!fi(r,e)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,e))}notifyPlugins(t,e,r){return this._plugins.notify(this,t,e,r)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(e,t),a=r?t:s(t,e);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,e){const r={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,e,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,e,r){const{_active:i=[],options:s}=this,o=e,a=this._getActiveElements(t,i,r,o),l=Bx(t),c=FS(t,this._lastEvent,r,l);r&&(this._lastEvent=null,nt(s.onHover,[t,a,this],this),l&&nt(s.onClick,[t,a,this],this));const u=!fi(a,i);return(u||e)&&(this._active=a,this._updateHoverStyles(a,i,e)),this._lastEvent=c,u}_getActiveElements(t,e,r,i){if(t.type==="mouseout")return[];if(!r)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}}function af(){return Z(xl.instances,n=>n._plugins.invalidate())}function zS(n,t,e){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=i/a;n.beginPath(),n.arc(s,o,a,r-c,e+c),l>i?(c=i/l,n.arc(s,o,l,e+c,r-c,!0)):n.arc(s,o,i,e+ht,r-ht),n.closePath(),n.clip()}function BS(n){return fl(n,["outerStart","outerEnd","innerStart","innerEnd"])}function WS(n,t,e,r){const i=BS(n.options.borderRadius),s=(e-t)/2,o=Math.min(s,r*t/2),a=l=>{const c=(e-Math.min(s,l))*r/2;return mt(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:mt(i.innerStart,0,o),innerEnd:mt(i.innerEnd,0,o)}}function un(n,t,e,r){return{x:e+n*Math.cos(t),y:r+n*Math.sin(t)}}function bi(n,t,e,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+r+e-c,0),f=u>0?u+r+e+c:0;let d=0;const g=i-l;if(r){const W=u>0?u-r:0,F=h>0?h-r:0,$=(W+F)/2,Y=$!==0?g*$/($+r):g;d=(g-Y)/2}const p=Math.max(.001,g*h-e/ot)/h,m=(g-p)/2,v=l+m+d,b=i-m-d,{outerStart:w,outerEnd:y,innerStart:x,innerEnd:_}=WS(t,f,h,b-v),S=h-w,M=h-y,E=v+w/S,O=b-y/M,k=f+x,C=f+_,T=v+x/k,B=b-_/C;if(n.beginPath(),s){const W=(E+O)/2;if(n.arc(o,a,h,E,W),n.arc(o,a,h,W,O),y>0){const V=un(M,O,o,a);n.arc(V.x,V.y,y,O,b+ht)}const F=un(C,b,o,a);if(n.lineTo(F.x,F.y),_>0){const V=un(C,B,o,a);n.arc(V.x,V.y,_,b+ht,B+Math.PI)}const $=(b-_/f+(v+x/f))/2;if(n.arc(o,a,f,b-_/f,$,!0),n.arc(o,a,f,$,v+x/f,!0),x>0){const V=un(k,T,o,a);n.arc(V.x,V.y,x,T+Math.PI,v-ht)}const Y=un(S,v,o,a);if(n.lineTo(Y.x,Y.y),w>0){const V=un(S,E,o,a);n.arc(V.x,V.y,w,v-ht,E)}}else{n.moveTo(o,a);const W=Math.cos(E)*h+o,F=Math.sin(E)*h+a;n.lineTo(W,F);const $=Math.cos(O)*h+o,Y=Math.sin(O)*h+a;n.lineTo($,Y)}n.closePath()}function qS(n,t,e,r,i){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){bi(n,t,e,r,l,i);for(let c=0;c<s;++c)n.fill();isNaN(a)||(l=o+(a%st||st))}return bi(n,t,e,r,l,i),n.fill(),l}function $S(n,t,e,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f}=l,d=l.borderAlign==="inner";if(!c)return;n.setLineDash(h||[]),n.lineDashOffset=f,d?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let g=t.endAngle;if(s){bi(n,t,e,r,g,i);for(let p=0;p<s;++p)n.stroke();isNaN(a)||(g=o+(a%st||st))}d&&zS(n,t,g),s||(bi(n,t,e,r,g,i),n.stroke())}class HS extends pe{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=fp(i,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=(this.options.spacing+this.options.borderWidth)/2,d=j(h,l-a),g=dr(s,a,l)&&a!==l,p=d>=st||g,m=le(o,c+f,u+f);return p&&m}getCenterPoint(t){const{x:e,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,u=(i+s)/2,h=(o+a+c+l)/2;return{x:e+Math.cos(u)*h,y:r+Math.sin(u)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:r}=this,i=(e.offset||0)/4,s=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=r>st?Math.floor(r/st):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(ot,r||0)),c=i*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,qS(t,this,c,s,o),$S(t,this,c,s,o),t.restore()}}function Yp(n,t,e=t){n.lineCap=j(e.borderCapStyle,t.borderCapStyle),n.setLineDash(j(e.borderDash,t.borderDash)),n.lineDashOffset=j(e.borderDashOffset,t.borderDashOffset),n.lineJoin=j(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=j(e.borderWidth,t.borderWidth),n.strokeStyle=j(e.borderColor,t.borderColor)}function jS(n,t,e){n.lineTo(e.x,e.y)}function VS(n){return n.stepped?aw:n.tension||n.cubicInterpolationMode==="monotone"?lw:jS}function Up(n,t,e={}){const r=n.length,{start:i=0,end:s=r-1}=e,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function YS(n,t,e,r){const{points:i,options:s}=t,{count:o,start:a,loop:l,ilen:c}=Up(i,e,r),u=VS(s);let{move:h=!0,reverse:f}=r||{},d,g,p;for(d=0;d<=c;++d)g=i[(a+(f?c-d:d))%o],!g.skip&&(h?(n.moveTo(g.x,g.y),h=!1):u(n,p,g,f,s.stepped),p=g);return l&&(g=i[(a+(f?c:0))%o],u(n,p,g,f,s.stepped)),!!l}function US(n,t,e,r){const i=t.points,{count:s,start:o,ilen:a}=Up(i,e,r),{move:l=!0,reverse:c}=r||{};let u=0,h=0,f,d,g,p,m,v;const b=y=>(o+(c?a-y:y))%s,w=()=>{p!==m&&(n.lineTo(u,m),n.lineTo(u,p),n.lineTo(u,v))};for(l&&(d=i[b(0)],n.moveTo(d.x,d.y)),f=0;f<=a;++f){if(d=i[b(f)],d.skip)continue;const y=d.x,x=d.y,_=y|0;_===g?(x<p?p=x:x>m&&(m=x),u=(h*u+y)/++h):(w(),n.lineTo(y,x),g=_,h=0,p=m=x),v=x}w()}function _a(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?US:YS}function KS(n){return n.stepped?Ww:n.tension||n.cubicInterpolationMode==="monotone"?qw:je}function XS(n,t,e,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,e,r)&&i.closePath()),Yp(n,t.options),n.stroke(i)}function GS(n,t,e,r){const{segments:i,options:s}=t,o=_a(t);for(const a of i)Yp(n,s,a.style),n.beginPath(),o(n,t,a,{start:e,end:e+r-1})&&n.closePath(),n.stroke()}const QS=typeof Path2D=="function";function ZS(n,t,e,r){QS&&!t.options.segment?XS(n,t,e,r):GS(n,t,e,r)}class Hi extends pe{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;Tw(this._points,r,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Uw(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,r=t.length;return r&&e[t[r-1].end]}interpolate(t,e){const r=this.options,i=t[e],s=this.points,o=Tp(this,{property:e,start:i,end:i});if(!o.length)return;const a=[],l=KS(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],d=s[h],g=s[f];if(d===g){a.push(d);continue}const p=Math.abs((i-d[e])/(g[e]-d[e])),m=l(d,g,p,r.stepped);m[e]=t[e],a.push(m)}return a.length===1?a[0]:a}pathSegment(t,e,r){return _a(this)(t,this,e,r)}path(t,e,r){const i=this.segments,s=_a(this);let o=this._loop;e=e||0,r=r||this.points.length-e;for(const a of i)o&=s(t,this,a,{start:e,end:e+r-1});return!!o}draw(t,e,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),ZS(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function lf(n,t,e,r){const i=n.options,{[e]:s}=n.getProps([e],r);return Math.abs(t-s)<i.radius+i.hitRadius}class JS extends pe{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(t-s,2)+Math.pow(e-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return lf(this,t,"x",e)}inYRange(t,e){return lf(this,t,"y",e)}getCenterPoint(t){const{x:e,y:r}=this.getProps(["x","y"],t);return{x:e,y:r}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const r=e&&t.borderWidth||0;return(e+r)*2}draw(t,e){const r=this.options;this.skip||r.radius<.1||!ue(this,e,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,ya(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Kp(n,t){const{x:e,y:r,base:i,width:s,height:o}=n.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return n.horizontal?(h=o/2,a=Math.min(e,i),l=Math.max(e,i),c=r-h,u=r+h):(h=s/2,a=e-h,l=e+h,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function Me(n,t,e,r){return n?0:mt(t,e,r)}function t1(n,t,e){const r=n.options.borderWidth,i=n.borderSkipped,s=wp(r);return{t:Me(i.top,s.top,0,e),r:Me(i.right,s.right,0,t),b:Me(i.bottom,s.bottom,0,e),l:Me(i.left,s.left,0,t)}}function e1(n,t,e){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=Ke(i),o=Math.min(t,e),a=n.borderSkipped,l=r||U(i);return{topLeft:Me(!l||a.top||a.left,s.topLeft,0,o),topRight:Me(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Me(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Me(!l||a.bottom||a.right,s.bottomRight,0,o)}}function n1(n){const t=Kp(n),e=t.right-t.left,r=t.bottom-t.top,i=t1(n,e/2,r/2),s=e1(n,e/2,r/2);return{outer:{x:t.left,y:t.top,w:e,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:e-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function ra(n,t,e,r){const i=t===null,s=e===null,a=n&&!(i&&s)&&Kp(n,r);return a&&(i||le(t,a.left,a.right))&&(s||le(e,a.top,a.bottom))}function r1(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function i1(n,t){n.rect(t.x,t.y,t.w,t.h)}function ia(n,t,e={}){const r=n.x!==e.x?-t:0,i=n.y!==e.y?-t:0,s=(n.x+n.w!==e.x+e.w?t:0)-r,o=(n.y+n.h!==e.y+e.h?t:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+s,h:n.h+o,radius:n.radius}}class s1 extends pe{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=n1(this),a=r1(o.radius)?pr:i1;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,ia(o,e,s)),t.clip(),a(t,ia(s,-e,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,ia(s,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,r){return ra(this,t,e,r)}inXRange(t,e){return ra(this,t,null,e)}inYRange(t,e){return ra(this,null,t,e)}getCenterPoint(t){const{x:e,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+i)/2:e,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var o1=Object.freeze({__proto__:null,ArcElement:HS,BarElement:s1,LineElement:Hi,PointElement:JS});const Sa=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],cf=Sa.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Xp(n){return Sa[n%Sa.length]}function Gp(n){return cf[n%cf.length]}function a1(n,t){return n.borderColor=Xp(t),n.backgroundColor=Gp(t),++t}function l1(n,t){return n.backgroundColor=n.data.map(()=>Xp(t++)),t}function c1(n,t){return n.backgroundColor=n.data.map(()=>Gp(t++)),t}function u1(n){let t=0;return(e,r)=>{const i=n.getDatasetMeta(r).controller;i instanceof bl?t=l1(e,t):i instanceof Fp?t=c1(e,t):i&&(t=a1(e,t))}}function uf(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function h1(n){return n&&(n.borderColor||n.backgroundColor)}function f1(){return lt.borderColor!=="rgba(0,0,0,0.1)"||lt.backgroundColor!=="rgba(0,0,0,0.1)"}var d1={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:r},options:i}=n.config,{elements:s}=i,o=uf(r)||h1(i)||s&&uf(s)||f1();if(!e.forceOverride&&o)return;const a=u1(n);r.forEach(a)}};function p1(n,t,e,r,i){const s=i.samples||r;if(s>=e)return n.slice(t,t+e);const o=[],a=(e-2)/(s-2);let l=0;const c=t+e-1;let u=t,h,f,d,g,p;for(o[l++]=n[u],h=0;h<s-2;h++){let m=0,v=0,b;const w=Math.floor((h+1)*a)+1+t,y=Math.min(Math.floor((h+2)*a)+1,e)+t,x=y-w;for(b=w;b<y;b++)m+=n[b].x,v+=n[b].y;m/=x,v/=x;const _=Math.floor(h*a)+1+t,S=Math.min(Math.floor((h+1)*a)+1,e)+t,{x:M,y:E}=n[u];for(d=g=-1,b=_;b<S;b++)g=.5*Math.abs((M-m)*(n[b].y-E)-(M-n[b].x)*(v-E)),g>d&&(d=g,f=n[b],p=b);o[l++]=f,u=p}return o[l++]=n[c],o}function g1(n,t,e,r){let i=0,s=0,o,a,l,c,u,h,f,d,g,p;const m=[],v=t+e-1,b=n[t].x,y=n[v].x-b;for(o=t;o<t+e;++o){a=n[o],l=(a.x-b)/y*r,c=a.y;const x=l|0;if(x===u)c<g?(g=c,h=o):c>p&&(p=c,f=o),i=(s*i+a.x)/++s;else{const _=o-1;if(!K(h)&&!K(f)){const S=Math.min(h,f),M=Math.max(h,f);S!==d&&S!==_&&m.push({...n[S],x:i}),M!==d&&M!==_&&m.push({...n[M],x:i})}o>0&&_!==d&&m.push(n[_]),m.push(a),u=x,s=0,g=p=c,h=f=d=o}}return m}function Qp(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function hf(n){n.data.datasets.forEach(t=>{Qp(t)})}function m1(n,t){const e=t.length;let r=0,i;const{iScale:s}=n,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(r=mt(ce(t,s.axis,o).lo,0,e-1)),c?i=mt(ce(t,s.axis,a).hi+1,r,e)-r:i=e-r,{start:r,count:i}}var v1={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){hf(n);return}const r=n.width;n.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,l=n.getDatasetMeta(s),c=o||i.data;if(qn([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=n.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:h,count:f}=m1(l,c);const d=e.threshold||4*r;if(f<=d){Qp(i);return}K(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let g;switch(e.algorithm){case"lttb":g=p1(c,h,f,r,e);break;case"min-max":g=g1(c,h,f,r);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}i._decimated=g})},destroy(n){hf(n)}};function b1(n,t,e){const r=n.segments,i=n.points,s=t.points,o=[];for(const a of r){let{start:l,end:c}=a;c=wl(l,c,i);const u=Ma(e,i[l],i[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const h=Tp(t,u);for(const f of h){const d=Ma(e,s[f.start],s[f.end],f.loop),g=Rp(a,i,d);for(const p of g)o.push({source:p,target:f,start:{[e]:ff(u,d,"start",Math.max)},end:{[e]:ff(u,d,"end",Math.min)}})}}return o}function Ma(n,t,e,r){if(r)return;let i=t[n],s=e[n];return n==="angle"&&(i=Lt(i),s=Lt(s)),{property:n,start:i,end:s}}function y1(n,t){const{x:e=null,y:r=null}=n||{},i=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=wl(o,a,i);const l=i[o],c=i[a];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):e!==null&&(s.push({x:e,y:l.y}),s.push({x:e,y:c.y}))}),s}function wl(n,t,e){for(;t>n;t--){const r=e[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function ff(n,t,e,r){return n&&t?r(n[e],t[e]):n?n[e]:t?t[e]:0}function Zp(n,t){let e=[],r=!1;return at(n)?(r=!0,e=n):e=y1(n,t),e.length?new Hi({points:e,options:{tension:0},_loop:r,_fullLoop:r}):null}function df(n){return n&&n.fill!==!1}function x1(n,t,e){let i=n[t].fill;const s=[t];let o;if(!e)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!ct(i))return i;if(o=n[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function w1(n,t,e){const r=D1(n);if(U(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return ct(i)&&Math.floor(i)===i?_1(r[0],t,i,e):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function _1(n,t,e,r){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=r?!1:e}function S1(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:U(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function M1(n,t,e){let r;return n==="start"?r=e:n==="end"?r=t.options.reverse?t.min:t.max:U(n)?r=n.value:r=t.getBaseValue(),r}function D1(n){const t=n.options,e=t.fill;let r=j(e&&e.target,e);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function E1(n){const{scale:t,index:e,line:r}=n,i=[],s=r.segments,o=r.points,a=O1(t,e);a.push(Zp({x:null,y:t.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)k1(i,o[u],a)}return new Hi({points:i,options:{}})}function O1(n,t){const e=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}function k1(n,t,e){const r=[];for(let i=0;i<e.length;i++){const s=e[i],{first:o,last:a,point:l}=P1(s,t,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(n.push(l),!a)break}}n.push(...r)}function P1(n,t,e){const r=n.interpolate(t,e);if(!r)return{};const i=r[e],s=n.segments,o=n.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],h=o[u.start][e],f=o[u.end][e];if(le(i,h,f)){a=i===h,l=i===f;break}}return{first:a,last:l,point:r}}class Jp{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,r){const{x:i,y:s,radius:o}=this;return e=e||{start:0,end:st},t.arc(i,s,o,e.end,e.start,!0),!r.bounds}interpolate(t){const{x:e,y:r,radius:i}=this,s=t.angle;return{x:e+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function C1(n){const{chart:t,fill:e,line:r}=n;if(ct(e))return R1(t,e);if(e==="stack")return E1(n);if(e==="shape")return!0;const i=T1(n);return i instanceof Jp?i:Zp(i,r)}function R1(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function T1(n){return(n.scale||{}).getPointPositionForValue?L1(n):A1(n)}function A1(n){const{scale:t={},fill:e}=n,r=S1(e,t);if(ct(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function L1(n){const{scale:t,fill:e}=n,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,o=M1(e,t,s),a=[];if(r.grid.circular){const l=t.getPointPositionForValue(0,s);return new Jp({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,o));return a}function sa(n,t,e){const r=C1(t),{line:i,scale:s,axis:o}=t,a=i.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};r&&i.points.length&&(Bi(n,e),I1(n,{line:i,target:r,above:u,below:h,area:e,scale:s,axis:o}),Wi(n))}function I1(n,t){const{line:e,target:r,above:i,below:s,area:o,scale:a}=t,l=e._loop?"angle":t.axis;n.save(),l==="x"&&s!==i&&(pf(n,r,o.top),gf(n,{line:e,target:r,color:i,scale:a,property:l}),n.restore(),n.save(),pf(n,r,o.bottom)),gf(n,{line:e,target:r,color:s,scale:a,property:l}),n.restore()}function pf(n,t,e){const{segments:r,points:i}=t;let s=!0,o=!1;n.beginPath();for(const a of r){const{start:l,end:c}=a,u=i[l],h=i[wl(l,c,i)];s?(n.moveTo(u.x,u.y),s=!1):(n.lineTo(u.x,e),n.lineTo(u.x,u.y)),o=!!t.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(h.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function gf(n,t){const{line:e,target:r,property:i,color:s,scale:o}=t,a=b1(e,r,i);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:f=s}={}}=l,d=r!==!0;n.save(),n.fillStyle=f,F1(n,o,d&&Ma(i,u,h)),n.beginPath();const g=!!e.pathSegment(n,l);let p;if(d){g?n.closePath():mf(n,r,h,i);const m=!!r.pathSegment(n,c,{move:g,reverse:!0});p=g&&m,p||mf(n,r,u,i)}n.closePath(),n.fill(p?"evenodd":"nonzero"),n.restore()}}function F1(n,t,e){const{top:r,bottom:i}=t.chart.chartArea,{property:s,start:o,end:a}=e||{};s==="x"&&(n.beginPath(),n.rect(o,r,a-o,i-r),n.clip())}function mf(n,t,e,r){const i=t.interpolate(e,r);i&&n.lineTo(i.x,i.y)}var N1={id:"filler",afterDatasetsUpdate(n,t,e){const r=(n.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=n.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Hi&&(l={visible:n.isDatasetVisible(o),index:o,fill:w1(a,o,r),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=x1(i,o,e.propagate))},beforeDraw(n,t,e){const r=e.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&sa(n.ctx,a,s))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;df(s)&&sa(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const r=t.meta.$filler;!df(r)||e.drawTime!=="beforeDatasetDraw"||sa(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const vf=(n,t)=>{let{boxHeight:e=t,boxWidth:r=t}=n;return n.usePointStyle&&(e=Math.min(e,t),r=n.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:e,itemHeight:Math.max(t,e)}},z1=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class bf extends pe{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,r){this.maxWidth=t,this.maxHeight=e,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=nt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(r=>t.filter(r,this.chart.data))),t.sort&&(e=e.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=dt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=vf(r,s);let c,u;e.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=t;s.textAlign="left",s.textBaseline="middle";let f=-1,d=-u;return this.legendItems.forEach((g,p)=>{const m=r+e/2+s.measureText(g.text).width;(p===0||c[c.length-1]+m+2*a>o)&&(h+=u,c[c.length-(p>0?0:1)]=0,d+=u,f++),l[p]={left:0,top:d,row:f,width:m,height:i},c[c.length-1]+=m+a}),h}_fitCols(t,e,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,f=0,d=0,g=0,p=0;return this.legendItems.forEach((m,v)=>{const{itemWidth:b,itemHeight:w}=B1(r,e,s,m,i);v>0&&d+w+2*a>u&&(h+=f+a,c.push({width:f,height:d}),g+=f+a,p++,f=d=0),l[v]={left:g,top:d,col:p,width:b,height:w},f=Math.max(f,b),d+=w+a}),h+=f,c.push({width:f,height:d}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:r,labels:{padding:i},rtl:s}}=this,o=pn(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=wt(r,this.left+i,this.right-this.lineWidths[a]);for(const c of e)a!==c.row&&(a=c.row,l=wt(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=wt(r,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of e)c.col!==a&&(a=c.col,l=wt(r,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Bi(t,this),this._draw(),Wi(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:r,ctx:i}=this,{align:s,labels:o}=t,a=lt.color,l=pn(t.rtl,this.left,this.width),c=dt(o.font),{padding:u}=o,h=c.size,f=h/2;let d;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:p,itemHeight:m}=vf(o,h),v=function(_,S,M){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;i.save();const E=j(M.lineWidth,1);if(i.fillStyle=j(M.fillStyle,a),i.lineCap=j(M.lineCap,"butt"),i.lineDashOffset=j(M.lineDashOffset,0),i.lineJoin=j(M.lineJoin,"miter"),i.lineWidth=E,i.strokeStyle=j(M.strokeStyle,a),i.setLineDash(j(M.lineDash,[])),o.usePointStyle){const O={radius:p*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:E},k=l.xPlus(_,g/2),C=S+f;xp(i,O,k,C,o.pointStyleWidth&&g)}else{const O=S+Math.max((h-p)/2,0),k=l.leftForLtr(_,g),C=Ke(M.borderRadius);i.beginPath(),Object.values(C).some(T=>T!==0)?pr(i,{x:k,y:O,w:g,h:p,radius:C}):i.rect(k,O,g,p),i.fill(),E!==0&&i.stroke()}i.restore()},b=function(_,S,M){sn(i,M.text,_,S+m/2,c,{strikethrough:M.hidden,textAlign:l.textAlign(M.textAlign)})},w=this.isHorizontal(),y=this._computeTitleHeight();w?d={x:wt(s,this.left+u,this.right-r[0]),y:this.top+u+y,line:0}:d={x:this.left+u,y:wt(s,this.top+y+u,this.bottom-e[0].height),line:0},kp(this.ctx,t.textDirection);const x=m+u;this.legendItems.forEach((_,S)=>{i.strokeStyle=_.fontColor,i.fillStyle=_.fontColor;const M=i.measureText(_.text).width,E=l.textAlign(_.textAlign||(_.textAlign=o.textAlign)),O=g+f+M;let k=d.x,C=d.y;l.setWidth(this.width),w?S>0&&k+O+u>this.right&&(C=d.y+=x,d.line++,k=d.x=wt(s,this.left+u,this.right-r[d.line])):S>0&&C+x>this.bottom&&(k=d.x=k+e[d.line].width+u,d.line++,C=d.y=wt(s,this.top+y+u,this.bottom-e[d.line].height));const T=l.x(k);if(v(T,C,_),k=Gx(E,k+g+f,w?k+O:this.right,t.rtl),b(l.x(k),C,_),w)d.x+=O+u;else if(typeof _.text!="string"){const B=c.lineHeight;d.y+=tg(_,B)+u}else d.y+=x}),Pp(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,r=dt(e.font),i=St(e.padding);if(!e.display)return;const s=pn(t.rtl,this.left,this.width),o=this.ctx,a=e.position,l=r.size/2,c=i.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=wt(t.align,h,this.right-f);else{const g=this.columnSizes.reduce((p,m)=>Math.max(p,m.height),0);u=c+wt(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const d=wt(a,h,h+f);o.textAlign=s.textAlign(ul(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=r.string,sn(o,e.text,d,u,r)}_computeTitleHeight(){const t=this.options.title,e=dt(t.font),r=St(t.padding);return t.display?e.lineHeight+r.height:0}_getLegendItemAt(t,e){let r,i,s;if(le(t,this.left,this.right)&&le(e,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],le(t,i.left,i.left+i.width)&&le(e,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const e=this.options;if(!$1(t.type,e))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=z1(i,r);i&&!s&&nt(e.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&nt(e.onHover,[t,r,this],this)}else r&&nt(e.onClick,[t,r,this],this)}}function B1(n,t,e,r,i){const s=W1(r,n,t,e),o=q1(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}function W1(n,t,e,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+e.size/2+r.measureText(i).width}function q1(n,t,e){let r=n;return typeof t.text!="string"&&(r=tg(t,e)),r}function tg(n,t){const e=n.text?n.text.length:0;return t*e}function $1(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var H1={id:"legend",_element:bf,start(n,t,e){const r=n.legend=new bf({ctx:n.ctx,options:e,chart:n});_t.configure(n,r,e),_t.addBox(n,r)},stop(n){_t.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const r=n.legend;_t.configure(n,r,e),r.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const r=t.datasetIndex,i=e.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(e?0:void 0),u=St(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class _l extends pe{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const i=at(r.text)?r.text.length:1;this._padding=St(r.padding);const s=i*dt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=wt(a,r,s),h=e+t,c=s-r):(o.position==="left"?(u=r+t,h=wt(a,i,e),l=ot*-.5):(u=s-t,h=wt(a,e,i),l=ot*.5),c=i-e),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const r=dt(e.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);sn(t,e.text,0,0,r,{color:e.color,maxWidth:l,rotation:c,textAlign:ul(e.align),textBaseline:"middle",translation:[o,a]})}}function j1(n,t){const e=new _l({ctx:n.ctx,options:t,chart:n});_t.configure(n,e,t),_t.addBox(n,e),n.titleBlock=e}var V1={id:"title",_element:_l,start(n,t,e){j1(n,e)},stop(n){const t=n.titleBlock;_t.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const r=n.titleBlock;_t.configure(n,r,e),r.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vr=new WeakMap;var Y1={id:"subtitle",start(n,t,e){const r=new _l({ctx:n.ctx,options:e,chart:n});_t.configure(n,r,e),_t.addBox(n,r),Vr.set(n,r)},stop(n){_t.removeBox(n,Vr.get(n)),Vr.delete(n)},beforeUpdate(n,t,e){const r=Vr.get(n);_t.configure(n,r,e),r.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hn={average(n){if(!n.length)return!1;let t,e,r=new Set,i=0,s=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(n,t){if(!n.length)return!1;let e=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){const l=n[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=va(t,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,r=l.y}return{x:e,y:r}}};function Vt(n,t){return t&&(at(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function se(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function U1(n,t){const{element:e,datasetIndex:r,index:i}=t,s=n.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:n,label:o,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:e}}function yf(n,t){const e=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:o,boxHeight:a}=t,l=dt(t.bodyFont),c=dt(t.titleFont),u=dt(t.footerFont),h=s.length,f=i.length,d=r.length,g=St(t.padding);let p=g.height,m=0,v=r.reduce((y,x)=>y+x.before.length+x.lines.length+x.after.length,0);if(v+=n.beforeBody.length+n.afterBody.length,h&&(p+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),v){const y=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=d*y+(v-d)*l.lineHeight+(v-1)*t.bodySpacing}f&&(p+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let b=0;const w=function(y){m=Math.max(m,e.measureText(y).width+b)};return e.save(),e.font=c.string,Z(n.title,w),e.font=l.string,Z(n.beforeBody.concat(n.afterBody),w),b=t.displayColors?o+2+t.boxPadding:0,Z(r,y=>{Z(y.before,w),Z(y.lines,w),Z(y.after,w)}),b=0,e.font=u.string,Z(n.footer,w),e.restore(),m+=g.width,{width:m,height:p}}function K1(n,t){const{y:e,height:r}=t;return e<r/2?"top":e>n.height-r/2?"bottom":"center"}function X1(n,t,e,r){const{x:i,width:s}=r,o=e.caretSize+e.caretPadding;if(n==="left"&&i+s+o>t.width||n==="right"&&i-s-o<0)return!0}function G1(n,t,e,r){const{x:i,width:s}=e,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),X1(c,n,t,e)&&(c="center"),c}function xf(n,t,e){const r=e.yAlign||t.yAlign||K1(n,e);return{xAlign:e.xAlign||t.xAlign||G1(n,t,e,r),yAlign:r}}function Q1(n,t){let{x:e,width:r}=n;return t==="right"?e-=r:t==="center"&&(e-=r/2),e}function Z1(n,t,e){let{y:r,height:i}=n;return t==="top"?r+=e:t==="bottom"?r-=i+e:r-=i/2,r}function wf(n,t,e,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:l}=e,c=i+s,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:d}=Ke(o);let g=Q1(t,a);const p=Z1(t,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,f)+i:a==="right"&&(g+=Math.max(h,d)+i),{x:mt(g,0,r.width-t.width),y:mt(p,0,r.height-t.height)}}function Yr(n,t,e){const r=St(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-r.right:n.x+r.left}function _f(n){return Vt([],se(n))}function J1(n,t,e){return Te(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Sf(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const eg={beforeTitle:re,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,r=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return e[t.dataIndex]}return""},afterTitle:re,beforeBody:re,beforeLabel:re,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return K(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:re,afterBody:re,beforeFooter:re,footer:re,afterFooter:re};function Ot(n,t,e,r){const i=n[t].call(e,r);return typeof i>"u"?eg[t].call(e,r):i}class Mf extends pe{static positioners=Hn;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&e.options.animation&&r.animations,s=new Ap(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=J1(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:r}=e,i=Ot(r,"beforeTitle",this,t),s=Ot(r,"title",this,t),o=Ot(r,"afterTitle",this,t);let a=[];return a=Vt(a,se(i)),a=Vt(a,se(s)),a=Vt(a,se(o)),a}getBeforeBody(t,e){return _f(Ot(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:r}=e,i=[];return Z(t,s=>{const o={before:[],lines:[],after:[]},a=Sf(r,s);Vt(o.before,se(Ot(a,"beforeLabel",this,s))),Vt(o.lines,Ot(a,"label",this,s)),Vt(o.after,se(Ot(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,e){return _f(Ot(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:r}=e,i=Ot(r,"beforeFooter",this,t),s=Ot(r,"footer",this,t),o=Ot(r,"afterFooter",this,t);let a=[];return a=Vt(a,se(i)),a=Vt(a,se(s)),a=Vt(a,se(o)),a}_createItems(t){const e=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=e.length;l<c;++l)a.push(U1(this.chart,e[l]));return t.filter&&(a=a.filter((u,h,f)=>t.filter(u,h,f,r))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,r))),Z(a,u=>{const h=Sf(t.callbacks,u);i.push(Ot(h,"labelColor",this,u)),s.push(Ot(h,"labelPointStyle",this,u)),o.push(Ot(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,e){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Hn[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=yf(this,r),c=Object.assign({},a,l),u=xf(this.chart,r,c),h=wf(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,r,i){const s=this.getCaretPosition(t,r,i);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Ke(a),{x:f,y:d}=t,{width:g,height:p}=e;let m,v,b,w,y,x;return s==="center"?(y=d+p/2,i==="left"?(m=f,v=m-o,w=y+o,x=y-o):(m=f+g,v=m+o,w=y-o,x=y+o),b=m):(i==="left"?v=f+Math.max(l,u)+o:i==="right"?v=f+g-Math.max(c,h)-o:v=this.caretX,s==="top"?(w=d,y=w-o,m=v-o,b=v+o):(w=d+p,y=w+o,m=v+o,b=v-o),x=w),{x1:m,x2:v,x3:b,y1:w,y2:y,y3:x}}drawTitle(t,e,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=pn(r.rtl,this.x,this.width);for(t.x=Yr(this,r.titleAlign,r),e.textAlign=c.textAlign(r.titleAlign),e.textBaseline="middle",o=dt(r.titleFont),a=r.titleSpacing,e.fillStyle=r.titleColor,e.font=o.string,l=0;l<s;++l)e.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,e,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=dt(s.bodyFont),h=Yr(this,"left",s),f=i.x(h),d=l<u.lineHeight?(u.lineHeight-l)/2:0,g=e.y+d;if(s.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=i.leftForLtr(f,c)+c/2,v=g+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,ya(t,p,m,v),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,ya(t,p,m,v)}else{t.lineWidth=U(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const p=i.leftForLtr(f,c),m=i.leftForLtr(i.xPlus(f,1),c-2),v=Ke(o.borderRadius);Object.values(v).some(b=>b!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,pr(t,{x:p,y:g,w:c,h:l,radius:v}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),pr(t,{x:m,y:g+1,w:c-2,h:l-2,radius:v}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(p,g,c,l),t.strokeRect(p,g,c,l),t.fillStyle=o.backgroundColor,t.fillRect(m,g+1,c-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,e,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,h=dt(r.bodyFont);let f=h.lineHeight,d=0;const g=pn(r.rtl,this.x,this.width),p=function(M){e.fillText(M,g.x(t.x+d),t.y+f/2),t.y+=f+s},m=g.textAlign(o);let v,b,w,y,x,_,S;for(e.textAlign=o,e.textBaseline="middle",e.font=h.string,t.x=Yr(this,m,r),e.fillStyle=r.bodyColor,Z(this.beforeBody,p),d=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,y=0,_=i.length;y<_;++y){for(v=i[y],b=this.labelTextColors[y],e.fillStyle=b,Z(v.before,p),w=v.lines,a&&w.length&&(this._drawColorBox(e,t,y,g,r),f=Math.max(h.lineHeight,l)),x=0,S=w.length;x<S;++x)p(w[x]),f=h.lineHeight;Z(v.after,p)}d=0,f=h.lineHeight,Z(this.afterBody,p),t.y-=s}drawFooter(t,e,r){const i=this.footer,s=i.length;let o,a;if(s){const l=pn(r.rtl,this.x,this.width);for(t.x=Yr(this,r.footerAlign,r),t.y+=r.footerMarginTop,e.textAlign=l.textAlign(r.footerAlign),e.textBaseline="middle",o=dt(r.footerFont),e.fillStyle=r.footerColor,e.font=o.string,a=0;a<s;++a)e.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,e,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=r,{topLeft:h,topRight:f,bottomLeft:d,bottomRight:g}=Ke(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(a+h,l),o==="top"&&this.drawCaret(t,e,r,i),e.lineTo(a+c-f,l),e.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(t,e,r,i),e.lineTo(a+c,l+u-g),e.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(t,e,r,i),e.lineTo(a+d,l+u),e.quadraticCurveTo(a,l+u,a,l+u-d),o==="center"&&s==="left"&&this.drawCaret(t,e,r,i),e.lineTo(a,l+h),e.quadraticCurveTo(a,l,a+h,l),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Hn[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=yf(this,t),l=Object.assign({},o,this._size),c=xf(e,t,l),u=wf(t,l,c,e);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=St(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,e),kp(t,e.textDirection),s.y+=o.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),Pp(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const r=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!fi(r,i),o=this._positionChanged(i,e);(s||o)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,r=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,e,r),a=this._positionChanged(o,t),l=e||!fi(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return e.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:r,caretY:i,options:s}=this,o=Hn[s.position].call(this,t,e);return o!==!1&&(r!==o.x||i!==o.y)}}var tM={id:"tooltip",_element:Mf,positioners:Hn,afterInit(n,t,e){e&&(n.tooltip=new Mf({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:eg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},eM=Object.freeze({__proto__:null,Colors:d1,Decimation:v1,Filler:N1,Legend:H1,SubTitle:Y1,Title:V1,Tooltip:tM});const nM=(n,t,e,r)=>(typeof t=="string"?(e=n.push(t)-1,r.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function rM(n,t,e,r){const i=n.indexOf(t);if(i===-1)return nM(n,t,e,r);const s=n.lastIndexOf(t);return i!==s?e:i}const iM=(n,t)=>n===null?null:mt(Math.round(n),0,t);function Df(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class sM extends an{static id="category";static defaults={ticks:{callback:Df}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const r=this.getLabels();for(const{index:i,label:s}of e)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(K(t))return null;const r=this.getLabels();return e=isFinite(e)&&r[e]===t?e:rM(r,t,j(e,t),this._addedLabels),iM(e,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),e||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,e=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=e;o++)i.push({value:o});return i}getLabelForValue(t){return Df.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function oM(n,t){const e=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=n,d=s||1,g=u-1,{min:p,max:m}=t,v=!K(o),b=!K(a),w=!K(c),y=(m-p)/(h+1);let x=bh((m-p)/g/d)*d,_,S,M,E;if(x<1e-14&&!v&&!b)return[{value:p},{value:m}];E=Math.ceil(m/x)-Math.floor(p/x),E>g&&(x=bh(E*x/g/d)*d),K(l)||(_=Math.pow(10,l),x=Math.ceil(x*_)/_),i==="ticks"?(S=Math.floor(p/x)*x,M=Math.ceil(m/x)*x):(S=p,M=m),v&&b&&s&&Hx((a-o)/s,x/1e3)?(E=Math.round(Math.min((a-o)/x,u)),x=(a-o)/E,S=o,M=a):w?(S=v?o:S,M=b?a:M,E=c-1,x=(M-S)/E):(E=(M-S)/x,Un(E,Math.round(E),x/1e3)?E=Math.round(E):E=Math.ceil(E));const O=Math.max(yh(x),yh(S));_=Math.pow(10,K(l)?O:l),S=Math.round(S*_)/_,M=Math.round(M*_)/_;let k=0;for(v&&(f&&S!==o?(e.push({value:o}),S<o&&k++,Un(Math.round((S+k*x)*_)/_,o,Ef(o,y,n))&&k++):S<o&&k++);k<E;++k){const C=Math.round((S+k*x)*_)/_;if(b&&C>a)break;e.push({value:C})}return b&&f&&M!==a?e.length&&Un(e[e.length-1].value,a,Ef(a,y,n))?e[e.length-1].value=a:e.push({value:a}):(!b||M===a)&&e.push({value:M}),e}function Ef(n,t,{horizontal:e,minRotation:r}){const i=$t(r),s=(e?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+n).length;return Math.min(t/s,o)}class yi extends an{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return K(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=e?i:l,a=l=>s=r?s:l;if(t){const l=Gt(i),c=Gt(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(i-l)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,o=oM(i,s);return t.bounds==="ticks"&&hp(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-e)/Math.max(t.length-1,1)/2;e-=i,r+=i}this._startValue=e,this._endValue=r,this._valueRange=r-e}getLabelForValue(t){return kr(t,this.chart.options.locale,this.options.ticks.format)}}class aM extends yi{static id="linear";static defaults={ticks:{callback:zi.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ct(t)?t:0,this.max=ct(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,r=$t(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const mr=n=>Math.floor(Se(n)),$e=(n,t)=>Math.pow(10,mr(n)+t);function Of(n){return n/Math.pow(10,mr(n))===1}function kf(n,t,e){const r=Math.pow(10,e),i=Math.floor(n/r);return Math.ceil(t/r)-i}function lM(n,t){const e=t-n;let r=mr(e);for(;kf(n,t,r)>10;)r++;for(;kf(n,t,r)<10;)r--;return Math.min(r,mr(n))}function cM(n,{min:t,max:e}){t=At(n.min,t);const r=[],i=mr(t);let s=lM(t,e),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,s)),f=At(n.min,Math.round((l+u+h*Math.pow(10,s))*o)/o);for(;f<e;)r.push({value:f,major:Of(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),f=Math.round((l+u+h*Math.pow(10,s))*o)/o;const d=At(n.max,f);return r.push({value:d,major:Of(d),significand:h}),r}class uM extends an{static id="logarithmic";static defaults={ticks:{callback:zi.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const r=yi.prototype.parse.apply(this,[t,e]);if(r===0){this._zero=!0;return}return ct(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ct(t)?Math.max(0,t):null,this.max=ct(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ct(this._userMin)&&(this.min=t===$e(this.min,0)?$e(this.min,-1):$e(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=t?r:a,o=a=>i=e?i:a;r===i&&(r<=0?(s(1),o(10)):(s($e(r,-1)),o($e(i,1)))),r<=0&&s($e(i,-1)),i<=0&&o($e(r,1)),this.min=r,this.max=i}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},r=cM(e,this);return t.bounds==="ticks"&&hp(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":kr(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Se(t),this._valueRange=Se(this.max)-Se(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Se(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Da(n){const t=n.ticks;if(t.display&&n.display){const e=St(t.backdropPadding);return j(t.font&&t.font.size,lt.font.size)+e.height}return 0}function hM(n,t,e){return e=at(e)?e:[e],{w:ow(n,t.string,e),h:e.length*t.lineHeight}}function Pf(n,t,e,r,i){return n===r||n===i?{start:t-e/2,end:t+e/2}:n<r||n>i?{start:t-e,end:t}:{start:t,end:t+e}}function fM(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),r=[],i=[],s=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?ot/s:0;for(let l=0;l<s;l++){const c=o.setContext(n.getPointLabelContext(l));i[l]=c.padding;const u=n.getPointPosition(l,n.drawingArea+i[l],a),h=dt(c.font),f=hM(n.ctx,h,n._pointLabels[l]);r[l]=f;const d=Lt(n.getIndexAngle(l)+a),g=Math.round(ll(d)),p=Pf(g,u.x,f.w,0,180),m=Pf(g,u.y,f.h,90,270);dM(e,t,d,p,m)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=mM(n,r,i)}function dM(n,t,e,r,i){const s=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let a=0,l=0;r.start<t.l?(a=(t.l-r.start)/s,n.l=Math.min(n.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/s,n.r=Math.max(n.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/o,n.t=Math.min(n.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,n.b=Math.max(n.b,t.b+l))}function pM(n,t,e){const r=n.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=e,l=n.getPointPosition(t,r+i+o,s),c=Math.round(ll(Lt(l.angle+ht))),u=yM(l.y,a.h,c),h=vM(c),f=bM(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function gM(n,t){if(!t)return!0;const{left:e,top:r,right:i,bottom:s}=n;return!(ue({x:e,y:r},t)||ue({x:e,y:s},t)||ue({x:i,y:r},t)||ue({x:i,y:s},t))}function mM(n,t,e){const r=[],i=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Da(s)/2,additionalAngle:o?ot/i:0};let c;for(let u=0;u<i;u++){l.padding=e[u],l.size=t[u];const h=pM(n,u,l);r.push(h),a==="auto"&&(h.visible=gM(h,c),h.visible&&(c=h))}return r}function vM(n){return n===0||n===180?"center":n<180?"left":"right"}function bM(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function yM(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function xM(n,t,e){const{left:r,top:i,right:s,bottom:o}=e,{backdropColor:a}=t;if(!K(a)){const l=Ke(t.borderRadius),c=St(t.backdropPadding);n.fillStyle=a;const u=r-c.left,h=i-c.top,f=s-r+c.width,d=o-i+c.height;Object.values(l).some(g=>g!==0)?(n.beginPath(),pr(n,{x:u,y:h,w:f,h:d,radius:l}),n.fill()):n.fillRect(u,h,f,d)}}function wM(n,t){const{ctx:e,options:{pointLabels:r}}=n;for(let i=t-1;i>=0;i--){const s=n._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(n.getPointLabelContext(i));xM(e,o,s);const a=dt(o.font),{x:l,y:c,textAlign:u}=s;sn(e,n._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function ng(n,t,e,r){const{ctx:i}=n;if(e)i.arc(n.xCenter,n.yCenter,t,0,st);else{let s=n.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=n.getPointPosition(o,t),i.lineTo(s.x,s.y)}}function _M(n,t,e,r,i){const s=n.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!r||!a||!l||e<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),ng(n,e,o,r),s.closePath(),s.stroke(),s.restore())}function SM(n,t,e){return Te(n,{label:e,index:t,type:"pointLabel"})}class MM extends yi{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:zi.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=St(Da(this.options)/2),e=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(e,r)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=ct(t)&&!isNaN(t)?t:0,this.max=ct(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Da(this.options))}generateTickLabels(t){yi.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,r)=>{const i=nt(this.options.pointLabels.callback,[e,r],this);return i||i===0?i:""}).filter((e,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?fM(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,r,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,r,i))}getIndexAngle(t){const e=st/(this._pointLabels.length||1),r=this.options.startAngle||0;return Lt(t*e+$t(r))}getDistanceFromCenterForValue(t){if(K(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(K(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const r=e[t];return SM(this.getContext(),t,r)}}getPointPosition(t,e,r=0){const i=this.getIndexAngle(t)-ht+r;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:r,right:i,bottom:s}=this._pointLabelItems[t];return{left:e,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),ng(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:r,grid:i,border:s}=e,o=this._pointLabels.length;let a,l,c;if(e.pointLabels.display&&wM(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),d=i.setContext(f),g=s.setContext(f);_M(this,d,l,o,g)}}),r.display){for(t.save(),a=o-1;a>=0;a--){const u=r.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,r=e.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;const c=r.setContext(this.getContext(l)),u=dt(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=St(c.backdropPadding);t.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}sn(t,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}const ji={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},kt=Object.keys(ji);function Cf(n,t){return n-t}function Rf(n,t){if(K(t))return null;const e=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),ct(o)||(o=typeof r=="string"?e.parse(o,r):e.parse(o)),o===null?null:(i&&(o=i==="week"&&(wn(s)||s===!0)?e.startOf(o,"isoWeek",s):e.startOf(o,i)),+o)}function Tf(n,t,e,r){const i=kt.length;for(let s=kt.indexOf(n);s<i-1;++s){const o=ji[kt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=r)return kt[s]}return kt[i-1]}function DM(n,t,e,r,i){for(let s=kt.length-1;s>=kt.indexOf(e);s--){const o=kt[s];if(ji[o].common&&n._adapter.diff(i,r,o)>=t-1)return o}return kt[e?kt.indexOf(e):0]}function EM(n){for(let t=kt.indexOf(n)+1,e=kt.length;t<e;++t)if(ji[kt[t]].common)return kt[t]}function Af(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:r,hi:i}=cl(e,t),s=e[r]>=t?e[r]:e[i];n[s]=!0}}function OM(n,t,e,r){const i=n._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=e[a],l>=0&&(t[l].major=!0);return t}function Lf(n,t,e){const r=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,r.push({value:a,major:!1});return s===0||!e?r:OM(n,r,i,e)}class Ea extends an{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const r=t.time||(t.time={}),i=this._adapter=new k_._date(t.adapters.date);i.init(e),Yn(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Rf(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=ct(i)&&!isNaN(i)?i:+e.startOf(Date.now(),r),s=ct(s)&&!isNaN(s)?s:+e.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],r=t[t.length-1]),{min:e,max:r}}buildTicks(){const t=this.options,e=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=Ux(i,s,o);return this._unit=e.unit||(r.autoSkip?Tf(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):DM(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:EM(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),Lf(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?e=1-i:e=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=mt(e,0,o),r=mt(r,0,o),this._offsets={start:e,end:r,factor:1/(e+1+r)}}_generate(){const t=this._adapter,e=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||Tf(s.minUnit,e,r,this._getLabelCapacity(e)),a=j(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=wn(l)||l===!0,u={};let h=e,f,d;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(r,e,o)>1e5*a)throw new Error(e+" and "+r+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,d=0;f<r;f=+t.add(f,a,o),d++)Af(u,f,g);return(f===r||i.bounds==="ticks"||d===1)&&Af(u,f,g),Object.keys(u).sort(Cf).map(p=>+p)}getLabelForValue(t){const e=this._adapter,r=this.options.time;return r.tooltipFormat?e.format(t,r.tooltipFormat):e.format(t,r.displayFormats.datetime)}format(t,e){const i=this.options.time.displayFormats,s=this._unit,o=e||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,e,r,i){const s=this.options,o=s.ticks.callback;if(o)return nt(o,[t,e,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=r[e],d=c&&h&&f&&f.major;return this._adapter.format(t,i||(d?h:u))}generateTickLabels(t){let e,r,i;for(e=0,r=t.length;e<r;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+r)*e.factor)}getValueForPixel(t){const e=this._offsets,r=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,r=this.ctx.measureText(t).width,i=$t(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(t){const e=this.options.time,r=e.displayFormats,i=r[e.unit]||r.millisecond,s=this._tickFormatFunction(t,0,Lf(this,[t],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],e,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,r=i.length;e<r;++e)t=t.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,r;if(t.length)return t;const i=this.getLabels();for(e=0,r=i.length;e<r;++e)t.push(Rf(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return pp(t.sort(Cf))}}function Ur(n,t,e){let r=0,i=n.length-1,s,o,a,l;e?(t>=n[r].pos&&t<=n[i].pos&&({lo:r,hi:i}=ce(n,"pos",t)),{pos:s,time:a}=n[r],{pos:o,time:l}=n[i]):(t>=n[r].time&&t<=n[i].time&&({lo:r,hi:i}=ce(n,"time",t)),{time:s,pos:a}=n[r],{time:o,pos:l}=n[i]);const c=o-s;return c?a+(l-a)*(t-s)/c:a}class kM extends Ea{static id="timeseries";static defaults=Ea.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Ur(e,this.min),this._tableRange=Ur(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=e&&c<=r&&i.push(c);if(i.length<2)return[{time:e,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const t=this.min,e=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(e)||r.length===1)&&r.push(e),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),r=this.getLabelTimestamps();return e.length&&r.length?t=this.normalize(e.concat(r)):t=e.length?e:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Ur(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,r=this.getDecimalForPixel(t)/e.factor-e.end;return Ur(this._table,r*this._tableRange+this._minPos,!0)}}var PM=Object.freeze({__proto__:null,CategoryScale:sM,LinearScale:aM,LogarithmicScale:uM,RadialLinearScale:MM,TimeScale:Ea,TimeSeriesScale:kM});const CM=[O_,o1,eM,PM];xl.register(...CM);const rg=6048e5,RM=864e5,If=Symbol.for("constructDateFrom");function fe(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&If in n?n[If](t):n instanceof Date?new n.constructor(t):new Date(t)}function Wt(n,t){return fe(t||n,n)}let TM={};function Vi(){return TM}function vr(n,t){const e=Vi(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,i=Wt(n,t?.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function xi(n,t){return vr(n,{...t,weekStartsOn:1})}function ig(n,t){const e=Wt(n,t?.in),r=e.getFullYear(),i=fe(e,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=xi(i),o=fe(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=xi(o);return e.getTime()>=s.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function Ff(n){const t=Wt(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function AM(n,...t){const e=fe.bind(null,t.find(r=>typeof r=="object"));return t.map(e)}function Nf(n,t){const e=Wt(n,t?.in);return e.setHours(0,0,0,0),e}function LM(n,t,e){const[r,i]=AM(e?.in,n,t),s=Nf(r),o=Nf(i),a=+s-Ff(s),l=+o-Ff(o);return Math.round((a-l)/RM)}function IM(n,t){const e=ig(n,t),r=fe(n,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),xi(r)}function FM(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function NM(n){return!(!FM(n)&&typeof n!="number"||isNaN(+Wt(n)))}function zM(n,t){const e=Wt(n,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const BM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},WM=(n,t,e)=>{let r;const i=BM[n];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+r:r+" ago":r};function oa(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const qM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$M={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},HM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jM={date:oa({formats:qM,defaultWidth:"full"}),time:oa({formats:$M,defaultWidth:"full"}),dateTime:oa({formats:HM,defaultWidth:"full"})},VM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},YM=(n,t,e,r)=>VM[n];function Fn(n){return(t,e)=>{const r=e?.context?String(e.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,a=e?.width?String(e.width):o;i=n.formattingValues[a]||n.formattingValues[o]}else{const o=n.defaultWidth,a=e?.width?String(e.width):n.defaultWidth;i=n.values[a]||n.values[o]}const s=n.argumentCallback?n.argumentCallback(t):t;return i[s]}}const UM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},KM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},JM=(n,t)=>{const e=Number(n),r=e%100;if(r>20||r<10)switch(r%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},tD={ordinalNumber:JM,era:Fn({values:UM,defaultWidth:"wide"}),quarter:Fn({values:KM,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Fn({values:XM,defaultWidth:"wide"}),day:Fn({values:GM,defaultWidth:"wide"}),dayPeriod:Fn({values:QM,defaultWidth:"wide",formattingValues:ZM,defaultFormattingWidth:"wide"})};function Nn(n){return(t,e={})=>{const r=e.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?nD(a,h=>h.test(o)):eD(a,h=>h.test(o));let c;c=n.valueCallback?n.valueCallback(l):l,c=e.valueCallback?e.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function eD(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function nD(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function rD(n){return(t,e={})=>{const r=t.match(n.matchPattern);if(!r)return null;const i=r[0],s=t.match(n.parsePattern);if(!s)return null;let o=n.valueCallback?n.valueCallback(s[0]):s[0];o=e.valueCallback?e.valueCallback(o):o;const a=t.slice(i.length);return{value:o,rest:a}}}const iD=/^(\d+)(th|st|nd|rd)?/i,sD=/\d+/i,oD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},aD={any:[/^b/i,/^(a|c)/i]},lD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cD={any:[/1/i,/2/i,/3/i,/4/i]},uD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mD={ordinalNumber:rD({matchPattern:iD,parsePattern:sD,valueCallback:n=>parseInt(n,10)}),era:Nn({matchPatterns:oD,defaultMatchWidth:"wide",parsePatterns:aD,defaultParseWidth:"any"}),quarter:Nn({matchPatterns:lD,defaultMatchWidth:"wide",parsePatterns:cD,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Nn({matchPatterns:uD,defaultMatchWidth:"wide",parsePatterns:hD,defaultParseWidth:"any"}),day:Nn({matchPatterns:fD,defaultMatchWidth:"wide",parsePatterns:dD,defaultParseWidth:"any"}),dayPeriod:Nn({matchPatterns:pD,defaultMatchWidth:"any",parsePatterns:gD,defaultParseWidth:"any"})},vD={code:"en-US",formatDistance:WM,formatLong:jM,formatRelative:YM,localize:tD,match:mD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bD(n,t){const e=Wt(n,t?.in);return LM(e,zM(e))+1}function yD(n,t){const e=Wt(n,t?.in),r=+xi(e)-+IM(e);return Math.round(r/rg)+1}function sg(n,t){const e=Wt(n,t?.in),r=e.getFullYear(),i=Vi(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=fe(t?.in||n,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=vr(o,t),l=fe(t?.in||n,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=vr(l,t);return+e>=+a?r+1:+e>=+c?r:r-1}function xD(n,t){const e=Vi(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,i=sg(n,t),s=fe(t?.in||n,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),vr(s,t)}function wD(n,t){const e=Wt(n,t?.in),r=+vr(e,t)-+xD(e,t);return Math.round(r/rg)+1}function Q(n,t){const e=n<0?"-":"",r=Math.abs(n).toString().padStart(t,"0");return e+r}const we={y(n,t){const e=n.getFullYear(),r=e>0?e:1-e;return Q(t==="yy"?r%100:r,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):Q(e+1,2)},d(n,t){return Q(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(n,t){return Q(n.getHours()%12||12,t.length)},H(n,t){return Q(n.getHours(),t.length)},m(n,t){return Q(n.getMinutes(),t.length)},s(n,t){return Q(n.getSeconds(),t.length)},S(n,t){const e=t.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,e-3));return Q(i,t.length)}},hn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zf={G:function(n,t,e){const r=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(r,{width:"abbreviated"});case"GGGGG":return e.era(r,{width:"narrow"});case"GGGG":default:return e.era(r,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return e.ordinalNumber(i,{unit:"year"})}return we.y(n,t)},Y:function(n,t,e,r){const i=sg(n,r),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return Q(o,2)}return t==="Yo"?e.ordinalNumber(s,{unit:"year"}):Q(s,t.length)},R:function(n,t){const e=ig(n);return Q(e,t.length)},u:function(n,t){const e=n.getFullYear();return Q(e,t.length)},Q:function(n,t,e){const r=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Q(r,2);case"Qo":return e.ordinalNumber(r,{unit:"quarter"});case"QQQ":return e.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,t,e){const r=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Q(r,2);case"qo":return e.ordinalNumber(r,{unit:"quarter"});case"qqq":return e.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,t,e){const r=n.getMonth();switch(t){case"M":case"MM":return we.M(n,t);case"Mo":return e.ordinalNumber(r+1,{unit:"month"});case"MMM":return e.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(r,{width:"wide",context:"formatting"})}},L:function(n,t,e){const r=n.getMonth();switch(t){case"L":return String(r+1);case"LL":return Q(r+1,2);case"Lo":return e.ordinalNumber(r+1,{unit:"month"});case"LLL":return e.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(r,{width:"wide",context:"standalone"})}},w:function(n,t,e,r){const i=wD(n,r);return t==="wo"?e.ordinalNumber(i,{unit:"week"}):Q(i,t.length)},I:function(n,t,e){const r=yD(n);return t==="Io"?e.ordinalNumber(r,{unit:"week"}):Q(r,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):we.d(n,t)},D:function(n,t,e){const r=bD(n);return t==="Do"?e.ordinalNumber(r,{unit:"dayOfYear"}):Q(r,t.length)},E:function(n,t,e){const r=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(r,{width:"short",context:"formatting"});case"EEEE":default:return e.day(r,{width:"wide",context:"formatting"})}},e:function(n,t,e,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Q(s,2);case"eo":return e.ordinalNumber(s,{unit:"day"});case"eee":return e.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(i,{width:"short",context:"formatting"});case"eeee":default:return e.day(i,{width:"wide",context:"formatting"})}},c:function(n,t,e,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Q(s,t.length);case"co":return e.ordinalNumber(s,{unit:"day"});case"ccc":return e.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(i,{width:"narrow",context:"standalone"});case"cccccc":return e.day(i,{width:"short",context:"standalone"});case"cccc":default:return e.day(i,{width:"wide",context:"standalone"})}},i:function(n,t,e){const r=n.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Q(i,t.length);case"io":return e.ordinalNumber(i,{unit:"day"});case"iii":return e.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(r,{width:"short",context:"formatting"});case"iiii":default:return e.day(r,{width:"wide",context:"formatting"})}},a:function(n,t,e){const i=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,t,e){const r=n.getHours();let i;switch(r===12?i=hn.noon:r===0?i=hn.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,t,e){const r=n.getHours();let i;switch(r>=17?i=hn.evening:r>=12?i=hn.afternoon:r>=4?i=hn.morning:i=hn.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let r=n.getHours()%12;return r===0&&(r=12),e.ordinalNumber(r,{unit:"hour"})}return we.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):we.H(n,t)},K:function(n,t,e){const r=n.getHours()%12;return t==="Ko"?e.ordinalNumber(r,{unit:"hour"}):Q(r,t.length)},k:function(n,t,e){let r=n.getHours();return r===0&&(r=24),t==="ko"?e.ordinalNumber(r,{unit:"hour"}):Q(r,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):we.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):we.s(n,t)},S:function(n,t){return we.S(n,t)},X:function(n,t,e){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Wf(r);case"XXXX":case"XX":return Ve(r);case"XXXXX":case"XXX":default:return Ve(r,":")}},x:function(n,t,e){const r=n.getTimezoneOffset();switch(t){case"x":return Wf(r);case"xxxx":case"xx":return Ve(r);case"xxxxx":case"xxx":default:return Ve(r,":")}},O:function(n,t,e){const r=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Bf(r,":");case"OOOO":default:return"GMT"+Ve(r,":")}},z:function(n,t,e){const r=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Bf(r,":");case"zzzz":default:return"GMT"+Ve(r,":")}},t:function(n,t,e){const r=Math.trunc(+n/1e3);return Q(r,t.length)},T:function(n,t,e){return Q(+n,t.length)}};function Bf(n,t=""){const e=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),s=r%60;return s===0?e+String(i):e+String(i)+t+Q(s,2)}function Wf(n,t){return n%60===0?(n>0?"-":"+")+Q(Math.abs(n)/60,2):Ve(n,t)}function Ve(n,t=""){const e=n>0?"-":"+",r=Math.abs(n),i=Q(Math.trunc(r/60),2),s=Q(r%60,2);return e+i+t+s}const qf=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},og=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},_D=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],r=e[1],i=e[2];if(!i)return qf(n,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",qf(r,t)).replace("{{time}}",og(i,t))},SD={p:og,P:_D},MD=/^D+$/,DD=/^Y+$/,ED=["D","DD","YY","YYYY"];function OD(n){return MD.test(n)}function kD(n){return DD.test(n)}function PD(n,t,e){const r=CD(n,t,e);if(console.warn(r),ED.includes(n))throw new RangeError(r)}function CD(n,t,e){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${r} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const RD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,AD=/^'([^]*?)'?$/,LD=/''/g,ID=/[a-zA-Z]/;function $f(n,t,e){const r=Vi(),i=r.locale??vD,s=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Wt(n,e?.in);if(!NM(a))throw new RangeError("Invalid time value");let l=t.match(TD).map(u=>{const h=u[0];if(h==="p"||h==="P"){const f=SD[h];return f(u,i.formatLong)}return u}).join("").match(RD).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:FD(u)};if(zf[h])return{isToken:!0,value:u};if(h.match(ID))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const h=u.value;(kD(h)||OD(h))&&PD(h,t,String(n));const f=zf[h[0]];return f(a,h,i.localize,c)}).join("")}function FD(n){const t=n.match(AD);return t?t[1].replace(LD,"'"):n}function ND(n,t){const e=Wt(n,t?.in),r=e.getFullYear(),i=e.getMonth(),s=fe(e,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}const zD=()=>{const n=q.useRef(null),t=q.useRef(null),[e,r]=q.useState(new Date),[i,s]=q.useState(0),{data:o,isLoading:a}=ug();q.useEffect(()=>{if(!n.current)return;t.current&&t.current.destroy();const u=n.current.getContext("2d"),h=ND(e),f=Array.from({length:h},()=>0);o&&!a&&o.forEach(g=>{const p=new Date(g.createdAt);if(p.getFullYear()===e.getFullYear()&&p.getMonth()===e.getMonth()){const m=p.getDate()-1;f[m]+=1}});const d=f.map(g=>g>=i?g:null);return t.current=new xl(u,{type:"line",data:{labels:Array.from({length:h},(g,p)=>p+1),datasets:[{label:"Number of Inquiries",data:d,borderColor:"rgb(173, 126, 230)",tension:.1,fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:`Inquiries for ${$f(e,"MMMM yyyy")}`}},scales:{x:{title:{display:!0,text:"Day of the Month"}},y:{beginAtZero:!0,title:{display:!0,text:"Number of Inquiries"}}}}}),()=>{t.current&&t.current.destroy()}},[e,i,o,a]);const l=u=>{const[h,f]=u.target.value.split("-");r(new Date(h,f-1))},c=u=>{s(parseInt(u.target.value,10))};return z.jsxs("div",{className:"w-full mt-10 p-4",children:[z.jsx("h2",{className:"text-lg text-purple-800 mb-5 pb-1 font-semibold border-b border-purple-800",children:"Monthly Inquiries"}),z.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[z.jsx("input",{type:"month",value:$f(e,"yyyy-MM"),onChange:l,className:"border rounded p-2"}),z.jsxs("div",{children:[z.jsx("label",{htmlFor:"minInquiries",className:"mr-2",children:"Min Inquiries:"}),z.jsx("input",{type:"number",id:"minInquiries",value:i,onChange:c,min:"0",className:"border rounded p-2 w-20"})]})]}),z.jsx("div",{className:"w-full",style:{height:"60vh"},children:a?z.jsx("p",{children:"Loading inquiries..."}):z.jsx("canvas",{ref:n})})]})},eE=()=>z.jsxs("div",{children:[z.jsx(Rg,{}),z.jsx(ux,{}),z.jsx(zD,{})]});export{eE as default};
