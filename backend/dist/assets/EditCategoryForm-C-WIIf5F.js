import{j as e}from"./main-DeRxjK88.js";import{g as a,d as t,r as l}from"./vendor-router-Bu4EHm1B.js";import{a as s}from"./vendor-utils-BfOc9lHv.js";import"./vendor-react-CI5aWZjI.js";const o=()=>{const{categoryId:o,subCategoryId:r,subSubCategoryId:n}=a(),c=t(),[i,d]=l.useState(""),[u,m]=l.useState(""),[b,p]=l.useState(""),[h,g]=l.useState(""),[x,y]=l.useState(""),[f,j]=l.useState(""),[v,N]=l.useState(""),[C,w]=l.useState(""),[S,F]=l.useState(""),[k,I]=l.useState(""),[$,q]=l.useState(""),[M,L]=l.useState(""),[D,E]=l.useState(""),[T,A]=l.useState(""),[U,z]=l.useState(),[R,O]=l.useState(),[P,B]=l.useState(0),[H,K]=l.useState("active");l.useEffect((()=>{(async()=>{let e="";o&&r&&n?e=`/api/chemicalCategory/getSpecificSubSubcategory?categoryId=${o}&subCategoryId=${r}&subSubCategoryId=${n}`:o&&r?e=`/api/chemicalCategory/getSpecificSubcategory?categoryId=${o}&subCategoryId=${r}`:o&&(e=`/api/chemicalCategory/getSpecificCategoryById?categoryId=${o}`);try{const a=await s.get(e,{withCredentials:!0}),{category:t,details:l,photo:o,alt:r,imgtitle:n,slug:c,metatitle:i,metadescription:u,metakeywords:m,metalanguage:b,metacanonical:h,metaschema:x,otherMeta:f,changeFreq:v,priority:C}=a.data;d(t),j(o),p(r),g(n),N(c),K(H),y(l),w(i),F(u),I(m),q(b),L(h),E(x),A(f),O(v),B(C)}catch(a){}})()}),[o,r,n]);l.useEffect((()=>{z(`https://rndtechnosoft.com/${v}`)}),[v,o,r]),l.useEffect((()=>{N(i.replace(/\s+/g,"-").toLowerCase().replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""))}),[i]),l.useEffect((()=>{N(v.toLowerCase().replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-"))}),[v]);return e.jsxs("form",{onSubmit:async e=>{e.preventDefault();let a="";o&&r&&n?a=`/api/chemicalCategory/updatesubsubcategory?categoryId=${o}&subCategoryId=${r}&subSubCategoryId=${n}`:o&&r?a=`/api/chemicalCategory/updateSubCategory?categoryId=${o}&subCategoryId=${r}`:o&&(a=`/api/chemicalCategory/updateCategory?categoryId=${o}`);const t=new FormData;t.append("category",i),t.append("alt",b),t.append("imgtitle",h),t.append("slug",v),t.append("metatitle",C||""),t.append("metakeywords",k||""),t.append("metadescription",S||""),t.append("metalanguage",$||""),t.append("metacanonical",M||""),t.append("metaschema",D||""),t.append("otherMeta",T||""),t.append("url",U),t.append("changeFreq",R||""),t.append("priority",P),t.append("status",H),t.append("details",x),u&&t.append("photo",u);try{await s.put(a,t,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}});c("/chemical-category")}catch(l){alert(l.response?l.response.data.error:"An error occurred")}},className:"p-4",children:[e.jsx("h1",{className:"text-xl font-bold font-serif text-gray-700 uppercase text-center",children:"Edit Category"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"category",className:"block font-semibold mb-2",children:"Category"}),e.jsx("input",{type:"text",id:"category",value:i,onChange:e=>d(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{htmlFor:"photo",className:"block font-semibold mb-2",children:"Photo"}),e.jsx("input",{type:"file",name:"photo",id:"photo",onChange:e=>{const a=e.target.files[0];m(a)},className:"border rounded focus:outline-none",accept:"image/*"}),(u||f)&&e.jsxs("div",{className:"mt-2 w-56 relative group",children:[e.jsx("img",{src:u?URL.createObjectURL(u):`/api/logo/download/${f}`,alt:b||"Category Image",className:"h-32 w-56 object-cover"}),e.jsx("button",{type:"button",onClick:()=>{m(""),p(""),g("")},className:"absolute top-4 right-2 bg-red-500 text-white rounded-md p-1 size-6 flex items-center justify-center hover:bg-red-600 focus:outline-none",children:"X"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"alt",className:"block font-semibold mb-2",children:"Alternative Text"}),e.jsx("input",{type:"text",id:"alt",value:b,onChange:e=>p(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"imgtitle",className:"block font-semibold mb-2",children:"Image Title Text"}),e.jsx("input",{type:"text",id:"imgtitle",value:h,onChange:e=>g(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"imgtitle",className:"block font-semibold mb-2",children:"Details"}),e.jsx("textarea",{type:"text",id:"details",value:x,onChange:e=>y(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-4 mt-4",children:[e.jsx("label",{htmlFor:"slug",className:"block font-semibold mb-2",children:"Slug"}),e.jsx("input",{type:"text",id:"slug",value:v,onChange:e=>N(e.target.value),className:"w-full p-2 border rounded focus:outline-none"})]}),e.jsxs("div",{className:"mb-4 mt-4",children:[e.jsx("label",{htmlFor:"url",className:"block font-semibold mb-2",children:"URL"}),e.jsx("input",{type:"text",id:"url",value:U,disabled:!0,className:"w-full p-2 border rounded focus:outline-none"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Title"}),e.jsx("textarea",{id:"meta",value:C,onChange:e=>w(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Description"}),e.jsx("textarea",{id:"meta",value:S,onChange:e=>F(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Keywords"}),e.jsx("textarea",{id:"meta",value:k,onChange:e=>I(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Canonical"}),e.jsx("textarea",{id:"meta",value:M,onChange:e=>L(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Language"}),e.jsx("textarea",{id:"meta",value:$,onChange:e=>q(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Other Meta"}),e.jsx("textarea",{id:"meta",value:T,onChange:e=>A(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Schema"}),e.jsx("textarea",{id:"meta",value:D,onChange:e=>E(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"priority",className:"block font-semibold mb-2",children:"Priority"}),e.jsx("input",{type:"number",id:"priority",min:0,max:1,step:.01,value:P,onChange:e=>B(e.target.value),className:"w-full p-2 border rounded focus:outline-none"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"changeFreq",className:"block font-semibold mb-2",children:"Change Frequency"}),e.jsxs("select",{id:"changeFreq",value:R,onChange:e=>O(e.target.value),className:"w-full p-2 border rounded focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Change Frequency"}),e.jsx("option",{value:"always",children:"Always"}),e.jsx("option",{value:"hourly",children:"Hourly"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"status",className:"block font-semibold mb-2",children:"Status"}),e.jsxs("select",{id:"status",value:H,onChange:e=>K(e.target.value),className:"w-full p-2 border rounded focus:outline-none",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Update Category"})]})};export{o as default};
//# sourceMappingURL=EditCategoryForm-C-WIIf5F.js.map
