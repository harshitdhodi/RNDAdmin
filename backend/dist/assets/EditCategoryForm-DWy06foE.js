import{r as e,j as a}from"./react-BfBsRgn0.js";import{a as t}from"./axios-BoylL8Pu.js";import{b as l,a as s}from"./react-router-DUJjWq5j.js";import"./classnames-C3ovBj6j.js";import"./cookie-BUTH-fPQ.js";import"./react-dom-DwrudmHt.js";import"./scheduler-BFk34ZWe.js";const o=()=>{const{categoryId:o,subCategoryId:r,subSubCategoryId:n}=l(),c=s(),[i,d]=e.useState(""),[u,m]=e.useState(""),[b,p]=e.useState(""),[h,g]=e.useState(""),[x,y]=e.useState(""),[f,j]=e.useState(""),[v,N]=e.useState(""),[C,w]=e.useState(""),[S,F]=e.useState(""),[k,I]=e.useState(""),[$,q]=e.useState(""),[M,L]=e.useState(""),[D,E]=e.useState(""),[T,z]=e.useState(""),[A,U]=e.useState(),[R,O]=e.useState(),[P,W]=e.useState(0),[B,H]=e.useState("active");e.useEffect((()=>{(async()=>{let e="";o&&r&&n?e=`/api/chemicalCategory/getSpecificSubSubcategory?categoryId=${o}&subCategoryId=${r}&subSubCategoryId=${n}`:o&&r?e=`/api/chemicalCategory/getSpecificSubcategory?categoryId=${o}&subCategoryId=${r}`:o&&(e=`/api/chemicalCategory/getSpecificCategoryById?categoryId=${o}`);try{const a=await t.get(e,{withCredentials:!0}),{category:l,details:s,photo:o,alt:r,imgtitle:n,slug:c,metatitle:i,metadescription:u,metakeywords:m,metalanguage:b,metacanonical:h,metaschema:x,otherMeta:f,changeFreq:v,priority:C}=a.data;d(l),j(o),p(r),g(n),N(c),H(B),y(s),w(i),F(u),I(m),q(b),L(h),E(x),z(f),O(v),W(C)}catch(a){}})()}),[o,r,n]);e.useEffect((()=>{U(`https://rndtechnosoft.com/${v}`)}),[v,o,r]),e.useEffect((()=>{N(i.replace(/\s+/g,"-").toLowerCase().replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""))}),[i]),e.useEffect((()=>{N(v.toLowerCase().replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-"))}),[v]);return a.jsxs("form",{onSubmit:async e=>{e.preventDefault();let a="";o&&r&&n?a=`/api/chemicalCategory/updatesubsubcategory?categoryId=${o}&subCategoryId=${r}&subSubCategoryId=${n}`:o&&r?a=`/api/chemicalCategory/updateSubCategory?categoryId=${o}&subCategoryId=${r}`:o&&(a=`/api/chemicalCategory/updateCategory?categoryId=${o}`);const l=new FormData;l.append("category",i),l.append("alt",b),l.append("imgtitle",h),l.append("slug",v),l.append("metatitle",C||""),l.append("metakeywords",k||""),l.append("metadescription",S||""),l.append("metalanguage",$||""),l.append("metacanonical",M||""),l.append("metaschema",D||""),l.append("otherMeta",T||""),l.append("url",A),l.append("changeFreq",R||""),l.append("priority",P),l.append("status",B),l.append("details",x),u&&l.append("photo",u);try{await t.put(a,l,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}});c("/chemical-category")}catch(s){alert(s.response?s.response.data.error:"An error occurred")}},className:"p-4",children:[a.jsx("h1",{className:"text-xl font-bold font-serif text-gray-700 uppercase text-center",children:"Edit Category"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"category",className:"block font-semibold mb-2",children:"Category"}),a.jsx("input",{type:"text",id:"category",value:i,onChange:e=>d(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("label",{htmlFor:"photo",className:"block font-semibold mb-2",children:"Photo"}),a.jsx("input",{type:"file",name:"photo",id:"photo",onChange:e=>{const a=e.target.files[0];m(a)},className:"border rounded focus:outline-none",accept:"image/*"}),(u||f)&&a.jsxs("div",{className:"mt-2 w-56 relative group",children:[a.jsx("img",{src:u?URL.createObjectURL(u):`/api/logo/download/${f}`,alt:b||"Category Image",className:"h-32 w-56 object-cover"}),a.jsx("button",{type:"button",onClick:()=>{m(""),p(""),g("")},className:"absolute top-4 right-2 bg-red-500 text-white rounded-md p-1 size-6 flex items-center justify-center hover:bg-red-600 focus:outline-none",children:"X"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"alt",className:"block font-semibold mb-2",children:"Alternative Text"}),a.jsx("input",{type:"text",id:"alt",value:b,onChange:e=>p(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"imgtitle",className:"block font-semibold mb-2",children:"Image Title Text"}),a.jsx("input",{type:"text",id:"imgtitle",value:h,onChange:e=>g(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"imgtitle",className:"block font-semibold mb-2",children:"Details"}),a.jsx("textarea",{type:"text",id:"details",value:x,onChange:e=>y(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),a.jsxs("div",{className:"mb-4 mt-4",children:[a.jsx("label",{htmlFor:"slug",className:"block font-semibold mb-2",children:"Slug"}),a.jsx("input",{type:"text",id:"slug",value:v,onChange:e=>N(e.target.value),className:"w-full p-2 border rounded focus:outline-none"})]}),a.jsxs("div",{className:"mb-4 mt-4",children:[a.jsx("label",{htmlFor:"url",className:"block font-semibold mb-2",children:"URL"}),a.jsx("input",{type:"text",id:"url",value:A,disabled:!0,className:"w-full p-2 border rounded focus:outline-none"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Title"}),a.jsx("textarea",{id:"meta",value:C,onChange:e=>w(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Description"}),a.jsx("textarea",{id:"meta",value:S,onChange:e=>F(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Keywords"}),a.jsx("textarea",{id:"meta",value:k,onChange:e=>I(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Canonical"}),a.jsx("textarea",{id:"meta",value:M,onChange:e=>L(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Language"}),a.jsx("textarea",{id:"meta",value:$,onChange:e=>q(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Other Meta"}),a.jsx("textarea",{id:"meta",value:T,onChange:e=>z(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Schema"}),a.jsx("textarea",{id:"meta",value:D,onChange:e=>E(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"priority",className:"block font-semibold mb-2",children:"Priority"}),a.jsx("input",{type:"number",id:"priority",min:0,max:1,step:.01,value:P,onChange:e=>W(e.target.value),className:"w-full p-2 border rounded focus:outline-none"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"changeFreq",className:"block font-semibold mb-2",children:"Change Frequency"}),a.jsxs("select",{id:"changeFreq",value:R,onChange:e=>O(e.target.value),className:"w-full p-2 border rounded focus:outline-none",children:[a.jsx("option",{value:"",children:"Select Change Frequency"}),a.jsx("option",{value:"always",children:"Always"}),a.jsx("option",{value:"hourly",children:"Hourly"}),a.jsx("option",{value:"daily",children:"Daily"}),a.jsx("option",{value:"weekly",children:"Weekly"}),a.jsx("option",{value:"monthly",children:"Monthly"}),a.jsx("option",{value:"yearly",children:"Yearly"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"status",className:"block font-semibold mb-2",children:"Status"}),a.jsxs("select",{id:"status",value:B,onChange:e=>H(e.target.value),className:"w-full p-2 border rounded focus:outline-none",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]}),a.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Update Category"})]})};export{o as default};
