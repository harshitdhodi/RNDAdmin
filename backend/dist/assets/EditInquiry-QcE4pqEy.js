import{bd as e,be as s,ba as a,j as r,I as i,B as l}from"./main-DeRxjK88.js";import{g as n,d as t,r as d}from"./vendor-router-Bu4EHm1B.js";import{b as m}from"./index.esm-C1PzQRG-.js";import{S as o,a as c,b as j,c as x,d as h}from"./select-Dqodnixf.js";import{F as u,a as p,b,c as f,d as y,e as g}from"./form-DduRHWMV.js";import{t as v,o as N,s as q}from"./index-Db_ZYzj8.js";import{B as I}from"./BreadCrumb-PqVNrGAD.js";import"./vendor-react-CI5aWZjI.js";import"./vendor-utils-BfOc9lHv.js";import"./Combination-CNfQ0noH.js";import"./index-Kj7Vjsi3.js";import"./check-CVm68GV7.js";import"./chevron-up-3rt5hBY6.js";import"./chevron-right-YTRb9aqn.js";const E=[{label:"Dashboard",href:"/dashboard"},{label:"Inquiry Table",href:"/inquiry-list"},{label:"Inquiry Form",href:null}],C=N({companyName:q().min(2,{message:"Company name must be at least 2 characters"}),name:q().min(2,{message:"Full name must be at least 2 characters"}),email:q().email({message:"Invalid email address"}),mobile:q().regex(/^[0-9]{10}$/,{message:"Mobile number must be 10 digits"}),address:q().min(2,{message:"Address must be at least 2 characters"}),status:q({required_error:"Please select a status"})});function F({onClose:N}){const{id:q}=n(),F=t(),{data:w,isLoading:S}=e(q),[L,{isLoading:B}]=s(),{data:U,isLoading:V}=a(),_=m({resolver:v(C),defaultValues:{companyName:"",name:"",email:"",mobile:"",address:"",status:"New Inquiry"}});d.useEffect((()=>{w&&_.reset({companyName:w.companyName||"",name:w.name||"",email:w.email||"",mobile:w.mobile||"",address:w.address||"",status:w.status||"New Inquiry"})}),[w,_]);return S?r.jsx("div",{children:"Loading..."}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"ml-1",children:r.jsx(I,{items:E})}),r.jsx(u,{..._,children:r.jsxs("form",{onSubmit:_.handleSubmit((async e=>{try{await L({id:q,...e}).unwrap();_.reset(),F("/inquiry-list")}catch(s){alert({title:"Error",description:s?.data?.message||"Failed to update inquiry",variant:"destructive"})}})),className:"space-y-4 p-4",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Update Inquiry"}),r.jsx(p,{control:_.control,name:"companyName",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Company Name"}),r.jsx(y,{children:r.jsx(i,{placeholder:"Enter company name",...e})}),r.jsx(g,{})]})}),r.jsx(p,{control:_.control,name:"name",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Full Name"}),r.jsx(y,{children:r.jsx(i,{placeholder:"Enter full name",...e})}),r.jsx(g,{})]})}),r.jsx(p,{control:_.control,name:"email",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Email"}),r.jsx(y,{children:r.jsx(i,{type:"email",placeholder:"Enter email",...e})}),r.jsx(g,{})]})}),r.jsx(p,{control:_.control,name:"mobile",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Mobile Number"}),r.jsx(y,{children:r.jsx(i,{type:"tel",placeholder:"Enter 10-digit mobile",...e})}),r.jsx(g,{})]})}),r.jsx(p,{control:_.control,name:"address",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Address"}),r.jsx(y,{children:r.jsx(i,{placeholder:"Enter address",...e})}),r.jsx(g,{})]})}),r.jsx(p,{control:_.control,name:"status",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Status"}),r.jsxs(o,{onValueChange:e.onChange,defaultValue:e.value,children:[r.jsx(y,{children:r.jsx(c,{children:r.jsx(j,{placeholder:"Select status"})})}),r.jsx(x,{children:U?.data?.map((e=>r.jsx(h,{value:e.status,children:e.status},e._id)))})]}),r.jsx(g,{})]})}),r.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:r.jsx(l,{type:"submit",disabled:B,children:B?"Updating...":"Update Inquiry"})})]})})]})}export{F as default};
//# sourceMappingURL=EditInquiry-QcE4pqEy.js.map
