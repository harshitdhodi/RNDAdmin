{"version":3,"file":"EmailCategoryParent-49EtM72A.js","sources":["../../src/email/emailCategory/EmailCategory.jsx","../../src/email/emailCategory/emailCategoryForm.jsx","../../src/email/emailCategory/EmailCategoryParent.jsx"],"sourcesContent":["'use client'\r\n\r\nimport React from 'react'\r\nimport { Table } from '@/components/ui/table'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card } from '@/components/ui/card'\r\nimport { Trash2, Pencil } from 'lucide-react'\r\nimport { useGetEmailCategoriesQuery, useDeleteEmailCategoryMutation } from '@/slice/emailCategory/emailCategory'\r\nimport { AlertDialog, AlertDialogTrigger, AlertDialogContent, AlertDialogHeader, AlertDialogFooter, AlertDialogCancel, AlertDialogAction } from '@/components/ui/alert-dialog'\r\nimport { toast } from 'react-toastify'\r\n\r\nconst EmailCategoryTable = ({ onEditClick }) => {\r\n  const { data: categories, isLoading } = useGetEmailCategoriesQuery()\r\n  const [deleteCategory] = useDeleteEmailCategoryMutation()\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await deleteCategory(id).unwrap()\r\n      toast({ title: 'Success', description: 'Category deleted successfully' })\r\n    } catch (error) {\r\n      toast({ title: 'Error', description: 'Failed to delete category', variant: 'destructive' })\r\n    }\r\n  }\r\n\r\n  const columns = [\r\n    {\r\n      header: 'Category Name',\r\n      accessorKey: 'emailCategory',\r\n    },\r\n    {\r\n      header: 'Actions',\r\n      accessorKey: 'actions',\r\n      cell: ({ row }) => (\r\n        <div className='flex gap-2'>\r\n          <Button size='icon' variant='secondary' onClick={() => onEditClick(row.original)}>\r\n            <Pencil className='h-4 w-4' />\r\n          </Button>\r\n          <AlertDialog>\r\n            <AlertDialogTrigger asChild>\r\n              <Button size='icon' variant='destructive'>\r\n                <Trash2 className='h-4 w-4' />\r\n              </Button>\r\n            </AlertDialogTrigger>\r\n            <AlertDialogContent>\r\n              <AlertDialogHeader>\r\n                Are you sure you want to delete this category?\r\n              </AlertDialogHeader>\r\n              <AlertDialogFooter>\r\n                <AlertDialogCancel>Cancel</AlertDialogCancel>\r\n                <AlertDialogAction onClick={() => handleDelete(row.original._id)}>Delete</AlertDialogAction>\r\n              </AlertDialogFooter>\r\n            </AlertDialogContent>\r\n          </AlertDialog>\r\n        </div>\r\n      ),\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <Card className='p-5 space-y-4'>\r\n      <Table columns={columns} data={categories || []} isLoading={isLoading} />\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default EmailCategoryTable\r\n","'use client'\r\n\r\nimport React, { useEffect } from 'react'\r\nimport { Dialog, DialogTrigger, DialogContent, DialogHeader, DialogFooter, DialogTitle } from '@/components/ui/dialog'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Form, FormField, FormItem, FormLabel, FormControl } from '@/components/ui/form'\r\nimport { useToast } from 'react-toastify'\r\nimport { useCreateEmailCategoryMutation, useUpdateEmailCategoryMutation } from '@/slice/emailCategory/emailCategory'\r\nimport { useForm } from 'react-hook-form'\r\n\r\nconst EmailCategoryForm = ({ visible, onClose, editingCategory }) => {\r\n\r\n  const [createCategory] = useCreateEmailCategoryMutation()\r\n  const [updateCategory] = useUpdateEmailCategoryMutation()\r\n  const form = useForm({\r\n    defaultValues: { emailCategory: editingCategory?.emailCategory || '' },\r\n  })\r\n\r\n  useEffect(() => {\r\n    form.reset({ emailCategory: editingCategory?.emailCategory || '' })\r\n  }, [editingCategory, form])\r\n\r\n  const handleSubmit = async (values) => {\r\n    try {\r\n      if (editingCategory) {\r\n        await updateCategory({ id: editingCategory._id, data: values }).unwrap()\r\n        toast({ title: 'Success', description: 'Category updated successfully' })\r\n      } else {\r\n        await createCategory(values).unwrap()\r\n        toast({ title: 'Success', description: 'Category created successfully' })\r\n      }\r\n      onClose()\r\n    } catch (error) {\r\n      toast({ title: 'Error', description: 'Failed to save category', variant: 'destructive' })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog open={visible} onOpenChange={onClose}>\r\n      <DialogContent>\r\n        <DialogHeader>\r\n          <DialogTitle>{editingCategory ? 'Edit Category' : 'Add New Category'}</DialogTitle>\r\n        </DialogHeader>\r\n        <Form {...form}>\r\n          <form onSubmit={form.handleSubmit(handleSubmit)} className='space-y-4'>\r\n            <FormField\r\n              control={form.control}\r\n              name='emailCategory'\r\n              rules={{ required: 'Please enter category name' }}\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Category Name</FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder='Enter category name' {...field} />\r\n                  </FormControl>\r\n                </FormItem>\r\n              )}\r\n            />\r\n            <DialogFooter>\r\n              <Button type='button' variant='secondary' onClick={onClose}>Cancel</Button>\r\n              <Button type='submit'>Save</Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </Form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nexport default EmailCategoryForm\r\n","'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { Card } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Plus } from 'lucide-react'\r\nimport EmailCategoryTable from './EmailCategory'\r\nimport EmailCategoryForm from './emailCategoryForm'\r\n\r\nconst EmailCategoryParent = () => {\r\n  const [isModalVisible, setIsModalVisible] = useState(false)\r\n  const [editingCategory, setEditingCategory] = useState(null)\r\n\r\n  const handleAddNew = () => {\r\n    setEditingCategory(null)\r\n    setIsModalVisible(true)\r\n  }\r\n\r\n  const handleEditClick = (category) => {\r\n    setEditingCategory(category)\r\n    setIsModalVisible(true)\r\n  }\r\n\r\n  const handleModalClose = () => {\r\n    setIsModalVisible(false)\r\n    setEditingCategory(null)\r\n  }\r\n\r\n  return (\r\n    <Card className='p-5 space-y-4'>\r\n      <div className='flex justify-between items-center'>\r\n        <h2 className='text-xl font-semibold'>Email Categories</h2>\r\n        <Button onClick={handleAddNew}>\r\n          <Plus className='h-4 w-4 mr-2' /> Add New Category\r\n        </Button>\r\n      </div>\r\n\r\n      <EmailCategoryTable onEditClick={handleEditClick} />\r\n\r\n      {isModalVisible && (\r\n        <EmailCategoryForm\r\n          visible={isModalVisible}\r\n          onClose={handleModalClose}\r\n          editingCategory={editingCategory}\r\n        />\r\n      )}\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default EmailCategoryParent\r\n"],"names":["EmailCategoryTable","onEditClick","data","categories","isLoading","useGetEmailCategoriesQuery","deleteCategory","useDeleteEmailCategoryMutation","columns","header","accessorKey","cell","row","jsxs","className","children","jsx","Button","size","variant","onClick","original","Pencil","AlertDialog","AlertDialogTrigger","asChild","Trash2","AlertDialogContent","AlertDialogHeader","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","async","id","unwrap","toast","title","description","error","handleDelete","_id","Card","Table","EmailCategoryForm","visible","onClose","editingCategory","createCategory","useCreateEmailCategoryMutation","updateCategory","useUpdateEmailCategoryMutation","form","useForm","defaultValues","emailCategory","useEffect","reset","Dialog","open","onOpenChange","DialogContent","DialogHeader","DialogTitle","Form","onSubmit","handleSubmit","values","FormField","control","name","rules","required","render","field","FormItem","FormLabel","FormControl","Input","placeholder","DialogFooter","type","EmailCategoryParent","isModalVisible","setIsModalVisible","useState","setEditingCategory","Plus","category"],"mappings":"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"}