import{b1 as e,bW as t,j as i,bX as r,bY as o}from"./main-DeRxjK88.js";import{r as s}from"./vendor-router-Bu4EHm1B.js";import{F as a}from"./Table-BZaWXI2p.js";import{S as n}from"./index-DoSF0nZj.js";import{B as l}from"./index-lUiyPlMq.js";import{R as m}from"./EditOutlined-hcgcOCju.js";import{P as d}from"./index-BPSI1-Ia.js";import{R as c}from"./DeleteOutlined-BpoFncVM.js";import{s as p}from"./index-lMP3hCbg.js";import{F as j}from"./index--6LMyILo.js";import{M as u}from"./index-BeYydUON.js";import{I as y}from"./index-BrOIVdwD.js";import{C as x}from"./index-ZcF9gzk5.js";import{R as g}from"./PlusOutlined-5v_q8HFA.js";import"./vendor-react-CI5aWZjI.js";import"./vendor-utils-BfOc9lHv.js";import"./toArray-DkI11MDQ.js";import"./addEventListener-BUKQhVN_.js";import"./index-j6PXCaBg.js";import"./EllipsisOutlined-L4j7-ai9.js";import"./dropdown-B7KEEEnN.js";import"./getAllowClear-exXUluB6.js";import"./CheckOutlined-3fI3nOal.js";import"./Input-BufppJmu.js";import"./index-VFidPMY_.js";import"./ExclamationCircleFilled-DZysw_83.js";import"./ActionButton-xPc0Gc43.js";import"./CheckCircleFilled-DiSUBvU5.js";import"./InfoCircleFilled-D8dKuFWy.js";import"./index-DRGG9HZA.js";import"./index-Bz7nO4c4.js";import"./fade-C0XPHGae.js";import"./Skeleton-3ezOyxdU.js";import"./EyeOutlined-B2vwqoE1.js";import"./TextArea-BEMUKMsu.js";const C=({onEditClick:r})=>{const{data:o,isLoading:s}=e(),[j]=t(),u=[{title:"Category Name",dataIndex:"emailCategory",key:"emailCategory"},{title:"Actions",key:"actions",render:(e,t)=>i.jsxs(n,{children:[i.jsx(l,{type:"primary",icon:i.jsx(m,{}),onClick:()=>r(t)}),i.jsx(d,{title:"Are you sure you want to delete this category?",onConfirm:()=>(async e=>{try{await j(e).unwrap(),p.success("Category deleted successfully")}catch(t){p.error("Failed to delete category")}})(t._id),okText:"Yes",cancelText:"No",children:i.jsx(l,{type:"primary",danger:!0,icon:i.jsx(c,{})})})]})}];return i.jsx(a,{columns:u,dataSource:o,rowKey:"_id",loading:s,pagination:{pageSize:10,showSizeChanger:!0,showTotal:e=>`Total ${e} items`}})},f=({visible:e,onClose:t,editingCategory:s})=>{const[a]=j.useForm(),[n]=r(),[l]=o();return i.jsx(u,{title:s?"Edit Category":"Add New Category",open:e,onCancel:t,onOk:()=>a.submit(),children:i.jsx(j,{form:a,layout:"vertical",onFinish:async e=>{try{s?(await l({id:s._id,data:e}).unwrap(),p.success("Category updated successfully")):(await n(e).unwrap(),p.success("Category created successfully")),t()}catch(i){p.error("Failed to save category")}},initialValues:s,children:i.jsx(j.Item,{name:"emailCategory",label:"Category Name",rules:[{required:!0,message:"Please enter category name"}],children:i.jsx(y,{placeholder:"Enter category name"})})})})},h=()=>{const[e,t]=s.useState(!1),[r,o]=s.useState(null);return i.jsxs(x,{title:"Email Categories",children:[i.jsx(l,{type:"primary",icon:i.jsx(g,{}),onClick:()=>{o(null),t(!0)},style:{marginBottom:16},children:"Add New Category"}),i.jsx(C,{onEditClick:e=>{o(e),t(!0)}}),e&&i.jsx(f,{visible:e,onClose:()=>{t(!1),o(null)},editingCategory:r})]})};export{h as default};
//# sourceMappingURL=EmailCategoryParent-DTs5h6Xl.js.map
