{"version":3,"file":"EmailCategoryParent-DTs5h6Xl.js","sources":["../../src/email/emailCategory/EmailCategory.jsx","../../src/email/emailCategory/emailCategoryForm.jsx","../../src/email/emailCategory/EmailCategoryParent.jsx"],"sourcesContent":["import { useGetEmailCategoriesQuery, useDeleteEmailCategoryMutation } from '@/slice/emailCategory/emailCategory';\nimport { Table, Button, Space, Popconfirm, message } from 'antd';\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\n\nconst EmailCategoryTable = ({ onEditClick }) => {\n    const { data: categories, isLoading } = useGetEmailCategoriesQuery();\n    const [deleteCategory] = useDeleteEmailCategoryMutation();\n\n    const handleDelete = async (id) => {\n        try {\n            await deleteCategory(id).unwrap();\n            message.success('Category deleted successfully');\n        } catch (error) {\n            message.error('Failed to delete category');\n        }\n    };\n\n    const columns = [\n        {\n            title: 'Category Name',\n            dataIndex: 'emailCategory',\n            key: 'emailCategory',\n        },\n        {\n            title: 'Actions',\n            key: 'actions',\n            render: (_, record) => (\n                <Space>\n                    <Button \n                        type=\"primary\" \n                        icon={<EditOutlined />}\n                        onClick={() => onEditClick(record)}\n                    />\n                    <Popconfirm\n                        title=\"Are you sure you want to delete this category?\"\n                        onConfirm={() => handleDelete(record._id)}\n                        okText=\"Yes\"\n                        cancelText=\"No\"\n                    >\n                        <Button \n                            type=\"primary\" \n                            danger \n                            icon={<DeleteOutlined />}\n                        />\n                    </Popconfirm>\n                </Space>\n            ),\n        },\n    ];\n\n    return (\n        <Table\n            columns={columns}\n            dataSource={categories}\n            rowKey=\"_id\"\n            loading={isLoading}\n            pagination={{\n                pageSize: 10,\n                showSizeChanger: true,\n                showTotal: (total) => `Total ${total} items`,\n            }}\n        />\n    );\n};\n\nexport default EmailCategoryTable;\n","import { Form, Input, Modal, message } from 'antd';\nimport { useCreateEmailCategoryMutation, useUpdateEmailCategoryMutation } from '@/slice/emailCategory/emailCategory';\n\nconst EmailCategoryForm = ({ visible, onClose, editingCategory }) => {\n    const [form] = Form.useForm();\n    const [createCategory] = useCreateEmailCategoryMutation();\n    const [updateCategory] = useUpdateEmailCategoryMutation();\n\n    const handleSubmit = async (values) => {\n        try {\n            if (editingCategory) {\n                await updateCategory({\n                    id: editingCategory._id,\n                    data: values\n                }).unwrap();\n                message.success('Category updated successfully');\n            } else {\n                await createCategory(values).unwrap();\n                message.success('Category created successfully');\n            }\n            onClose();\n        } catch (error) {\n            message.error('Failed to save category');\n        }\n    };\n\n    return (\n        <Modal\n            title={editingCategory ? 'Edit Category' : 'Add New Category'}\n            open={visible}\n            onCancel={onClose}\n            onOk={() => form.submit()}\n        >\n            <Form\n                form={form}\n                layout=\"vertical\"\n                onFinish={handleSubmit}\n                initialValues={editingCategory}\n            >\n                <Form.Item\n                    name=\"emailCategory\"\n                    label=\"Category Name\"\n                    rules={[\n                        { required: true, message: 'Please enter category name' }\n                    ]}\n                >\n                    <Input placeholder=\"Enter category name\" />\n                </Form.Item>\n            </Form>\n        </Modal>\n    );\n};\n\nexport default EmailCategoryForm;","import { useState } from 'react';\nimport { Card, Button, message } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport EmailCategoryTable from './EmailCategory';\nimport EmailCategoryForm from './emailCategoryForm';\n\nconst EmailCategoryParent = () => {\n    const [isModalVisible, setIsModalVisible] = useState(false);\n    const [editingCategory, setEditingCategory] = useState(null);\n\n    const handleAddNew = () => {\n        setEditingCategory(null);\n        setIsModalVisible(true);\n    };\n\n    const handleEditClick = (category) => {\n        setEditingCategory(category);\n        setIsModalVisible(true);\n    };\n\n    const handleModalClose = () => {\n        setIsModalVisible(false);\n        setEditingCategory(null);\n    };\n\n    return (\n        <Card title=\"Email Categories\">\n            <Button \n                type=\"primary\" \n                icon={<PlusOutlined />} \n                onClick={handleAddNew}\n                style={{ marginBottom: 16 }}\n            >\n                Add New Category\n            </Button>\n\n            <EmailCategoryTable onEditClick={handleEditClick} />\n\n            {isModalVisible && (\n                <EmailCategoryForm\n                    visible={isModalVisible}\n                    onClose={handleModalClose}\n                    editingCategory={editingCategory}\n                />\n            )}\n        </Card>\n    );\n};\n\nexport default EmailCategoryParent;"],"names":["EmailCategoryTable","onEditClick","data","categories","isLoading","useGetEmailCategoriesQuery","deleteCategory","useDeleteEmailCategoryMutation","columns","title","dataIndex","key","render","_","record","Space","children","jsx","Button","type","icon","EditOutlined","onClick","Popconfirm","onConfirm","async","id","unwrap","message","success","error","handleDelete","_id","okText","cancelText","danger","DeleteOutlined","Table","dataSource","rowKey","loading","pagination","pageSize","showSizeChanger","showTotal","total","EmailCategoryForm","visible","onClose","editingCategory","form","Form","useForm","createCategory","useCreateEmailCategoryMutation","updateCategory","useUpdateEmailCategoryMutation","Modal","open","onCancel","onOk","submit","layout","onFinish","values","initialValues","Item","name","label","rules","required","Input","placeholder","EmailCategoryParent","isModalVisible","setIsModalVisible","useState","setEditingCategory","jsxs","Card","PlusOutlined","style","marginBottom","category"],"mappings":"8yCAIA,MAAMA,EAAqB,EAAGC,kBAC1B,MAAQC,KAAMC,EAAYC,UAAAA,GAAcC,KACjCC,GAAkBC,IAWnBC,EAAU,CACZ,CACIC,MAAO,gBACPC,UAAW,gBACXC,IAAK,iBAET,CACIF,MAAO,UACPE,IAAK,UACLC,OAAQ,CAACC,EAAGC,WACPC,EACG,CAAAC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACGC,KAAK,UACLC,WAAOC,EAAa,IACpBC,QAAS,IAAMrB,EAAYa,KAE/BG,EAAAA,IAACM,EAAA,CACGd,MAAM,iDACNe,UAAW,IA3BVC,OAAOC,IACpB,UACMpB,EAAeoB,GAAIC,SACzBC,EAAQC,QAAQ,uCACXC,GACLF,EAAQE,MAAM,4BAA2B,GAsBZC,CAAajB,EAAOkB,KACrCC,OAAO,MACPC,WAAW,KAEXlB,SAAAC,EAAAA,IAACC,EAAA,CACGC,KAAK,UACLgB,QAAM,EACNf,WAAOgB,EAAe,CAAA,YAS1C,OAAAnB,EAAAA,IAACoB,EAAA,CACG7B,UACA8B,WAAYnC,EACZoC,OAAO,MACPC,QAASpC,EACTqC,WAAY,CACRC,SAAU,GACVC,iBAAiB,EACjBC,UAAYC,GAAU,SAASA,YAEvC,EC1DFC,EAAoB,EAAGC,UAASC,UAASC,sBAC3C,MAAOC,GAAQC,EAAKC,WACbC,GAAkBC,KAClBC,GAAkBC,IAqBrB,OAAAvC,EAAAA,IAACwC,EAAA,CACGhD,MAAOwC,EAAkB,gBAAkB,mBAC3CS,KAAMX,EACNY,SAAUX,EACVY,KAAM,IAAMV,EAAKW,SAEjB7C,SAAAC,EAAAA,IAACkC,EAAA,CACGD,OACAY,OAAO,WACPC,SA5BStC,MAAOuC,IACpB,IACIf,SACMM,EAAe,CACjB7B,GAAIuB,EAAgBjB,IACpB9B,KAAM8D,IACPrC,SACHC,EAAQC,QAAQ,yCAEVwB,EAAeW,GAAQrC,SAC7BC,EAAQC,QAAQ,kCAEZmB,UACHlB,GACLF,EAAQE,MAAM,0BAAyB,GAenCmC,cAAehB,EAEfjC,SAAAC,EAAAA,IAACkC,EAAKe,KAAL,CACGC,KAAK,gBACLC,MAAM,gBACNC,MAAO,CACH,CAAEC,UAAU,EAAM1C,QAAS,+BAG/BZ,SAAAC,EAAAA,IAACsD,EAAM,CAAAC,YAAY,6BAG/B,EC3CFC,EAAsB,KACxB,MAAOC,EAAgBC,GAAqBC,EAAAA,UAAS,IAC9C3B,EAAiB4B,GAAsBD,EAAAA,SAAS,MAkBnD,OAAAE,EAAAA,KAACC,EAAK,CAAAtE,MAAM,mBACRO,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACGC,KAAK,UACLC,WAAO4D,EAAa,IACpB1D,QApBS,KACjBuD,EAAmB,MACnBF,GAAkB,EAAI,EAmBdM,MAAO,CAAEC,aAAc,IAC1BlE,SAAA,qBAIDC,EAAAA,IAACjB,EAAmB,CAAAC,YArBHkF,IACrBN,EAAmBM,GACnBR,GAAkB,EAAI,IAqBjBD,GACGzD,EAAAA,IAAC6B,EAAA,CACGC,QAAS2B,EACT1B,QArBS,KACrB2B,GAAkB,GAClBE,EAAmB,KAAI,EAoBX5B,sBAGZ"}