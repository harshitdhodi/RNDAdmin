import{F as r,a as t,B as e,c as s,s as o,d as i,M as a,f as c,C as m}from"./antd-CxduzDaN.js";import{j as l,r as n}from"./react-BfBsRgn0.js";import{ad as p,b6 as j,b7 as d,b8 as u}from"./index-mCSb4W1J.js";import{G as y,H as g,O as x}from"./ant-design-icons-DoIDTG1a.js";import"./@ant-design-DttPmOfw.js";import"./rc-util-CQtTJgfq.js";import"./@babel-BfC2A0EA.js";import"./react-is-BaRe0U6l.js";import"./react-dom-DwrudmHt.js";import"./classnames-C3ovBj6j.js";import"./scheduler-BFk34ZWe.js";import"./@emotion-Czw0TW3x.js";import"./stylis-IVPcsLSI.js";import"./@ctrl-B2IeE8ye.js";import"./rc-motion-Cs3GDHoo.js";import"./@rc-component-BB24pTyE.js";import"./rc-resize-observer-DUJXZwxn.js";import"./resize-observer-polyfill-CzGuHLZU.js";import"./rc-dialog-BGKNmDMe.js";import"./rc-table-CybQOAzy.js";import"./rc-virtual-list-P8JqKX09.js";import"./rc-tree--ithDbGw.js";import"./rc-checkbox-bMXfL26q.js";import"./rc-pagination-CiqGXVR2.js";import"./rc-select-sVu4PbUz.js";import"./rc-overflow-73VxJI7O.js";import"./throttle-debounce-w9OM8Bxz.js";import"./rc-input-ByOKN0-r.js";import"./rc-tooltip-C1heEwdg.js";import"./rc-notification-D3ebMW8F.js";import"./rc-image-BIQJV_M3.js";import"./rc-textarea-DLkAnH0O.js";import"./copy-to-clipboard-Bgp_G7Oq.js";import"./toggle-selection-DUsDmMsR.js";import"./rc-upload-ClZE7meS.js";import"./rc-progress-bbq4uvV3.js";import"./rc-dropdown-C238bXH-.js";import"./rc-menu-CzbBjnhu.js";import"./rc-field-form-DaYAwFJ8.js";import"./scroll-into-view-if-needed-cNB78-hM.js";import"./compute-scroll-into-view-CJmtT4lq.js";import"./rc-picker-B5UDvhgZ.js";import"./rc-tabs-DG0zBL9k.js";import"./react-redux-DbBiFgqA.js";import"./use-sync-external-store-DdeJV4gQ.js";import"./@reduxjs-UCSEaN3g.js";import"./redux-C5Huw2aR.js";import"./immer-DgfQkf_7.js";import"./redux-thunk-B3S1iNVp.js";import"./reselect-BSOs5pU1.js";import"./js-cookie-BXEMiIsG.js";import"./react-router-DUJjWq5j.js";import"./cookie-BUTH-fPQ.js";import"./@radix-ui-BWjeGzol.js";import"./aria-hidden-BHUiN-rI.js";import"./react-remove-scroll-yauc81_r.js";import"./tslib-Bc9CN1Ef.js";import"./react-remove-scroll-bar-BcxDecei.js";import"./react-style-singleton-C1QVuB2c.js";import"./get-nonce-BYiZHLe3.js";import"./use-sidecar-BA4C4RS7.js";import"./use-callback-ref-Cvx1xcTX.js";import"./@floating-ui-BSChQBl3.js";import"./class-variance-authority-DeOWI0hf.js";import"./clsx-BeLtu-UY.js";import"./tailwind-merge-D2VJQb_v.js";import"./lucide-D6BDVLHE.js";import"./axios-BoylL8Pu.js";const C=({onEditClick:i})=>{const{data:a,isLoading:c}=p(),[m]=j(),n=[{title:"Category Name",dataIndex:"emailCategory",key:"emailCategory"},{title:"Actions",key:"actions",render:(r,a)=>l.jsxs(t,{children:[l.jsx(e,{type:"primary",icon:l.jsx(y,{}),onClick:()=>i(a)}),l.jsx(s,{title:"Are you sure you want to delete this category?",onConfirm:()=>(async r=>{try{await m(r).unwrap(),o.success("Category deleted successfully")}catch(t){o.error("Failed to delete category")}})(a._id),okText:"Yes",cancelText:"No",children:l.jsx(e,{type:"primary",danger:!0,icon:l.jsx(g,{})})})]})}];return l.jsx(r,{columns:n,dataSource:a,rowKey:"_id",loading:c,pagination:{pageSize:10,showSizeChanger:!0,showTotal:r=>`Total ${r} items`}})},h=({visible:r,onClose:t,editingCategory:e})=>{const[s]=i.useForm(),[m]=d(),[n]=u();return l.jsx(a,{title:e?"Edit Category":"Add New Category",open:r,onCancel:t,onOk:()=>s.submit(),children:l.jsx(i,{form:s,layout:"vertical",onFinish:async r=>{try{e?(await n({id:e._id,data:r}).unwrap(),o.success("Category updated successfully")):(await m(r).unwrap(),o.success("Category created successfully")),t()}catch(s){o.error("Failed to save category")}},initialValues:e,children:l.jsx(i.Item,{name:"emailCategory",label:"Category Name",rules:[{required:!0,message:"Please enter category name"}],children:l.jsx(c,{placeholder:"Enter category name"})})})})},f=()=>{const[r,t]=n.useState(!1),[s,o]=n.useState(null);return l.jsxs(m,{title:"Email Categories",children:[l.jsx(e,{type:"primary",icon:l.jsx(x,{}),onClick:()=>{o(null),t(!0)},style:{marginBottom:16},children:"Add New Category"}),l.jsx(C,{onEditClick:r=>{o(r),t(!0)}}),r&&l.jsx(h,{visible:r,onClose:()=>{t(!1),o(null)},editingCategory:s})]})};export{f as default};
