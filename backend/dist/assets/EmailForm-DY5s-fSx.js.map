{"version":3,"file":"EmailForm-DY5s-fSx.js","sources":["../../src/email/emailForm/EmailForm.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select';\r\nimport { Card, CardContent } from '@/components/ui/card';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport ReactQuill from 'react-quill';\r\nimport { Upload, X } from 'lucide-react';\r\nimport { useGetAllTemplatesQuery } from '@/slice/template/emailTemplate';\r\nimport { useSendEmailMutation } from '@/slice/smtpSlice/email';\r\nimport { useGetEmailCategoriesQuery } from '@/slice/emailCategory/emailCategory';\r\n\r\nexport default function EmailForm({ defaultTo = \"\", onSuccess }) {\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const { data: categories, isLoading: isCategoriesLoading } = useGetEmailCategoriesQuery();\r\n  const { data: templates, isLoading: isTemplatesLoading } = useGetAllTemplatesQuery();\r\n  const [sendEmail, { isLoading: isSending }] = useSendEmailMutation();\r\n  const [attachment, setAttachment] = useState(null);\r\n  const [ccEmails, setCcEmails] = useState([]);\r\n  const [filteredTemplates, setFilteredTemplates] = useState([]);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    reset,\r\n    watch,\r\n    setValue,\r\n    setError,\r\n    clearErrors\r\n  } = useForm({\r\n    defaultValues: {\r\n      category: '',\r\n      template: '',\r\n      email: '',\r\n      cc_email: [],\r\n      subject: '',\r\n      body: '',\r\n      attachment: null\r\n    }\r\n  });\r\n\r\n  const selectedCategory = watch('category');\r\n  const selectedTemplate = watch('template');\r\n  const body = watch('body');\r\n\r\n  useEffect(() => {\r\n    if (selectedTemplate && templates?.data) {\r\n      const template = templates.data.find((t) => t._id === selectedTemplate);\r\n      if (template) {\r\n        setValue('subject', template.subject);\r\n        setValue('body', template.body);\r\n      }\r\n    }\r\n  }, [selectedTemplate, templates, setValue]);\r\n\r\n  useEffect(() => {\r\n    if (defaultTo) {\r\n      setValue('email', defaultTo);\r\n    }\r\n  }, [defaultTo, setValue]);\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setAttachment(file);\r\n  };\r\n\r\n  const removeAttachment = () => {\r\n    setAttachment(null);\r\n  };\r\n\r\n  const addCcEmail = (email) => {\r\n    if (email && !ccEmails.includes(email)) {\r\n      setCcEmails((prev) => [...prev, email]);\r\n    }\r\n  };\r\n\r\n  const removeCcEmail = (index) => {\r\n    setCcEmails((prev) => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const validateForm = (data) => {\r\n    let isValid = true;\r\n    clearErrors();\r\n\r\n    // Category validation\r\n    if (!data.category) {\r\n      setError('category', { message: 'Please select a category' });\r\n      isValid = false;\r\n    }\r\n\r\n    // Template validation\r\n    if (!data.template) {\r\n      setError('template', { message: 'Please select a template' });\r\n      isValid = false;\r\n    }\r\n\r\n    // Email validation\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!data.email) {\r\n      setError('email', { message: 'To field is required' });\r\n      isValid = false;\r\n    } else if (!emailRegex.test(data.email)) {\r\n      setError('email', { message: 'Invalid email format' });\r\n      isValid = false;\r\n    }\r\n\r\n    // Subject validation\r\n    if (!data.subject.trim()) {\r\n      setError('subject', { message: 'Subject is required' });\r\n      isValid = false;\r\n    }\r\n\r\n    // Body validation\r\n    if (!data.body || data.body === '<p><br></p>' || data.body.trim() === '') {\r\n      setError('body', { message: 'Body is required' });\r\n      isValid = false;\r\n    }\r\n\r\n    return isValid;\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    if (!validateForm(data)) {\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('email', data.email);\r\n    formData.append('cc_email', ccEmails);\r\n    formData.append('subject', data.subject);\r\n    formData.append('body', data.body);\r\n\r\n    if (attachment) {\r\n      formData.append('attachment', attachment);\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      await sendEmail(formData).unwrap();\r\n      alert('Email sent successfully!');\r\n      reset();\r\n      setAttachment(null);\r\n      setCcEmails([]);\r\n      onSuccess?.();\r\n    } catch (error) {\r\n      console.error('Error sending email:', error);\r\n      alert('Failed to send email. Please try again.');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (selectedCategory && templates?.data) {\r\n      const filtered = templates.data.filter(\r\n        (template) => template.category?.emailCategory === selectedCategory\r\n      );\r\n      setFilteredTemplates(filtered);\r\n      setValue('template', '');\r\n    }\r\n  }, [selectedCategory, templates, setValue]);\r\n\r\n  return (\r\n    <Card className=\"w-full mx-auto max-h-[80vh] flex flex-col\">\r\n      <CardContent className=\"p-6 overflow-y-auto\">\r\n        <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <label htmlFor=\"category\" className=\"text-sm font-medium\">\r\n                Select Category\r\n              </label>\r\n              <Select onValueChange={(value) => setValue('category', value)}>\r\n                <SelectTrigger id=\"category\">\r\n                  <SelectValue placeholder=\"Select Category\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {isCategoriesLoading ? (\r\n                    <SelectItem disabled>Loading categories...</SelectItem>\r\n                  ) : categories && categories.length > 0 ? (\r\n                    categories.map((category) => (\r\n                      <SelectItem key={category._id} value={category.emailCategory}>\r\n                        {category.emailCategory}\r\n                      </SelectItem>\r\n                    ))\r\n                  ) : (\r\n                    <SelectItem disabled>No categories available</SelectItem>\r\n                  )}\r\n                </SelectContent>\r\n              </Select>\r\n              {errors.category && (\r\n                <p className=\"text-sm text-red-500\">{errors.category.message}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <label htmlFor=\"template\" className=\"text-sm font-medium\">\r\n                Select Email Template\r\n              </label>\r\n              <Select \r\n                onValueChange={(value) => setValue('template', value)}\r\n                disabled={!selectedCategory}\r\n              >\r\n                <SelectTrigger id=\"template\">\r\n                  <SelectValue placeholder={\r\n                    selectedCategory \r\n                      ? \"Select Email Template\" \r\n                      : \"Please select a category first\"\r\n                  } />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {isTemplatesLoading ? (\r\n                    <SelectItem disabled>Loading templates...</SelectItem>\r\n                  ) : filteredTemplates.length === 0 ? (\r\n                    <SelectItem disabled>No templates in this category</SelectItem>\r\n                  ) : (\r\n                    filteredTemplates.map((template) => (\r\n                      <SelectItem key={template._id} value={template._id}>\r\n                        {template.name}\r\n                      </SelectItem>\r\n                    ))\r\n                  )}\r\n                </SelectContent>\r\n              </Select>\r\n              {errors.template && (\r\n                <p className=\"text-sm text-red-500\">{errors.template.message}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-3 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <label htmlFor=\"email\" className=\"text-sm font-medium\">\r\n                To*\r\n              </label>\r\n              <Input\r\n                id=\"email\"\r\n                type=\"text\"\r\n                placeholder=\"Recipient email\"\r\n                {...register('email')}\r\n                aria-invalid={errors.email ? 'true' : 'false'}\r\n              />\r\n              {errors.email && <p className=\"text-sm text-red-500\">{errors.email.message}</p>}\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <label htmlFor=\"cc_email\" className=\"text-sm font-medium\">\r\n                CC\r\n              </label>\r\n              <div className=\"relative\">\r\n                <Input\r\n                  id=\"cc_email\"\r\n                  type=\"text\"\r\n                  placeholder=\"Enter CC email\"\r\n                  onBlur={(e) => {\r\n                    addCcEmail(e.target.value);\r\n                    e.target.value = '';\r\n                  }}\r\n                />\r\n                {ccEmails.length > 0 && (\r\n                  <div className=\"absolute top-full mt-1 z-10 bg-white border rounded-md p-2 w-full shadow-sm\">\r\n                    {ccEmails.map((email, index) => (\r\n                      <div key={index} className=\"flex items-center justify-between py-1\">\r\n                        <span className=\"text-sm\">{email}</span>\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          onClick={() => removeCcEmail(index)}\r\n                        >\r\n                          <X className=\"h-3 w-3\" />\r\n                        </Button>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <label htmlFor=\"subject\" className=\"text-sm font-medium\">\r\n                Subject*\r\n              </label>\r\n              <Input\r\n                id=\"subject\"\r\n                type=\"text\"\r\n                placeholder=\"Subject\"\r\n                {...register('subject')}\r\n                aria-invalid={errors.subject ? 'true' : 'false'}\r\n              />\r\n              {errors.subject && (\r\n                <p className=\"text-sm text-red-500\">{errors.subject.message}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <label htmlFor=\"body\" className=\"text-sm font-medium\">\r\n              Body*\r\n            </label>\r\n            <ReactQuill\r\n              value={body || ''}\r\n              onChange={(content) => setValue('body', content)}\r\n              className=\"bg-white\"\r\n            />\r\n            {errors.body && <p className=\"text-sm text-red-500\">{errors.body.message}</p>}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <label htmlFor=\"file-upload\" className=\"text-sm font-medium\">\r\n              Attachments\r\n            </label>\r\n            <div className=\"border-2 border-dashed rounded-lg p-6 text-center\">\r\n              <input\r\n                type=\"file\"\r\n                onChange={handleFileChange}\r\n                className=\"hidden\"\r\n                id=\"file-upload\"\r\n              />\r\n              <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\r\n                <Upload className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                <p className=\"mt-2 text-sm text-gray-600\">\r\n                  Drag and drop files here or click to browse\r\n                </p>\r\n              </label>\r\n            </div>\r\n            {attachment && (\r\n              <div className=\"mt-2\">\r\n                <div className=\"flex items-center justify-between bg-gray-100 p-2 rounded\">\r\n                  <span className=\"text-sm truncate\">{attachment.name}</span>\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    onClick={removeAttachment}\r\n                  >\r\n                    <X className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <Button type=\"submit\" className=\"w-full\" disabled={isSubmitting || isSending}>\r\n            {isSubmitting || isSending ? 'Sending...' : 'Send Email'}\r\n          </Button>\r\n        </form>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}"],"names":["EmailForm","defaultTo","onSuccess","isSubmitting","setIsSubmitting","useState","data","categories","isLoading","isCategoriesLoading","useGetEmailCategoriesQuery","templates","isTemplatesLoading","useGetAllTemplatesQuery","sendEmail","isSending","useSendEmailMutation","attachment","setAttachment","ccEmails","setCcEmails","filteredTemplates","setFilteredTemplates","register","handleSubmit","formState","errors","reset","watch","setValue","setError","clearErrors","useForm","defaultValues","category","template","email","cc_email","subject","body","selectedCategory","selectedTemplate","useEffect","find","t","_id","filtered","filter","emailCategory","jsx","Card","className","children","CardContent","jsxs","onSubmit","async","isValid","message","test","trim","validateForm","formData","FormData","append","unwrap","alert","error","htmlFor","Select","onValueChange","value","SelectTrigger","id","SelectValue","placeholder","SelectContent","SelectItem","disabled","length","map","name","Input","type","onBlur","e","target","includes","prev","index","Button","variant","size","onClick","_","i","removeCcEmail","X","ReactQuill","onChange","content","file","files","Upload"],"mappings":"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"}