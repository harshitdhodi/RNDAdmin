import{j as e}from"./main-DeRxjK88.js";import{r as t}from"./vendor-router-Bu4EHm1B.js";import{a as i}from"./vendor-utils-BfOc9lHv.js";import{J as a}from"./jodit-react-Bgeja2AM.js";import{F as r}from"./index--6LMyILo.js";import{B as s}from"./index-lUiyPlMq.js";import{s as n}from"./index-lMP3hCbg.js";import"./vendor-react-CI5aWZjI.js";import"./toArray-DkI11MDQ.js";import"./index-DRGG9HZA.js";import"./CheckCircleFilled-DiSUBvU5.js";import"./ExclamationCircleFilled-DZysw_83.js";import"./InfoCircleFilled-D8dKuFWy.js";const o=()=>{const[o]=r.useForm(),[l,d]=t.useState(""),[m,c]=t.useState(null),[u,p]=t.useState(!1),v=t.useRef(null),f=async()=>{try{p(!0);const e=(await i.get(`/api/events/getEvent?t=${(new Date).getTime()}`)).data[0];c(e._id),d(e.events),o.setFieldsValue({events:e.events})}catch(e){n.error("Failed to fetch event.")}finally{p(!1)}};t.useEffect((()=>{f()}),[o]);return e.jsxs(r,{form:o,layout:"vertical",onFinish:async()=>{try{if(!m)return void n.error("No event ID available");p(!0),await i.put(`/api/events/editEvent/${m}`,{events:l}),n.success("Event updated successfully!"),await f()}catch(e){n.error("Failed to update event.")}finally{p(!1)}},name:"event_form",children:[e.jsx(r.Item,{name:"events",label:"Event Description",rules:[{required:!0,message:"Please input the event details!"}],children:e.jsx(a,{ref:v,value:l,config:{uploader:{insertImageAsBase64URI:!0},toolbarAdaptive:!1,toolbarSticky:!1,buttons:["bold","italic","underline","ul","ol","fontsize","paragraph","link","image","video","table","align","undo","redo"]},onChange:e=>{d(e),o.setFieldsValue({events:e})}})}),e.jsxs(r.Item,{children:[e.jsx(s,{type:"primary",htmlType:"submit",loading:u,children:"Update Event"}),e.jsx(s,{onClick:f,style:{marginLeft:8},loading:u,children:"Refresh Data"})]})]})};export{o as default};
//# sourceMappingURL=Events-BSNYC2Us.js.map
