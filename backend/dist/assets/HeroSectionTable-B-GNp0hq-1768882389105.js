import{r as t,j as e,L as o,B as i,P as u,aH as g,az as p,c as d}from"./index-DZLYByy5-1768882389105.js";import{T as b,a as N,b as n,c as r,d as w,e as a}from"./table-CXci9t-5-1768882389105.js";import{C as T,b as y,c as S,a as C}from"./card-DV3cZo5K-1768882389105.js";const E=()=>{const[c,x]=t.useState([]),[h,j]=t.useState(!0),l=async()=>{try{const s=await d.get("/api/heroSection");x(s.data.data||s.data)}catch(s){console.error("Error fetching data:",s)}finally{j(!1)}};t.useEffect(()=>{l()},[]);const m=async s=>{if(window.confirm("Are you sure you want to delete this item?"))try{await d.delete(`/api/heroSection/${s}`),l()}catch(f){console.error("Error deleting item:",f)}};return h?e.jsx("div",{className:"p-4",children:"Loading..."}):e.jsx("div",{className:"p-4",children:e.jsxs(T,{children:[e.jsxs(y,{className:"flex flex-row items-center justify-between",children:[e.jsx(S,{children:"Hero Sections"}),e.jsx(o,{to:"/hero-section-form",children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(u,{size:16})," Add New"]})})]}),e.jsx(C,{children:e.jsxs(b,{children:[e.jsx(N,{children:e.jsxs(n,{children:[e.jsx(r,{children:"Image"}),e.jsx(r,{children:"Title"}),e.jsx(r,{children:"Subtitle"}),e.jsx(r,{className:"text-right",children:"Actions"})]})}),e.jsx(w,{children:c.length===0?e.jsx(n,{children:e.jsx(a,{colSpan:4,className:"text-center",children:"No records found"})}):c.map(s=>e.jsxs(n,{children:[e.jsx(a,{children:s.imageUrl&&e.jsx("img",{src:`/api/image/download/${s.imageUrl}`,alt:s.title,className:"h-12 w-20 object-cover rounded"})}),e.jsx(a,{className:"font-medium",children:s.title}),e.jsx(a,{children:s.subtitle}),e.jsx(a,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(o,{to:`/hero-section-form/${s._id}`,children:e.jsx(i,{variant:"outline",size:"icon",children:e.jsx(g,{size:16})})}),e.jsx(i,{variant:"destructive",size:"icon",onClick:()=>m(s._id),children:e.jsx(p,{size:16})})]})})]},s._id))})]})})]})})};export{E as default};
