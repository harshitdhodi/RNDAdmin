{"version":3,"file":"InquiryTable-BsS21XZu.js","sources":["../../node_modules/lucide-react/dist/esm/icons/save.js","../../src/inquiry/followup/FollowUpTable.jsx","../../src/inquiry/followup/AddFollwUpModel.jsx","../../src/inquiry/followup/EditFollowUp.jsx","../../src/inquiry/FollowUpModel.jsx","../../src/inquiry/InquiryTable.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Save = createLucideIcon(\"Save\", [\n  [\n    \"path\",\n    {\n      d: \"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z\",\n      key: \"1c8476\"\n    }\n  ],\n  [\"path\", { d: \"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7\", key: \"1ydtos\" }],\n  [\"path\", { d: \"M7 3v4a1 1 0 0 0 1 1h7\", key: \"t51u73\" }]\n]);\n\nexport { Save as default };\n//# sourceMappingURL=save.js.map\n","import { useState } from \"react\";\r\nimport { useUpdateMessageMutation, useGetMessagesQuery } from \"@/slice/followUp/followUp\";\r\nimport { Pencil, Trash2 } from \"lucide-react\";\r\nimport {\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableHead,\r\n    TableHeader,\r\n    TableRow,\r\n} from \"@/components/ui/table\";\r\nimport {\r\n    AlertDialog,\r\n    AlertDialogAction,\r\n    AlertDialogCancel,\r\n    AlertDialogContent,\r\n    AlertDialogDescription,\r\n    AlertDialogFooter,\r\n    AlertDialogHeader,\r\n    AlertDialogTitle,\r\n} from \"@/components/ui/alert-dialog\";\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport {\r\n    Pagination,\r\n    PaginationContent,\r\n    PaginationEllipsis,\r\n    PaginationItem,\r\n    PaginationLink,\r\n    PaginationNext,\r\n    PaginationPrevious,\r\n} from \"@/components/ui/pagination\";\r\n\r\nexport function FollowUpTable({\r\n    followUps,\r\n    onEdit,\r\n    onDelete,\r\n    currentPage,\r\n    totalPages,\r\n    onPageChange,\r\n}) {\r\n    const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n    const [deleteItemId, setDeleteItemId] = useState(null);\r\n\r\n    const [updateMessage] = useUpdateMessageMutation();\r\n    const { refetch } = useGetMessagesQuery();\r\n\r\n    const handleUpdate = async (id, updateData) => {\r\n        try {\r\n            const result = await updateMessage({ \r\n                id,\r\n                ...updateData\r\n            }).unwrap();\r\n            await refetch();\r\n            console.log('Update result:', result);\r\n        } catch (error) {\r\n            console.error(`Failed to update message ID: ${id}`, error);\r\n        }\r\n    };\r\n\r\n    const handleStatusChange = (id, newStatus) => {\r\n        handleUpdate(id, { status: newStatus });\r\n    };\r\n\r\n    const handleDeleteClick = (id) => {\r\n        setDeleteItemId(id);\r\n        setIsDeleteModalOpen(true);\r\n    };\r\n\r\n    const handleConfirmDelete = async () => {\r\n        if (deleteItemId) {\r\n            await onDelete(deleteItemId);\r\n            await refetch();\r\n            \r\n            if (followUps.length === 1 && currentPage > 1) {\r\n                onPageChange(currentPage - 1);\r\n            } else {\r\n                refetch();\r\n            }\r\n            \r\n            setIsDeleteModalOpen(false);\r\n            setDeleteItemId(null);\r\n        }\r\n    };\r\n\r\n    // Function to generate pagination items\r\n    const renderPaginationItems = () => {\r\n        const items = [];\r\n        const maxVisiblePages = 5;\r\n        let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));\r\n        let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);\r\n        \r\n        // Adjust startPage if endPage is at maximum\r\n        if (endPage === totalPages) {\r\n            startPage = Math.max(1, endPage - maxVisiblePages + 1);\r\n        }\r\n        \r\n        // Add previous button\r\n        items.push(\r\n            <PaginationItem key=\"prev\">\r\n                <PaginationPrevious \r\n                    onClick={() => onPageChange(Math.max(1, currentPage - 1))}\r\n                    className={currentPage === 1 ? \"pointer-events-none opacity-50\" : \"cursor-pointer\"}\r\n                />\r\n            </PaginationItem>\r\n        );\r\n        \r\n        // Add ellipsis if needed at the start\r\n        if (startPage > 1) {\r\n            items.push(\r\n                <PaginationItem key=\"start-ellipsis\">\r\n                    <PaginationLink onClick={() => onPageChange(1)}>1</PaginationLink>\r\n                </PaginationItem>\r\n            );\r\n            if (startPage > 2) {\r\n                items.push(\r\n                    <PaginationItem key=\"ellipsis-1\">\r\n                        <PaginationEllipsis />\r\n                    </PaginationItem>\r\n                );\r\n            }\r\n        }\r\n        \r\n        // Add page numbers\r\n        for (let i = startPage; i <= endPage; i++) {\r\n            items.push(\r\n                <PaginationItem key={i}>\r\n                    <PaginationLink \r\n                        onClick={() => onPageChange(i)}\r\n                        isActive={currentPage === i}\r\n                    >\r\n                        {i}\r\n                    </PaginationLink>\r\n                </PaginationItem>\r\n            );\r\n        }\r\n        \r\n        // Add ellipsis if needed at the end\r\n        if (endPage < totalPages) {\r\n            if (endPage < totalPages - 1) {\r\n                items.push(\r\n                    <PaginationItem key=\"ellipsis-2\">\r\n                        <PaginationEllipsis />\r\n                    </PaginationItem>\r\n                );\r\n            }\r\n            items.push(\r\n                <PaginationItem key=\"end-page\">\r\n                    <PaginationLink onClick={() => onPageChange(totalPages)}>\r\n                        {totalPages}\r\n                    </PaginationLink>\r\n                </PaginationItem>\r\n            );\r\n        }\r\n        \r\n        // Add next button\r\n        items.push(\r\n            <PaginationItem key=\"next\">\r\n                <PaginationNext \r\n                    onClick={() => onPageChange(Math.min(totalPages, currentPage + 1))}\r\n                    className={currentPage === totalPages ? \"pointer-events-none opacity-50\" : \"cursor-pointer\"}\r\n                />\r\n            </PaginationItem>\r\n        );\r\n        \r\n        return items;\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"rounded-md border\">\r\n                <Table>\r\n                    <TableHeader>\r\n                        <TableRow>\r\n                            <TableHead>Date</TableHead>\r\n                            <TableHead>Message</TableHead>\r\n                            <TableHead>Status</TableHead>\r\n                            <TableHead>Action</TableHead>\r\n                        </TableRow>\r\n                    </TableHeader>\r\n                    <TableBody>\r\n                        {followUps.map((item) => (\r\n                            <TableRow key={item._id}>\r\n                                <TableCell>{new Date(item.date).toLocaleDateString()}</TableCell>\r\n                                <TableCell>{item.message}</TableCell>\r\n                                <TableCell>\r\n                                    <Select\r\n                                        value={item.status || \"New\"}\r\n                                        onValueChange={(value) => handleStatusChange(item._id, value)}\r\n                                    >\r\n                                        <SelectTrigger className=\"w-[180px]\">\r\n                                            <SelectValue placeholder={item.status || \"New\"} />\r\n                                        </SelectTrigger>\r\n                                        <SelectContent>\r\n                                            <SelectItem value=\"New\">New</SelectItem>\r\n                                            <SelectItem value=\"In Progress\">In Progress</SelectItem>\r\n                                            <SelectItem value=\"Completed\">Completed</SelectItem>\r\n                                        </SelectContent>\r\n                                    </Select>\r\n                                </TableCell>\r\n                                <TableCell>\r\n                                    <div className=\"flex gap-2\">\r\n                                        <button\r\n                                            onClick={() => onEdit(item._id)}\r\n                                            className=\"p-2 bg-blue-700 text-white rounded-full hover:bg-blue-800\"\r\n                                        >\r\n                                            <Pencil className=\"h-4 w-4\" />\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => handleDeleteClick(item._id)}\r\n                                            className=\"p-2 bg-red-600 text-white rounded-full hover:bg-red-700\"\r\n                                        >\r\n                                            <Trash2 className=\"h-4 w-4\" />\r\n                                        </button>\r\n                                    </div>\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        ))}\r\n                    </TableBody>\r\n                </Table>\r\n            </div>\r\n\r\n            {totalPages > 1 && (\r\n                <div className=\"mt-4\">\r\n                    <Pagination>\r\n                        <PaginationContent>\r\n                            {renderPaginationItems()}\r\n                        </PaginationContent>\r\n                    </Pagination>\r\n                </div>\r\n            )}\r\n\r\n            <AlertDialog open={isDeleteModalOpen} onOpenChange={setIsDeleteModalOpen}>\r\n                <AlertDialogContent>\r\n                    <AlertDialogHeader>\r\n                        <AlertDialogTitle>Confirm Delete</AlertDialogTitle>\r\n                        <AlertDialogDescription>\r\n                            Are you sure you want to delete this follow-up?\r\n                        </AlertDialogDescription>\r\n                    </AlertDialogHeader>\r\n                    <AlertDialogFooter>\r\n                        <AlertDialogCancel>Cancel</AlertDialogCancel>\r\n                        <AlertDialogAction \r\n                            onClick={handleConfirmDelete}\r\n                            className=\"bg-red-600 hover:bg-red-700\"\r\n                        >\r\n                            Yes, delete\r\n                        </AlertDialogAction>\r\n                    </AlertDialogFooter>\r\n                </AlertDialogContent>\r\n            </AlertDialog>\r\n        </>\r\n    );\r\n}","import { Button } from \"@/components/ui/button\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { useState } from \"react\";\r\n\r\nexport function AddFollowUpModal({ isOpen, onClose, onAddFollowUp }) {\r\n    const [newFollowUp, setNewFollowUp] = useState({\r\n        date: '',\r\n        message: ''\r\n    });\r\n\r\n    const handleAddFollowUp = () => {\r\n        onAddFollowUp(newFollowUp);\r\n        setNewFollowUp({ date: '', message: '' });\r\n    };\r\n\r\n    return (\r\n        <Dialog open={isOpen} onOpenChange={onClose}>\r\n            <DialogContent className=\"sm:max-w-[425px]\">\r\n                <DialogHeader>\r\n                    <DialogTitle>Add Follow Up</DialogTitle>\r\n                </DialogHeader>\r\n                <div className=\"grid gap-4 py-4\">\r\n                    <div className=\"grid grid-cols-4 items-center gap-4\">\r\n                        <Label htmlFor=\"date\" className=\"text-right\">\r\n                            Date\r\n                        </Label>\r\n                        <Input\r\n                        className=\" w-auto md:w-[4cm]\"\r\n                            id=\"date\"\r\n                            type=\"date\"\r\n                            value={newFollowUp.date ? new Date(newFollowUp.date).toISOString().slice(0, 10) : ''}\r\n                            onChange={(e) => setNewFollowUp({ ...newFollowUp, date: e.target.value })}\r\n                        />\r\n                    </div>\r\n                    <div className=\"grid grid-cols-4 items-center gap-4\">\r\n                        <Label htmlFor=\"message\" className=\"text-right\">\r\n                            Message\r\n                        </Label>\r\n                        <Textarea\r\n                            id=\"message\"\r\n                            value={newFollowUp.message}\r\n                            onChange={(e) => setNewFollowUp({ ...newFollowUp, message: e.target.value })}\r\n                            className=\"col-span-3\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex justify-end space-x-2\">\r\n                    <Button className=\"bg-red-600\" variant=\"outline\" onClick={onClose}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={handleAddFollowUp}>\r\n                        Add\r\n                    </Button>\r\n                </div>\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Save } from 'lucide-react';\r\nimport { useGetMessageByIdQuery, useUpdateMessageMutation } from '@/slice/followUp/followUp';\r\n\r\nexport default function EditFollowUpModal({ \r\n  isOpen, \r\n  onClose, \r\n  followUpId, \r\n  onSave \r\n}) {\r\n  const [editedFollowUp, setEditedFollowUp] = useState({\r\n    date: '',\r\n    message: ''\r\n  });\r\n\r\n  console.log('Follow Up ID:', followUpId);\r\n  \r\n  const { data: followUpData, isLoading, error: fetchError } = useGetMessageByIdQuery(followUpId, {\r\n    skip: !isOpen || !followUpId,\r\n  });\r\n\r\n  const [updateMessage, { isLoading: isUpdating, error: updateError }] = useUpdateMessageMutation();\r\n\r\n  useEffect(() => {\r\n    if (followUpData) {\r\n      // Format the date to mm/dd/yyyy\r\n      const formatDate = (dateString) => {\r\n        const date = new Date(dateString);\r\n        const mm = String(date.getMonth() + 1).padStart(2, '0');\r\n        const dd = String(date.getDate()).padStart(2, '0');\r\n        const yyyy = date.getFullYear();\r\n        return `${mm}/${dd}/${yyyy}`;\r\n      };\r\n\r\n      setEditedFollowUp({\r\n        date: formatDate(followUpData?.data?.date || ''),\r\n        message: followUpData?.data?.message || ''\r\n      });\r\n    }\r\n  }, [followUpData]);\r\n\r\n  const handleSave = async () => {\r\n    console.log(\"Saving follow-up:\", editedFollowUp);\r\n    console.log(\"Follow Up ID in handleSave:\", followUpId);\r\n\r\n    if (!editedFollowUp.date) {\r\n        alert(\"Please select a date.\");\r\n        return;\r\n    }\r\n\r\n    if (!editedFollowUp.message) {\r\n        alert(\"Please enter a message.\");\r\n        return;\r\n    }\r\n\r\n    try {\r\n        console.log(\"Attempting to update message\");\r\n\r\n        const result = await updateMessage({\r\n            message: editedFollowUp.message,\r\n            // Convert mm/dd/yyyy to yyyy-mm-dd before sending to API\r\n            date: new Date(editedFollowUp.date).toISOString().split('T')[0],\r\n            id: followUpId\r\n        }).unwrap();\r\n\r\n       \r\n\r\n        onSave({\r\n            ...followUpData?.data,\r\n            date: editedFollowUp.date,\r\n            message: editedFollowUp.message,\r\n        });\r\n\r\n        onClose();\r\n    } catch (error) {\r\n        console.error('Failed to update message:', error);\r\n        alert(`Update failed: ${error.message || 'Unknown error'}`);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (fetchError) {\r\n      console.error('Fetch Error:', fetchError);\r\n      alert(`Fetch Error: ${fetchError.message}`);\r\n    }\r\n    if (updateError) {\r\n      console.error('Update Error:', updateError);\r\n      alert(`Update Error: ${updateError.message}`);\r\n    }\r\n  }, [fetchError, updateError]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"sm:max-w-[425px]\">\r\n        <DialogHeader>\r\n          <DialogTitle>Edit Follow Up</DialogTitle>\r\n        </DialogHeader>\r\n        \r\n        {isLoading ? (\r\n          <div>Loading...</div>\r\n        ) : (\r\n          <div className=\"grid gap-4 py-4\">\r\n            <div className=\"grid grid-cols-4 items-center gap-4\">\r\n              <Label htmlFor=\"edit-date\" className=\"text-right\">\r\n                Date\r\n              </Label>\r\n              <Input\r\n                id=\"edit-date\"\r\n                type=\"text\"\r\n                placeholder=\"mm/dd/yyyy\"\r\n                value={editedFollowUp.date}\r\n                onChange={(e) => setEditedFollowUp({\r\n                  ...editedFollowUp, \r\n                  date: e.target.value\r\n                })}\r\n                className=\"col-span-3\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"grid grid-cols-4 items-center gap-4\">\r\n              <Label htmlFor=\"edit-message\" className=\"text-right\">\r\n                Message\r\n              </Label>\r\n              <Textarea\r\n                id=\"edit-message\"\r\n                value={editedFollowUp.message}\r\n                onChange={(e) => setEditedFollowUp({\r\n                  ...editedFollowUp, \r\n                  message: e.target.value\r\n                })}\r\n                className=\"col-span-3\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"flex justify-end gap-2\">\r\n              <Button \r\n                variant=\"outline\" \r\n                onClick={onClose}\r\n                disabled={isUpdating}\r\n                className=\"bg-red-600\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button \r\n                onClick={handleSave}\r\n                disabled={isUpdating}\r\n              >\r\n                <Save className=\"mr-2 h-4 w-4\" /> {isUpdating ? 'Saving...' : 'Save'}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\r\nimport { FollowUpTable } from './followup/FollowUpTable';\r\nimport { AddFollowUpModal } from './followup/AddFollwUpModel';\r\nimport {\r\n    useGetMessagesCountByInquiryIdQuery,\r\n    useCreateMessageMutation,\r\n    useDeleteMessageMutation,\r\n    useGetMessageByInquiryIdQuery\r\n} from '@/slice/followUp/followUp';\r\nimport EditFollowUpModal from './followup/EditFollowUp';\r\nimport { Badge } from '@/components/ui/badge';\r\n\r\n// Main FollowUpModal Container Component\r\n// Main FollowUpModal Container Component\r\nexport default function FollowUpModal({ inquiry, onFollowUpAdded }) {\r\n\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [isAddModalOpen, setIsAddModalOpen] = useState(false);\r\n    const [editModalOpen, setEditModalOpen] = useState(false);\r\n    const [selectedFollowUp, setSelectedFollowUp] = useState(null);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const itemsPerPage = 5;\r\n\r\n    // Fetch message count using the inquiryId\r\n    const { data: followUpCountData, error, isLoading, refetch } = useGetMessageByInquiryIdQuery(inquiry._id);\r\n\r\n    useEffect(() => {\r\n        if (error) {\r\n            console.error(\"Error fetching follow-up count:\", error);\r\n        }\r\n    }, [error]);\r\n\r\n    // Extract follow-ups and calculate pagination\r\n    const followUps = followUpCountData?.data || [];\r\n    const followUpCount = followUps.length;\r\n    const totalPages = Math.ceil(followUpCount / itemsPerPage);\r\n    const indexOfLastItem = currentPage * itemsPerPage;\r\n    const indexOfFirstItem = indexOfLastItem - itemsPerPage;\r\n    const currentFollowUps = followUps.slice(indexOfFirstItem, indexOfLastItem);\r\n\r\n    const [createMessage, { isLoading: isCreating }] = useCreateMessageMutation();\r\n    const [deleteMessage, { isLoading: isDeleting }] = useDeleteMessageMutation();\r\n\r\n    // Handle modal open/close\r\n    const handleOpenChange = (open) => {\r\n        setIsOpen(open);\r\n        if (open) {\r\n            refetch();\r\n        }\r\n    };\r\n\r\n    // Handle page change\r\n    const handlePageChange = (page) => {\r\n        if (page > 0 && page <= totalPages) {\r\n            setCurrentPage(page);\r\n        }\r\n    };\r\n\r\n    // Handle add follow-up\r\n    const handleAddFollowUp = async (newFollowUp) => {\r\n        if (newFollowUp.date && newFollowUp.message) {\r\n            const newMessage = {\r\n                inquiryId: inquiry._id,\r\n                date: newFollowUp.date,\r\n                message: newFollowUp.message,\r\n            };\r\n            try {\r\n                await createMessage(newMessage).unwrap();\r\n                refetch();\r\n                onFollowUpAdded(inquiry, followUpCount + 1);\r\n                setIsAddModalOpen(false);\r\n            } catch (error) {\r\n                console.error(\"Failed to add follow-up:\", error);\r\n            }\r\n        }\r\n    };\r\n\r\n    // Handle edit follow-up\r\n    const handleEditFollowUp = (followUp) => {\r\n        setSelectedFollowUp(followUp);\r\n        setEditModalOpen(true);\r\n    };\r\n\r\n    // Handle delete follow-up\r\n    const handleDeleteFollowUp = async (followUpId) => {\r\n        try {\r\n            await deleteMessage(followUpId).unwrap();\r\n            refetch();\r\n            onFollowUpAdded(inquiry, followUpCount - 1);\r\n        } catch (error) {\r\n            console.error(\"Failed to delete follow-up:\", error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Dialog open={isOpen} onOpenChange={handleOpenChange}>\r\n                <DialogTrigger asChild>\r\n                    <Button variant=\"outline\" className=\"text-right bg-[#3b1f91] text-white\">\r\n                        Follow Up \r\n                        <Badge variant=\"outline\" className=\"bg-[#ffffff] text-black\">{followUpCount}\r\n\r\n                        </Badge>\r\n                    </Button>\r\n                </DialogTrigger>\r\n                <DialogContent className=\"sm:max-w-[60%] h-auto\">\r\n                    <div className=\"grid gap-4\">\r\n                        <div className=\"flex justify-between items-center mt-5 mb-4\">\r\n                            <DialogHeader>\r\n                                <DialogTitle>Follow Up - {inquiry.firstName} {inquiry.lastName}</DialogTitle>\r\n                            </DialogHeader>\r\n                            <Button\r\n                                onClick={() => setIsAddModalOpen(true)}\r\n                                className=\"flex items-center gap-2\"\r\n                            >\r\n                                Add Follow Up\r\n                            </Button>\r\n                        </div>\r\n\r\n                        <FollowUpTable\r\n                            followUps={currentFollowUps}\r\n                            onEdit={handleEditFollowUp}\r\n                            onDelete={handleDeleteFollowUp}\r\n                            currentPage={currentPage}\r\n                            totalPages={totalPages}\r\n                            onPageChange={handlePageChange}\r\n                        />\r\n                    </div>\r\n                </DialogContent>\r\n            </Dialog>\r\n\r\n            <AddFollowUpModal\r\n                isOpen={isAddModalOpen}\r\n                onClose={() => setIsAddModalOpen(false)}\r\n                onAddFollowUp={handleAddFollowUp}\r\n            />\r\n\r\n            <EditFollowUpModal\r\n                isOpen={editModalOpen}\r\n                onClose={() => setEditModalOpen(false)}\r\n                followUpId={selectedFollowUp}\r\n                onSave={() => {\r\n                    refetch();\r\n                    setEditModalOpen(false);\r\n                }}\r\n            />\r\n        </>\r\n    );\r\n}\r\n\r\n","import { useState } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport {\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableHead,\r\n    TableHeader,\r\n    TableRow,\r\n} from \"@/components/ui/table\";\r\nimport { ChevronDown, EllipsisVertical, MoreVertical, Plus } from \"lucide-react\";\r\nimport FollowUpModal from \"./FollowUpModel\";\r\nimport { useDeleteInquiryMutation } from \"@/slice/inquiry/inquiry\";\r\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@/components/ui/dropdown-menu\";\r\nimport { useGetInquiriesQuery } from \"@/slice/inquiry/inquiry\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useGetAllStatusesQuery } from \"@/slice/status/status\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport EmailForm from \"@/email/emailForm/EmailForm\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { \r\n    AlertDialog,\r\n    AlertDialogAction,\r\n    AlertDialogCancel,\r\n    AlertDialogContent,\r\n    AlertDialogDescription,\r\n    AlertDialogFooter,\r\n    AlertDialogHeader,\r\n    AlertDialogTitle,\r\n} from \"@/components/ui/alert-dialog\";\r\n\r\n// Define all possible statuses\r\nconst ALL_STATUSES = [\r\n    \"Contact in Future\",\r\n    \"Pending\",\r\n    \"Completed\",\r\n    \"In Progress\",\r\n    \"New Inquiry\",\r\n    \"Rejected\",\r\n    \"On Hold\"\r\n];\r\n\r\nexport default function InquiryList() {\r\n    const { data: inquiryData = [], isLoading, isError } = useGetInquiriesQuery();\r\n    console.log(inquiryData)\r\n    const [itemsPerPage, setItemsPerPage] = useState(15);\r\n    const [data, setData] = useState(inquiryData);\r\n    const [deleteInquiry] = useDeleteInquiryMutation();\r\n    const { data: statuses, isLoading: statusesLoading } = useGetAllStatusesQuery();\r\n    console.log(statuses)\r\n    \r\n    // State for filters\r\n    const [companyNameFilter, setCompanyNameFilter] = useState(\"\");\r\n    const [statusFilter, setStatusFilter] = useState(null);\r\n    const [sourceFilter, setSourceFilter] = useState(null);\r\n    const [nameFilter, setNameFilter] = useState(null);\r\n    const [emailFilter, setEmailFilter] = useState(\"\");\r\n    const [mobileFilter, setMobileFilter] = useState(\"\");\r\n    const [cityFilter, setCityFilter] = useState(\"\");\r\n    const [selectedInquiries, setSelectedInquiries] = useState([]);\r\n    const [showEmailModal, setShowEmailModal] = useState(false);\r\n    \r\n    // State for delete confirmation modal\r\n    const [deleteModalOpen, setDeleteModalOpen] = useState(false);\r\n    const [inquiryToDelete, setInquiryToDelete] = useState(null);\r\n\r\n    // Filtering function\r\n    const filteredData = inquiryData.filter(item => {\r\n        return (\r\n            (companyNameFilter === \"\" ||\r\n                item.organisation.toLowerCase().includes(companyNameFilter.toLowerCase())) &&\r\n            (statusFilter === null || item.status === statusFilter) &&\r\n            (sourceFilter === null || item.source === sourceFilter) &&\r\n            (nameFilter === null || \r\n                `${item.firstName} ${item.lastName}`.toLowerCase().includes(nameFilter.toLowerCase())) &&\r\n            (emailFilter === \"\" ||\r\n                item.email.toLowerCase().includes(emailFilter.toLowerCase())) &&\r\n            (mobileFilter === \"\" ||\r\n                item.phone.toLowerCase().includes(mobileFilter.toLowerCase()))\r\n        );\r\n    });\r\n\r\n    // Get selected inquiry emails\r\n    const selectedInquiryEmails = filteredData\r\n        ?.filter((inquiry) => selectedInquiries.includes(inquiry._id))\r\n        ?.map((inquiry) => inquiry.email)\r\n        ?.join(\", \");\r\n\r\n    const openDeleteModal = (inquiryId) => {\r\n        setInquiryToDelete(inquiryId);\r\n        setDeleteModalOpen(true);\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        try {\r\n            await deleteInquiry(inquiryToDelete);\r\n            setData(prevData => prevData.filter(item => item._id !== inquiryToDelete));\r\n        } catch (error) {\r\n            console.error(\"Error deleting inquiry:\", error);\r\n        } finally {\r\n            setDeleteModalOpen(false);\r\n            setInquiryToDelete(null);\r\n        }\r\n    };\r\n\r\n    // Handle status update for a specific inquiry\r\n    const handleStatusUpdate = (inquiry, newStatus) => {\r\n        setData(prevData =>\r\n            prevData.map(item =>\r\n                item.companyName === inquiry.companyName\r\n                    ? { ...item, status: newStatus }\r\n                    : item\r\n            )\r\n        );\r\n    };\r\n\r\n    const handleFollowUpAdded = (inquiry, newTotalTasks) => {\r\n        setData(prevData =>\r\n            prevData.map(item =>\r\n                item.companyName === inquiry.companyName\r\n                    ? { ...item, totalTasks: newTotalTasks }\r\n                    : item\r\n            )\r\n        );\r\n    };\r\n\r\n    const handleInquirySelect = (inquiryId) => {\r\n        setSelectedInquiries((prev) =>\r\n            prev.includes(inquiryId)\r\n                ? prev.filter((id) => id !== inquiryId)\r\n                : [...prev, inquiryId]\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-4\">\r\n            {selectedInquiries.length > 0 && (\r\n                <div className=\"mb-4\">\r\n                    <Button \r\n                        onClick={() => setShowEmailModal(true)}\r\n                        className=\"bg-[#3b1f91] hover:bg-purple-700\"\r\n                    >\r\n                        Send Email to Selected ({selectedInquiries.length})\r\n                    </Button>\r\n                </div>\r\n            )}\r\n\r\n            {/* Email Modal using shadcn Dialog */}\r\n            <Dialog open={showEmailModal} onOpenChange={setShowEmailModal}>\r\n                <DialogContent className=\"max-w-4xl\">\r\n                    <DialogHeader>\r\n                        <DialogTitle>Send Email to Selected Inquiries</DialogTitle>\r\n                    </DialogHeader>\r\n                    <EmailForm \r\n                        defaultTo={selectedInquiryEmails}\r\n                        onSuccess={() => {\r\n                            setShowEmailModal(false);\r\n                            setSelectedInquiries([]);\r\n                        }}\r\n                    />\r\n                </DialogContent>\r\n            </Dialog>\r\n\r\n            {/* Delete Confirmation Modal using shadcn AlertDialog */}\r\n            <AlertDialog open={deleteModalOpen} onOpenChange={setDeleteModalOpen}>\r\n                <AlertDialogContent>\r\n                    <AlertDialogHeader>\r\n                        <AlertDialogTitle>Are you sure you want to delete this inquiry?</AlertDialogTitle>\r\n                        <AlertDialogDescription>\r\n                            This action cannot be undone.\r\n                        </AlertDialogDescription>\r\n                    </AlertDialogHeader>\r\n                    <AlertDialogFooter>\r\n                        <AlertDialogCancel>Cancel</AlertDialogCancel>\r\n                        <AlertDialogAction onClick={handleDelete} className=\"bg-red-600 hover:bg-red-700\">\r\n                            Delete\r\n                        </AlertDialogAction>\r\n                    </AlertDialogFooter>\r\n                </AlertDialogContent>\r\n            </AlertDialog>\r\n\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n                <h1 className=\"text-xl font-semibold\">Inquiry List</h1>\r\n                <Link to='/add-inquiry'>\r\n                    <Button className=\"gap-2\">\r\n                        <Plus className=\"h-4 w-4\" />\r\n                        Add Inquiry\r\n                    </Button>\r\n                </Link>\r\n            </div>\r\n\r\n            <Table className=\"border\">\r\n                <TableHeader>\r\n                    <TableRow className=\"border-b bg-gray-100\">\r\n                        <TableHead className=\"w-12\"></TableHead>\r\n                        <TableHead className=\"lg:w-[100px] w-[50px] sticky left-0 bg-background z-50\">Date</TableHead>\r\n                        <TableHead className=\"text-left\">Info</TableHead>\r\n                        <TableHead className=\"text-left\">Message</TableHead>\r\n                        <TableHead className=\"text-left\">Follow Up</TableHead>\r\n                        <TableHead className=\"w-[80px] text-left\">Actions</TableHead>\r\n                    </TableRow>\r\n                    <TableRow className=\"border-b\">\r\n                        <TableHead></TableHead>\r\n                        <TableHead></TableHead>\r\n                        <TableHead>\r\n                            <Input\r\n                                placeholder=\"Search Info\"\r\n                                className=\"w-[200px]\"\r\n                                value={nameFilter || \"\"}\r\n                                onChange={(e) => setNameFilter(e.target.value)}\r\n                            />\r\n                        </TableHead>\r\n                        <TableHead>\r\n                            <Select\r\n                                value={statusFilter || \"reset\"}\r\n                                onValueChange={(value) => setStatusFilter(value === \"reset\" ? null : value)}\r\n                            >\r\n                                <SelectContent>\r\n                                    <SelectItem value=\"reset\">All Statuses</SelectItem>\r\n                                    {statuses?.data?.map((status) => (\r\n                                        <SelectItem key={status._id} value={status.status}>\r\n                                            {status.status}\r\n                                        </SelectItem>\r\n                                    ))}\r\n                                </SelectContent>\r\n                            </Select>\r\n                        </TableHead>\r\n                        <TableHead></TableHead>\r\n                        <TableHead></TableHead>\r\n                    </TableRow>\r\n                </TableHeader>\r\n                <TableBody>\r\n                    {filteredData.map((item, index) => (\r\n                        <TableRow key={index} className=\"border-b\">\r\n                            <TableCell className=\"p-5\">\r\n                                <Checkbox\r\n                                    checked={selectedInquiries.includes(item._id)}\r\n                                    onCheckedChange={() => handleInquirySelect(item._id)}\r\n                                />\r\n                            </TableCell>\r\n                            <TableCell className=\"sticky left-0 bg-background\">{item.createdAt.slice(0, 10)}</TableCell>\r\n                            <TableCell>\r\n                                <div className=\"space-y-1\">\r\n                                    <div className=\"font-medium\">{item.firstName} {item.lastName},</div>\r\n                                    {item.organisation} ,\r\n                                    <div className=\"text-sm text-muted-foreground\">\r\n                                    {item.email}\r\n                                    </div>\r\n                                    <div className=\"text-sm text-muted-foreground\">\r\n                                    \r\n                                        {item.phone} â€¢ {item.address} \r\n                                    </div>\r\n                                </div>\r\n                            </TableCell>\r\n                            <TableCell>{item.message}</TableCell>\r\n                            <TableCell className=\"text-left\">\r\n                                <FollowUpModal\r\n                                    inquiry={item}\r\n                                    onFollowUpAdded={handleFollowUpAdded}\r\n                                />\r\n                            </TableCell>\r\n                            <TableCell className=\"text-center\">\r\n                                <DropdownMenu>\r\n                                    <DropdownMenuTrigger asChild>\r\n                                        <button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 p-0\">\r\n                                            <EllipsisVertical className=\"h-4 w-4\" />\r\n                                        </button>\r\n                                    </DropdownMenuTrigger>\r\n                                    <DropdownMenuContent align=\"end\" className=\"w-[160px]\">\r\n                                        <Link to={`/edit-inquiry/${item._id}`}>\r\n                                            <DropdownMenuItem>Edit</DropdownMenuItem>\r\n                                        </Link>\r\n                                        <DropdownMenuItem onClick={() => openDeleteModal(item._id)}>\r\n                                            Delete\r\n                                        </DropdownMenuItem>\r\n                                    </DropdownMenuContent>\r\n                                </DropdownMenu>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n\r\n            <div className=\"flex items-center justify-between mt-4\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <span className=\"text-sm\">Items per page:</span>\r\n                    <Select value={itemsPerPage.toString()} onValueChange={(value) => setItemsPerPage(Number(value))}>\r\n                        <SelectTrigger className=\"w-[70px]\">\r\n                            <SelectValue>{itemsPerPage}</SelectValue>\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                            <SelectItem value=\"15\">15</SelectItem>\r\n                            <SelectItem value=\"25\">25</SelectItem>\r\n                            <SelectItem value=\"50\">50</SelectItem>\r\n                            <SelectItem value=\"100\">100</SelectItem>\r\n                        </SelectContent>\r\n                    </Select>\r\n                </div>\r\n                <div className=\"text-sm text-muted-foreground\">\r\n                    {`1-${Math.min(itemsPerPage, filteredData.length)} of ${filteredData.length}`}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"names":["Save","createLucideIcon","d","key","FollowUpTable","followUps","onEdit","onDelete","currentPage","totalPages","onPageChange","isDeleteModalOpen","setIsDeleteModalOpen","useState","deleteItemId","setDeleteItemId","updateMessage","useUpdateMessageMutation","refetch","useGetMessagesQuery","handleStatusChange","id","newStatus","async","updateData","unwrap","error","handleUpdate","status","jsxs","Fragment","children","jsx","className","Table","TableHeader","TableRow","TableHead","TableBody","map","item","TableCell","Date","date","toLocaleDateString","message","Select","value","onValueChange","_id","SelectTrigger","SelectValue","placeholder","SelectContent","SelectItem","onClick","Pencil","handleDeleteClick","Trash2","Pagination","PaginationContent","items","startPage","Math","max","floor","maxVisiblePages","endPage","min","push","PaginationItem","PaginationPrevious","PaginationLink","PaginationEllipsis","i","isActive","PaginationNext","renderPaginationItems","AlertDialog","open","onOpenChange","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","length","AddFollowUpModal","isOpen","onClose","onAddFollowUp","newFollowUp","setNewFollowUp","Dialog","DialogContent","DialogHeader","DialogTitle","Label","htmlFor","Input","type","toISOString","slice","onChange","e","target","Textarea","Button","variant","EditFollowUpModal","followUpId","onSave","editedFollowUp","setEditedFollowUp","data","followUpData","isLoading","fetchError","useGetMessageByIdQuery","skip","isUpdating","updateError","useEffect","dateString","String","getMonth","padStart","getDate","getFullYear","formatDate","alert","disabled","split","FollowUpModal","inquiry","onFollowUpAdded","setIsOpen","isAddModalOpen","setIsAddModalOpen","editModalOpen","setEditModalOpen","selectedFollowUp","setSelectedFollowUp","setCurrentPage","followUpCountData","useGetMessageByInquiryIdQuery","followUpCount","ceil","indexOfLastItem","indexOfFirstItem","currentFollowUps","createMessage","isCreating","useCreateMessageMutation","deleteMessage","isDeleting","useDeleteMessageMutation","DialogTrigger","asChild","Badge","firstName","lastName","followUp","page","newMessage","inquiryId","InquiryList","inquiryData","isError","useGetInquiriesQuery","itemsPerPage","setItemsPerPage","setData","deleteInquiry","useDeleteInquiryMutation","statuses","statusesLoading","useGetAllStatusesQuery","companyNameFilter","setCompanyNameFilter","statusFilter","setStatusFilter","sourceFilter","setSourceFilter","nameFilter","setNameFilter","emailFilter","setEmailFilter","mobileFilter","setMobileFilter","cityFilter","setCityFilter","selectedInquiries","setSelectedInquiries","showEmailModal","setShowEmailModal","deleteModalOpen","setDeleteModalOpen","inquiryToDelete","setInquiryToDelete","filteredData","filter","organisation","toLowerCase","includes","source","email","phone","selectedInquiryEmails","join","handleFollowUpAdded","newTotalTasks","prevData","companyName","totalTasks","EmailForm","defaultTo","onSuccess","Link","to","Plus","index","Checkbox","checked","onCheckedChange","handleInquirySelect","prev","createdAt","address","DropdownMenu","DropdownMenuTrigger","size","EllipsisVertical","DropdownMenuContent","align","DropdownMenuItem","openDeleteModal","toString","Number"],"mappings":"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","x_google_ignoreList":[0]}