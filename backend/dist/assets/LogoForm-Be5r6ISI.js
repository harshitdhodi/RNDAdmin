import{r as e,j as a}from"./react-BfBsRgn0.js";import{b9 as o,a1 as r}from"./index-mCSb4W1J.js";import"./classnames-C3ovBj6j.js";import"./react-dom-DwrudmHt.js";import"./scheduler-BFk34ZWe.js";import"./react-redux-DbBiFgqA.js";import"./use-sync-external-store-DdeJV4gQ.js";import"./@reduxjs-UCSEaN3g.js";import"./redux-C5Huw2aR.js";import"./immer-DgfQkf_7.js";import"./redux-thunk-B3S1iNVp.js";import"./reselect-BSOs5pU1.js";import"./js-cookie-BXEMiIsG.js";import"./react-router-DUJjWq5j.js";import"./cookie-BUTH-fPQ.js";import"./@radix-ui-BWjeGzol.js";import"./aria-hidden-BHUiN-rI.js";import"./react-remove-scroll-yauc81_r.js";import"./tslib-Bc9CN1Ef.js";import"./react-remove-scroll-bar-BcxDecei.js";import"./react-style-singleton-C1QVuB2c.js";import"./get-nonce-BYiZHLe3.js";import"./use-sidecar-BA4C4RS7.js";import"./use-callback-ref-Cvx1xcTX.js";import"./@floating-ui-BSChQBl3.js";import"./class-variance-authority-DeOWI0hf.js";import"./clsx-BeLtu-UY.js";import"./tailwind-merge-D2VJQb_v.js";import"./lucide-D6BDVLHE.js";import"./axios-BoylL8Pu.js";const t=()=>{const[t,{isLoading:s}]=o(),{data:l,isFetching:i}=r(),[m,n]=e.useState({headerLogo:null,headerLogoName:"",headerLogoAltName:"",favIcon:null,favIconName:"",favIconAltName:""}),[d,c]=e.useState({headerLogo:null,favIcon:null});e.useEffect((()=>{l&&(n((e=>({...e,headerLogoName:l.headerLogoName||"",headerLogoAltName:l.headerLogoAltName||"",favIconName:l.favIconName||"",favIconAltName:l.favIconAltName||""}))),c({headerLogo:l.headerLogo?`/api/logo/download/${l.headerLogo}`:null,favIcon:l.favIcon?`/api/logo/download/${l.favIcon}`:null}))}),[l]);const p=e=>{const{name:a,value:o}=e.target;n((e=>({...e,[a]:o})))};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-3",children:"Update Company Logo"}),i?a.jsx("p",{className:"text-gray-500",children:"Loading logo data..."}):a.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=new FormData;Object.keys(m).forEach((a=>{m[a]&&e.append(a,m[a])})),await t(e).unwrap(),alert("Logo updated successfully!")}catch(a){alert("Failed to update logo. Please try again.")}},className:"space-y-6",children:[[{label:"Header Logo",name:"headerLogo",previewKey:"headerLogo"},{label:"Favicon",name:"favIcon",previewKey:"favIcon"}].map((({label:e,name:o,previewKey:r})=>a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:e}),a.jsx("input",{type:"file",name:o,accept:"image/*",onChange:e=>((e,a)=>{const o=e.target.files[0];o&&(n((e=>({...e,[a]:o}))),c((e=>({...e,[a]:URL.createObjectURL(o)}))))})(e,o),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:border file:border-gray-300 file:text-gray-700 file:bg-white hover:file:bg-gray-100"}),d[r]&&a.jsxs("div",{className:"mt-4 p-4 bg-white border border-gray-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),a.jsx("img",{src:d[r],alt:e||"img",className:"h-20 object-contain"})]}),a.jsx("input",{type:"text",name:`${o}Name`,value:m[`${o}Name`],onChange:p,placeholder:`${e} Name`,className:"w-full px-4 py-2 mt-2 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200"}),a.jsx("input",{type:"text",name:`${o}AltName`,value:m[`${o}AltName`],onChange:p,placeholder:`${e} Alt Name`,className:"w-full px-4 py-2 mt-2 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200"})]},o))),a.jsx("button",{type:"submit",disabled:s,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md transition duration-300",children:s?"Updating...":"Update Logo"})]})]})};export{t as default};
