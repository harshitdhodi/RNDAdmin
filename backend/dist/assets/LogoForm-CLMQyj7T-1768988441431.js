import{et as x,bv as h,r as i,j as e}from"./index-DIfLp59a-1768988441431.js";const y=()=>{const[u,{isLoading:m}]=x(),{data:a,isFetching:p}=h(),[l,d]=i.useState({headerLogo:null,headerLogoName:"",headerLogoAltName:"",favIcon:null,favIconName:"",favIconAltName:"",footerLogo:null,footerLogoName:"",footerLogoAltName:"",tagline:""}),[s,c]=i.useState({headerLogo:null,favIcon:null,footerLogo:null});i.useEffect(()=>{a&&(d(t=>({...t,headerLogoName:a.headerLogoName||"",headerLogoAltName:a.headerLogoAltName||"",tagline:a.tagline||"",footerLogoName:a.footerLogoName||"",footerLogoAltName:a.footerLogoAltName||"",favIconName:a.favIconName||"",favIconAltName:a.favIconAltName||""})),c({headerLogo:a.headerLogo?`/api/logo/download/${a.headerLogo}`:null,favIcon:a.favIcon?`/api/logo/download/${a.favIcon}`:null,footerLogo:a.footerLogo?`/api/logo/download/${a.footerLogo}`:null}))},[a]);const f=(t,o)=>{const r=t.target.files[0];r&&(d(n=>({...n,[o]:r})),c(n=>({...n,[o]:URL.createObjectURL(r)})))},g=t=>{const{name:o,value:r}=t.target;d(n=>({...n,[o]:r}))},b=async t=>{t.preventDefault();try{const o=new FormData;Object.keys(l).forEach(r=>{l[r]&&o.append(r,l[r])}),await u(o).unwrap(),alert("Logo updated successfully!")}catch(o){console.error("Failed to update logo:",o),alert("Failed to update logo. Please try again.")}};return e.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-3",children:"Update Company Logo"}),p?e.jsx("p",{className:"text-gray-500",children:"Loading logo data..."}):e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[[{label:"Header Logo",name:"headerLogo",previewKey:"headerLogo"},{label:"Favicon",name:"favIcon",previewKey:"favIcon"}].map(({label:t,name:o,previewKey:r})=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:t}),e.jsx("input",{type:"file",name:o,accept:"image/*",onChange:n=>f(n,o),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:border file:border-gray-300 file:text-gray-700 file:bg-white hover:file:bg-gray-100"}),s[r]&&e.jsxs("div",{className:"mt-4 p-4 bg-white border border-gray-200 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),e.jsx("img",{src:s[r],alt:t||"img",className:"h-20 object-contain"})]}),e.jsx("input",{type:"text",name:`${o}Name`,value:l[`${o}Name`],onChange:g,placeholder:`${t} Name`,className:"w-full px-4 py-2 mt-2 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200"}),e.jsx("input",{type:"text",name:`${o}AltName`,value:l[`${o}AltName`],onChange:g,placeholder:`${t} Alt Name`,className:"w-full px-4 py-2 mt-2 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200"})]},o)),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Footer Logo"}),e.jsx("input",{type:"file",name:"footerLogo",accept:"image/*",onChange:t=>f(t,"footerLogo"),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:border file:border-gray-300 file:text-gray-700 file:bg-white hover:file:bg-gray-100"}),s.footerLogo&&e.jsxs("div",{className:"mt-4 p-4 bg-white border border-gray-200 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),e.jsx("img",{src:s.footerLogo,alt:"Footer Logo Preview",className:"h-20 object-contain"})]}),e.jsx("input",{type:"text",name:"footerLogoName",value:l.footerLogoName,onChange:g,placeholder:"Footer Logo Name",className:"w-full px-4 py-2 mt-2 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200"}),e.jsx("input",{type:"text",name:"footerLogoAltName",value:l.footerLogoAltName,onChange:g,placeholder:"Footer Logo Alt Name",className:"w-full px-4 py-2 mt-2 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200"})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[e.jsx("label",{htmlFor:"tagline",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tagline"}),e.jsx("input",{type:"text",id:"tagline",name:"tagline",value:l.tagline,onChange:g,placeholder:"Enter tagline",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200"})]}),e.jsx("button",{type:"submit",disabled:m,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md transition duration-300",children:m?"Updating...":"Update Logo"})]})]})};export{y as default};
