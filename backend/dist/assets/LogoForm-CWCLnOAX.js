import{b_ as x,ai as b,j as a}from"./main-BqSaw_sq.js";import{c as d}from"./vendor-DNXw0_ws.js";const y=()=>{const[u,{isLoading:i}]=x(),{data:r,isFetching:f}=b(),[n,s]=d.useState({headerLogo:null,headerLogoName:"",headerLogoAltName:"",favIcon:null,favIconName:"",favIconAltName:""}),[c,g]=d.useState({headerLogo:null,favIcon:null});d.useEffect(()=>{r&&(s(o=>({...o,headerLogoName:r.headerLogoName||"",headerLogoAltName:r.headerLogoAltName||"",favIconName:r.favIconName||"",favIconAltName:r.favIconAltName||""})),g({headerLogo:r.headerLogo?`/api/logo/download/${r.headerLogo}`:null,favIcon:r.favIcon?`/api/logo/download/${r.favIcon}`:null}))},[r]);const p=(o,e)=>{const t=o.target.files[0];t&&(s(l=>({...l,[e]:t})),g(l=>({...l,[e]:URL.createObjectURL(t)})))},m=o=>{const{name:e,value:t}=o.target;s(l=>({...l,[e]:t}))},h=async o=>{o.preventDefault();try{const e=new FormData;Object.keys(n).forEach(t=>{n[t]&&e.append(t,n[t])}),await u(e).unwrap(),alert("Logo updated successfully!")}catch(e){console.error("Failed to update logo:",e),alert("Failed to update logo. Please try again.")}};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-3",children:"Update Company Logo"}),f?a.jsx("p",{className:"text-gray-500",children:"Loading logo data..."}):a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[[{label:"Header Logo",name:"headerLogo",previewKey:"headerLogo"},{label:"Favicon",name:"favIcon",previewKey:"favIcon"}].map(({label:o,name:e,previewKey:t})=>a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:o}),a.jsx("input",{type:"file",name:e,accept:"image/*",onChange:l=>p(l,e),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:border file:border-gray-300 file:text-gray-700 file:bg-white hover:file:bg-gray-100"}),c[t]&&a.jsxs("div",{className:"mt-4 p-4 bg-white border border-gray-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),a.jsx("img",{src:c[t],alt:o||"img",className:"h-20 object-contain"})]}),a.jsx("input",{type:"text",name:`${e}Name`,value:n[`${e}Name`],onChange:m,placeholder:`${o} Name`,className:"w-full px-4 py-2 mt-2 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200"}),a.jsx("input",{type:"text",name:`${e}AltName`,value:n[`${e}AltName`],onChange:m,placeholder:`${o} Alt Name`,className:"w-full px-4 py-2 mt-2 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200"})]},e)),a.jsx("button",{type:"submit",disabled:i,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md transition duration-300",children:i?"Updating...":"Update Logo"})]})]})};export{y as default};
