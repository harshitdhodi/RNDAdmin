import{bS as e,a6 as a,j as o}from"./main-BcUd3ASm.js";import{r as t}from"./vendor-router-CaZtIe2_.js";import"./vendor-react-DD_RYU77.js";import"./vendor-utils-CfKmydC0.js";const r=()=>{const[r,{isLoading:l}]=e(),{data:n,isFetching:d}=a(),[s,i]=t.useState({headerLogo:null,headerLogoName:"",headerLogoAltName:"",favIcon:null,favIconName:"",favIconAltName:""}),[m,c]=t.useState({headerLogo:null,favIcon:null});t.useEffect((()=>{n&&(i((e=>({...e,headerLogoName:n.headerLogoName||"",headerLogoAltName:n.headerLogoAltName||"",favIconName:n.favIconName||"",favIconAltName:n.favIconAltName||""}))),c({headerLogo:n.headerLogo?`/api/logo/download/${n.headerLogo}`:null,favIcon:n.favIcon?`/api/logo/download/${n.favIcon}`:null}))}),[n]);const g=e=>{const{name:a,value:o}=e.target;i((e=>({...e,[a]:o})))};return o.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-3",children:"Update Company Logo"}),d?o.jsx("p",{className:"text-gray-500",children:"Loading logo data..."}):o.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=new FormData;Object.keys(s).forEach((a=>{s[a]&&e.append(a,s[a])})),await r(e).unwrap(),alert("Logo updated successfully!")}catch(a){alert("Failed to update logo. Please try again.")}},className:"space-y-6",children:[[{label:"Header Logo",name:"headerLogo",previewKey:"headerLogo"},{label:"Favicon",name:"favIcon",previewKey:"favIcon"}].map((({label:e,name:a,previewKey:t})=>o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:e}),o.jsx("input",{type:"file",name:a,accept:"image/*",onChange:e=>((e,a)=>{const o=e.target.files[0];o&&(i((e=>({...e,[a]:o}))),c((e=>({...e,[a]:URL.createObjectURL(o)}))))})(e,a),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:border file:border-gray-300 file:text-gray-700 file:bg-white hover:file:bg-gray-100"}),m[t]&&o.jsxs("div",{className:"mt-4 p-4 bg-white border border-gray-200 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),o.jsx("img",{src:m[t],alt:e||"img",className:"h-20 object-contain"})]}),o.jsx("input",{type:"text",name:`${a}Name`,value:s[`${a}Name`],onChange:g,placeholder:`${e} Name`,className:"w-full px-4 py-2 mt-2 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200"}),o.jsx("input",{type:"text",name:`${a}AltName`,value:s[`${a}AltName`],onChange:g,placeholder:`${e} Alt Name`,className:"w-full px-4 py-2 mt-2 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200"})]},a))),o.jsx("button",{type:"submit",disabled:l,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md transition duration-300",children:l?"Updating...":"Update Logo"})]})]})};export{r as default};
//# sourceMappingURL=LogoForm-CkOlgfxQ.js.map
