import{C as r,B as t,F as i,T as e,a as s,c as o}from"./antd-CxduzDaN.js";import{j as a}from"./react-BfBsRgn0.js";import{bf as m,bi as p}from"./index-mCSb4W1J.js";import{O as n,H as c,G as l}from"./ant-design-icons-DoIDTG1a.js";import{a as j,L as d}from"./react-router-DUJjWq5j.js";import"./@ant-design-DttPmOfw.js";import"./rc-util-CQtTJgfq.js";import"./@babel-BfC2A0EA.js";import"./react-is-BaRe0U6l.js";import"./react-dom-DwrudmHt.js";import"./classnames-C3ovBj6j.js";import"./scheduler-BFk34ZWe.js";import"./@emotion-Czw0TW3x.js";import"./stylis-IVPcsLSI.js";import"./@ctrl-B2IeE8ye.js";import"./rc-motion-Cs3GDHoo.js";import"./@rc-component-BB24pTyE.js";import"./rc-resize-observer-DUJXZwxn.js";import"./resize-observer-polyfill-CzGuHLZU.js";import"./rc-dialog-BGKNmDMe.js";import"./rc-table-CybQOAzy.js";import"./rc-virtual-list-P8JqKX09.js";import"./rc-tree--ithDbGw.js";import"./rc-checkbox-bMXfL26q.js";import"./rc-pagination-CiqGXVR2.js";import"./rc-select-sVu4PbUz.js";import"./rc-overflow-73VxJI7O.js";import"./throttle-debounce-w9OM8Bxz.js";import"./rc-input-ByOKN0-r.js";import"./rc-tooltip-C1heEwdg.js";import"./rc-notification-D3ebMW8F.js";import"./rc-image-BIQJV_M3.js";import"./rc-textarea-DLkAnH0O.js";import"./copy-to-clipboard-Bgp_G7Oq.js";import"./toggle-selection-DUsDmMsR.js";import"./rc-upload-ClZE7meS.js";import"./rc-progress-bbq4uvV3.js";import"./rc-dropdown-C238bXH-.js";import"./rc-menu-CzbBjnhu.js";import"./rc-field-form-DaYAwFJ8.js";import"./scroll-into-view-if-needed-cNB78-hM.js";import"./compute-scroll-into-view-CJmtT4lq.js";import"./rc-picker-B5UDvhgZ.js";import"./rc-tabs-DG0zBL9k.js";import"./react-redux-DbBiFgqA.js";import"./use-sync-external-store-DdeJV4gQ.js";import"./@reduxjs-UCSEaN3g.js";import"./redux-C5Huw2aR.js";import"./immer-DgfQkf_7.js";import"./redux-thunk-B3S1iNVp.js";import"./reselect-BSOs5pU1.js";import"./js-cookie-BXEMiIsG.js";import"./@radix-ui-BWjeGzol.js";import"./aria-hidden-BHUiN-rI.js";import"./react-remove-scroll-yauc81_r.js";import"./tslib-Bc9CN1Ef.js";import"./react-remove-scroll-bar-BcxDecei.js";import"./react-style-singleton-C1QVuB2c.js";import"./get-nonce-BYiZHLe3.js";import"./use-sidecar-BA4C4RS7.js";import"./use-callback-ref-Cvx1xcTX.js";import"./@floating-ui-BSChQBl3.js";import"./class-variance-authority-DeOWI0hf.js";import"./clsx-BeLtu-UY.js";import"./tailwind-merge-D2VJQb_v.js";import"./lucide-D6BDVLHE.js";import"./axios-BoylL8Pu.js";import"./cookie-BUTH-fPQ.js";const{Title:u}=e,h=()=>{const{data:e,error:h,isLoading:x,refetch:y}=m(),[f]=p(),g=j();if(x)return a.jsx("p",{children:"Loading..."});if(h)return a.jsxs("p",{style:{color:"red"},children:["Error: ",h.message]});const v=((null==e?void 0:e.data)||[]).map((r=>({key:r._id,name:r.parent.name,path:r.parent.path,isParent:!0,children:r.children.length>0?r.children.map((r=>{var t;return{key:r._id,name:`└── ${r.name}`,path:r.path,isParent:!1,children:(null==(t=r.subChildren)?void 0:t.length)>0?r.subChildren.map((r=>({key:r._id,name:`    └── ${r.name}`,path:r.path,isParent:!1}))):void 0}})):void 0}))),b=[{title:"Name",dataIndex:"name",key:"name"},{title:"Path",dataIndex:"path",key:"path"},{title:"Actions",key:"actions",render:(r,i)=>a.jsxs(s,{children:[a.jsx(o,{title:"Are you sure?",onConfirm:()=>(async r=>{await f(r),y()})(i.key),children:a.jsx(t,{type:"danger",shape:"circle",icon:a.jsx(c,{})})}),!i.name.includes("└──")&&a.jsx(t,{type:"primary",shape:"circle",icon:a.jsx(l,{}),onClick:()=>{return r=i.key,void g(`/menu-listing-form/${r}`);var r}})]})}];return a.jsxs(r,{children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[a.jsx(u,{level:3,children:"Menu Listings"}),a.jsx(d,{to:"/menu-listing-form",children:a.jsx(t,{type:"primary",icon:a.jsx(n,{}),children:"Add Menu"})})]}),a.jsx(i,{columns:b,dataSource:v,expandable:{defaultExpandAllRows:!1}})]})};export{h as default};
