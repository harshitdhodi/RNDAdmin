import{c3 as e,c6 as t,j as i}from"./main-DeRxjK88.js";import{d as r,L as s}from"./vendor-router-Bu4EHm1B.js";import{C as n}from"./index-ZcF9gzk5.js";import{T as a}from"./index-YLo9zIco.js";import{B as o}from"./index-lUiyPlMq.js";import{R as d}from"./PlusOutlined-5v_q8HFA.js";import{F as m}from"./Table-BZaWXI2p.js";import{S as l}from"./index-DoSF0nZj.js";import{P as p}from"./index-BPSI1-Ia.js";import{R as j}from"./DeleteOutlined-BpoFncVM.js";import{R as c}from"./EditOutlined-hcgcOCju.js";import"./vendor-react-CI5aWZjI.js";import"./vendor-utils-BfOc9lHv.js";import"./Skeleton-3ezOyxdU.js";import"./EllipsisOutlined-L4j7-ai9.js";import"./toArray-DkI11MDQ.js";import"./getAllowClear-exXUluB6.js";import"./addEventListener-BUKQhVN_.js";import"./TextArea-BEMUKMsu.js";import"./CheckOutlined-3fI3nOal.js";import"./index-j6PXCaBg.js";import"./dropdown-B7KEEEnN.js";import"./Input-BufppJmu.js";import"./index-VFidPMY_.js";import"./ExclamationCircleFilled-DZysw_83.js";import"./ActionButton-xPc0Gc43.js";const{Title:h}=a,x=()=>{const{data:a,error:x,isLoading:u,refetch:f}=e(),[y]=t(),g=r();if(u)return i.jsx("p",{children:"Loading..."});if(x)return i.jsxs("p",{style:{color:"red"},children:["Error: ",x.message]});const k=(a?.data||[]).map((e=>({key:e._id,name:e.parent.name,path:e.parent.path,isParent:!0,children:e.children.length>0?e.children.map((e=>({key:e._id,name:`└── ${e.name}`,path:e.path,isParent:!1,children:e.subChildren?.length>0?e.subChildren.map((e=>({key:e._id,name:`    └── ${e.name}`,path:e.path,isParent:!1}))):void 0}))):void 0}))),v=[{title:"Name",dataIndex:"name",key:"name"},{title:"Path",dataIndex:"path",key:"path"},{title:"Actions",key:"actions",render:(e,t)=>i.jsxs(l,{children:[i.jsx(p,{title:"Are you sure?",onConfirm:()=>(async e=>{await y(e),f()})(t.key),children:i.jsx(o,{type:"danger",shape:"circle",icon:i.jsx(j,{})})}),!t.name.includes("└──")&&i.jsx(o,{type:"primary",shape:"circle",icon:i.jsx(c,{}),onClick:()=>{return e=t.key,void g(`/menu-listing-form/${e}`);var e}})]})}];return i.jsxs(n,{children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[i.jsx(h,{level:3,children:"Menu Listings"}),i.jsx(s,{to:"/menu-listing-form",children:i.jsx(o,{type:"primary",icon:i.jsx(d,{}),children:"Add Menu"})})]}),i.jsx(m,{columns:v,dataSource:k,expandable:{defaultExpandAllRows:!1}})]})};export{x as default};
//# sourceMappingURL=MenuListingTable-BmK-ZD9X.js.map
