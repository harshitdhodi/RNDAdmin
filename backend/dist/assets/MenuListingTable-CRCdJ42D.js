import{C as x,B as p,F as y,T as g,a as j,c as L}from"./antd-mtWlDmqY.js";import{j as t}from"./react-DKICu8bO.js";import{be as k,bh as C}from"./index-Bbo1zcj1.js";import{O as M,H as b,G as v}from"./ant-design-icons-CNhZ1eT-.js";import{a as A,L as I}from"./react-router-B9QVkYva.js";import"./@ant-design-jkdqJqTn.js";import"./rc-util-C9ihiQ8l.js";import"./@babel-C_xKm-6V.js";import"./react-is-NfUKNnIv.js";import"./react-dom-BBS6HuAW.js";import"./classnames-Bv6oJzD9.js";import"./scheduler-CKyTKYc2.js";import"./@emotion-CW87jbl0.js";import"./stylis-OW4gUFyn.js";import"./@ctrl-DOFZgDuz.js";import"./rc-motion-D0k58WYE.js";import"./@rc-component-DJY3KRXL.js";import"./rc-resize-observer-h7CJ_t66.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./rc-dialog-CfVZmZCG.js";import"./rc-table-BJAsEMDh.js";import"./rc-virtual-list-OMMR-gr8.js";import"./rc-tree-aGCJh_41.js";import"./rc-checkbox-nRYcjTPl.js";import"./rc-pagination-ZKXeAm0h.js";import"./rc-select-RmeC3WgB.js";import"./rc-overflow-DEivB5rv.js";import"./throttle-debounce-CUWDS_la.js";import"./rc-input-CIUXRVU8.js";import"./rc-tooltip-Oavn6yow.js";import"./rc-notification-0md6QYDj.js";import"./rc-image-ClDwiN-j.js";import"./rc-textarea-CijmdGy3.js";import"./copy-to-clipboard-0rP7DRqq.js";import"./toggle-selection-DGa8lynz.js";import"./rc-upload-DlrdHvh1.js";import"./rc-progress-BVn0ZmF4.js";import"./rc-dropdown-D4AwxsUk.js";import"./rc-menu-MHhKtfoG.js";import"./rc-field-form-CVOtFEQA.js";import"./scroll-into-view-if-needed-BZeNfFF0.js";import"./compute-scroll-into-view-DWa9QgjM.js";import"./rc-picker-D0kXf0IF.js";import"./rc-tabs-XmQY-w_1.js";import"./react-redux-BrRfTdeB.js";import"./use-sync-external-store-D0ivhzzy.js";import"./@reduxjs-B5J9SSA5.js";import"./redux-DITMfSWq.js";import"./immer-fBqQtvEc.js";import"./redux-thunk-ClJT1hhx.js";import"./reselect-C27TLnWV.js";import"./js-cookie-Cz0CWeBA.js";import"./@radix-ui-BlrBCj0C.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-fXbmorz6.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-C9fmXXva.js";import"./react-style-singleton-DKBZmuKg.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-C10EJNOT.js";import"./use-callback-ref-BoKxM4XI.js";import"./@floating-ui-8J-daYO3.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./lucide-D7hRWJEP.js";import"./axios-DXsv3KKR.js";import"./@syncfusion-BIAkhmGL.js";import"./cookie--_YQFYBD.js";const{Title:P}=g,zt=()=>{const{data:e,error:m,isLoading:a,refetch:s}=k(),[l]=C(),c=A(),d=i=>{c(`/menu-listing-form/${i}`)},h=async i=>{await l(i),s()};if(a)return t.jsx("p",{children:"Loading..."});if(m)return t.jsxs("p",{style:{color:"red"},children:["Error: ",m.message]});const u=((e==null?void 0:e.data)||[]).map(i=>({key:i._id,name:i.parent.name,path:i.parent.path,isParent:!0,children:i.children.length>0?i.children.map(r=>{var n;return{key:r._id,name:`└── ${r.name}`,path:r.path,isParent:!1,children:((n=r.subChildren)==null?void 0:n.length)>0?r.subChildren.map(o=>({key:o._id,name:`    └── ${o.name}`,path:o.path,isParent:!1})):void 0}}):void 0})),f=[{title:"Name",dataIndex:"name",key:"name"},{title:"Path",dataIndex:"path",key:"path"},{title:"Actions",key:"actions",render:(i,r)=>t.jsxs(j,{children:[t.jsx(L,{title:"Are you sure?",onConfirm:()=>h(r.key),children:t.jsx(p,{type:"danger",shape:"circle",icon:t.jsx(b,{})})}),!r.name.includes("└──")&&t.jsx(p,{type:"primary",shape:"circle",icon:t.jsx(v,{}),onClick:()=>d(r.key)})]})}];return t.jsxs(x,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[t.jsx(P,{level:3,children:"Menu Listings"}),t.jsx(I,{to:"/menu-listing-form",children:t.jsx(p,{type:"primary",icon:t.jsx(M,{}),children:"Add Menu"})})]}),t.jsx(y,{columns:f,dataSource:u,expandable:{defaultExpandAllRows:!1}})]})};export{zt as default};
