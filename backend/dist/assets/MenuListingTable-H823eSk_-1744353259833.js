import{c3 as u,c6 as x,j as e}from"./main-D56VxXD--1744353259833.js";import{f as y,L as g}from"./vendor-CxfDVdnA-1744353259833.js";import{C as j}from"./index-CsaPXf8V-1744353259833.js";import{T as L}from"./index-CLzT6WUu-1744353259833.js";import{B as r}from"./index-CeokfHxc-1744353259833.js";import{R as k}from"./PlusOutlined-ByS4x5XY-1744353259833.js";import{F as R}from"./Table-D2I37vCJ-1744353259833.js";import{S as C}from"./index-D6pzoyr2-1744353259833.js";import{P as M}from"./index-DS8dpjLi-1744353259833.js";import{R as v}from"./DeleteOutlined-DEPDryec-1744353259833.js";import{R as P}from"./EditOutlined-BJ2v4d2_-1744353259833.js";import"./Skeleton-CsmC8Hp0-1744353259833.js";import"./toArray-Bbgf03cS-1744353259833.js";import"./EllipsisOutlined-hl-4kO-l-1744353259833.js";import"./addEventListener-BHzxKVLC-1744353259833.js";import"./TextArea-S0pu2rHE-1744353259833.js";import"./CheckOutlined-D7BlYXCZ-1744353259833.js";import"./index-BNrWvN6o-1744353259833.js";import"./dropdown-CHjX7P0V-1744353259833.js";import"./index-Dp4H5u-3-1744353259833.js";import"./useForceUpdate-DyRKnDW8-1744353259833.js";import"./index-3oiVchfD-1744353259833.js";import"./ExclamationCircleFilled-Dex7AzLT-1744353259833.js";import"./ActionButton-BWcXW6Wx-1744353259833.js";const{Title:A}=L,Z=()=>{const{data:s,error:a,isLoading:o,refetch:m}=u(),[p]=x(),l=y(),d=t=>{l(`/menu-listing-form/${t}`)},c=async t=>{await p(t),m()};if(o)return e.jsx("p",{children:"Loading..."});if(a)return e.jsxs("p",{style:{color:"red"},children:["Error: ",a.message]});const f=(s?.data||[]).map(t=>({key:t._id,name:t.parent.name,path:t.parent.path,isParent:!0,children:t.children.length>0?t.children.map(i=>({key:i._id,name:`└── ${i.name}`,path:i.path,isParent:!1,children:i.subChildren?.length>0?i.subChildren.map(n=>({key:n._id,name:`    └── ${n.name}`,path:n.path,isParent:!1})):void 0})):void 0})),h=[{title:"Name",dataIndex:"name",key:"name"},{title:"Path",dataIndex:"path",key:"path"},{title:"Actions",key:"actions",render:(t,i)=>e.jsxs(C,{children:[e.jsx(M,{title:"Are you sure?",onConfirm:()=>c(i.key),children:e.jsx(r,{type:"danger",shape:"circle",icon:e.jsx(v,{})})}),!i.name.includes("└──")&&e.jsx(r,{type:"primary",shape:"circle",icon:e.jsx(P,{}),onClick:()=>d(i.key)})]})}];return e.jsxs(j,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[e.jsx(A,{level:3,children:"Menu Listings"}),e.jsx(g,{to:"/menu-listing-form",children:e.jsx(r,{type:"primary",icon:e.jsx(k,{}),children:"Add Menu"})})]}),e.jsx(R,{columns:h,dataSource:f,expandable:{defaultExpandAllRows:!1}})]})};export{Z as default};
