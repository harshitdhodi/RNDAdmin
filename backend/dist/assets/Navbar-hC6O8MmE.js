import{r as o,j as e}from"./react-DKICu8bO.js";import{a0 as L,a1 as E,B as y}from"./index-Bbo1zcj1.js";import{a as k,L as i,u as $,O as M}from"./react-router-B9QVkYva.js";import{F as A}from"./Footer-DUsRlwxr.js";import{m as j,A as O}from"./framer-motion-ByfTfHPU.js";import{X as C,t as P}from"./lucide-D7hRWJEP.js";import"./classnames-Bv6oJzD9.js";import"./react-dom-BBS6HuAW.js";import"./scheduler-CKyTKYc2.js";import"./react-redux-BrRfTdeB.js";import"./use-sync-external-store-D0ivhzzy.js";import"./@reduxjs-B5J9SSA5.js";import"./redux-DITMfSWq.js";import"./immer-fBqQtvEc.js";import"./redux-thunk-ClJT1hhx.js";import"./reselect-C27TLnWV.js";import"./js-cookie-Cz0CWeBA.js";import"./@radix-ui-BlrBCj0C.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-fXbmorz6.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-C9fmXXva.js";import"./react-style-singleton-DKBZmuKg.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-C10EJNOT.js";import"./use-callback-ref-BoKxM4XI.js";import"./@floating-ui-8J-daYO3.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./axios-DXsv3KKR.js";import"./@syncfusion-BIAkhmGL.js";import"./cookie--_YQFYBD.js";import"./motion-utils-C_SlKRoS.js";import"./motion-dom-DWDx2Ux7.js";function b({href:r,children:l,hasDropdown:a=!1,categories:c=[],className:x=""}){const d=k(),[w,p]=o.useState(!1),[m,h]=o.useState(null),g=s=>{console.log("Category clicked:",s),d(`/${s.slug}`,{state:{chemicalName:s.name,categoryName:s.category,slug2:s.slug}})},f=(s,u)=>{console.log("Subcategory clicked:",u),console.log("Parent category:",s.slug),d(`/${s.slug}/${u.slug}`,{state:{chemicalName:u.category,categoryName:s.name,slug2:s.slug}})};return a?e.jsxs("div",{className:"relative",onMouseEnter:()=>p(!0),onMouseLeave:()=>{p(!1),h(null)},children:[e.jsx("div",{onClick:()=>d(r),className:`block py-2 px-4 hover:text-orange-400 transition-colors cursor-pointer ${x}`,children:l}),w&&(c==null?void 0:c.length)>0&&e.jsx(j.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute left-0 w-64  bg-blue-800 text-white shadow-lg z-50",children:c.map(s=>{var u;return e.jsxs("div",{className:"relative group",onMouseEnter:()=>h(s),onMouseLeave:()=>h(null),children:[e.jsx("div",{onClick:()=>g(s),className:"block px-4 py-2 hover:bg-blue-600 transition-colors cursor-pointer font-normal",children:s.category}),m===s&&((u=s.subCategories)==null?void 0:u.length)>0&&e.jsx(j.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"absolute left-full top-0 w-[40vh] bg-blue-800 text-white shadow-lg ",children:e.jsx("div",{className:"grid grid-cols-2 gap-2 p-2",children:s.subCategories.map(t=>e.jsx("div",{onClick:()=>f(s,t),className:"block px-2 py-1 hover:bg-blue-600 transition-colors text-sm text-center cursor-pointer font-normal",children:t.category},t._id))})})]},s._id)})})]}):e.jsx("div",{onClick:()=>d(r),className:`block py-2 px-4 hover:text-orange-400 transition-colors cursor-pointer ${x}`,children:l})}function S(){const[r,l]=o.useState(""),[a,c]=o.useState(!1),[x,d]=o.useState([]),[w,p]=o.useState(!1),[m,h]=o.useState(null),g=o.useRef(null),f=k();o.useEffect(()=>{if(!r||r.length<2){d([]);return}(async()=>{p(!0),h(null);try{const n=await fetch(`/api/chemical/search?query=${r}`);if(!n.ok)throw new Error("Failed to fetch chemicals.");const v=await n.json();d((v==null?void 0:v.data)||[])}catch(n){h(n.message||"An error occurred."),d([])}finally{p(!1)}})()},[r]),o.useEffect(()=>{const t=n=>{g.current&&!g.current.contains(n.target)&&c(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const s=t=>{c(!1),l(""),f(`/search?tab=${t.slug}`)},u=()=>{const t=x.find(n=>n.name===r);t!=null&&t.slug?(l(""),f(`/search?tab=${t.slug}`)):alert("Please select a valid chemical to search.")};return e.jsxs("div",{className:"relative w-full max-w-[35rem] pl-9 rounded-full mx-auto",ref:g,children:[e.jsxs("div",{className:"flex rounded-full",children:[e.jsx("input",{type:"text",value:r,onChange:t=>{l(t.target.value),c(!0)},className:"w-full px-4 py-2 border-2 rounded-l-full border-orange-500 focus:outline-none placeholder:text-sm",placeholder:"Product Code / Name / CAS / Grade"}),e.jsx("button",{onClick:u,className:"px-4 py-2 bg-orange-500 text-white rounded-r-full hover:bg-orange-600 focus:outline-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),w&&e.jsx("p",{className:"mt-2 text-gray-500",children:"Loading..."}),m&&e.jsx("p",{className:"mt-2 text-red-500",children:m}),a&&r&&x.length>0&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded shadow-lg max-h-[400px] overflow-y-auto",children:x.map(t=>e.jsx("button",{onClick:()=>s(t),className:"w-full px-4 py-2 text-left hover:bg-gray-100 border-b border-gray-100 last:border-b-0",children:t.name},t._id))})]})}const z=({categories:r,parsedBlogCategories:l,isHomeActive:a,isProductsActive:c,isBlogActive:x,isContactActive:d,mobileMenuOpen:w,setMobileMenuOpen:p})=>{const[m,h]=o.useState(!1),[g,f]=o.useState(!1);return e.jsx("nav",{className:"bg-[#2d4899] text-white",children:e.jsx("div",{className:"max-w-[75rem] mx-auto px-4 flex items-center justify-evenly",children:e.jsxs("div",{className:"space-x-2 lg:space-x-3 hidden md:flex text-sm items-center lg:text-[16px] font-bold",children:[e.jsxs("div",{className:"relative",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[e.jsx(b,{href:"/introduction",className:()=>a?"text-orange-400":"",end:!0,children:"Corporate"}),m&&e.jsxs(j.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute left-0 w-64 bg-blue-800 text-white shadow-lg z-50 font-normal",children:[e.jsx(i,{to:"/introduction",className:"block px-4 py-2 hover:bg-blue-600 transition-colors",children:e.jsx("span",{children:"Introduction"})}),e.jsx(i,{to:"/vision-mission",className:"block px-4 py-2 hover:bg-blue-600 transition-colors",children:"Vision"})]})]}),e.jsx(b,{href:"/categories",hasDropdown:!0,categories:r,state:{categoryName:"Products"},className:()=>`font-bold ${c?"text-orange-400":""}`,children:"Products"}),e.jsx(b,{href:"/worldwide",className:({isActive:s})=>s?"text-orange-400":"",children:"Worldwide"}),e.jsx(b,{href:"/careers",className:({isActive:s})=>s?"text-orange-400":"",children:"Careers"}),e.jsxs("div",{className:"relative",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[e.jsx(b,{href:"/blogs",className:()=>`block py-2 px-4 hover:text-orange-400 transition-colors ${x?"text-orange-400":""}`,children:"Blogs"}),g&&e.jsx(j.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute left-0 w-64 bg-blue-800 text-white shadow-lg z-50 font-normal",children:l.length>0?l.map(s=>e.jsx(i,{to:`/blog/${s.slug}`,className:"block px-4 py-2 hover:bg-blue-600 transition-colors",children:s.name},s.id)):e.jsx("p",{className:"px-4 py-2",children:"No blog categories available"})})]}),e.jsx(b,{href:"/contact-us",className:()=>d?"text-orange-400":"",children:"Contact Us"}),!w&&e.jsx("div",{className:"hidden md:flex justify-center items-center",children:e.jsx(i,{to:"/advance-search",className:"text-white bg-orange-500 rounded-none px-4 lg:px-7 py-6 lg:py-8 hover:bg-orange-500 hover:text-white text-sm lg:text-[16px] font-bold",children:"Advanced Search"})})]})})})};function ge({categories:r}){o.useState(!1),o.useState(null);const[l,a]=o.useState(!1);o.useState(!1),o.useState(!1),o.useState(null);const[c,x]=o.useState(!1),{data:d=[],isLoading:w}=L(),p=d.map(n=>({id:n._id,name:n.category,slug:n.slug}));console.log(p);const{pathname:m}=$(),h=m==="/"||m==="/home",g=m.startsWith("/categories"),f=m.startsWith("/blogs"),s=m.startsWith("/contact-us"),u=k();o.useEffect(()=>{const n=()=>{const v=window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100;x(v>=10)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]);const{data:t}=E();return o.useEffect(()=>{if(t!=null&&t.favIcon){const n=`/api/logo/download/${t.favIcon}`,v=document.querySelector('link[rel="icon"]');if(v)v.href=n;else{const N=document.createElement("link");N.rel="icon",N.href=n,document.head.appendChild(N)}}},[t==null?void 0:t.favIcon]),e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:`w-full relative z-[70] ${c?"sticky top-0 bg-white":""}`,children:[e.jsxs("div",{className:"max-w-[75rem] mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsx(i,{to:"/",className:"flex items-center gap-2",children:e.jsx("img",{src:t!=null&&t.headerLogo?`/api/logo/download/${t.headerLogo}`:"",alt:"Company Logo",title:t==null?void 0:t.headerLogoName,className:"h-auto w-[100px] md:w-[130px] lg:w-[150px]"})}),e.jsx("div",{className:"w-1/2 md:mt-0  hidden md:block",children:e.jsx(S,{})}),e.jsxs("div",{className:"flex items-center  md:hidden",children:[e.jsx("div",{className:"w-full",children:e.jsx(S,{})}),e.jsx(y,{variant:"ghost",className:"text-[#2d4899] hover:text-orange-400 hover:bg-transparent p-2",onClick:()=>a(!l),children:l?e.jsx(C,{className:"h-6 w-6"}):e.jsx(P,{className:"h-6 w-6"})})]})]}),e.jsx(z,{categories:r,parsedBlogCategories:p,isHomeActive:h,isProductsActive:g,isBlogActive:f,isContactActive:s,mobileMenuOpen:l,setMobileMenuOpen:a}),e.jsx(O,{children:l&&e.jsxs(e.Fragment,{children:[e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-[75]",onClick:()=>a(!1)}),e.jsxs(j.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden fixed top-0 left-0 right-0 h-screen bg-[#2d4899] w-full px-4 py-2 space-y-2 z-[80] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 bg-white -mx-4 px-4 pt-2",children:[e.jsx(i,{to:"/",onClick:()=>a(!1),children:e.jsx("img",{src:t!=null&&t.headerLogo?`/api/logo/download/${t.headerLogo}`:"",alt:"Company Logo",className:"h-auto w-[150px]"})}),e.jsx(y,{variant:"ghost",className:"text-[#2d4899] hover:text-orange-400 hover:bg-transparent p-2",onClick:()=>a(!1),children:e.jsx(C,{className:"h-6 w-6"})})]}),e.jsx(i,{to:"/",className:`block py-2 text-white hover:text-orange-400 ${h?"text-orange-400":""}`,onClick:()=>a(!1),children:"Home"}),e.jsx(i,{to:"/corporate",className:"block py-2 text-white hover:text-orange-400",onClick:()=>a(!1),children:"Corporate"}),e.jsx(i,{to:"/categories",className:"block py-2 text-white hover:text-orange-400",onClick:()=>a(!1),children:"Products"}),e.jsx(i,{to:"/worldwide",className:"block py-2 text-white hover:text-orange-400",onClick:()=>a(!1),children:"Worldwide"}),e.jsx(i,{to:"/careers",className:"block py-2 text-white hover:text-orange-400",onClick:()=>a(!1),children:"Careers"}),e.jsx(i,{to:"/events",className:"block py-2 text-white hover:text-orange-400",onClick:()=>a(!1),children:"Events"}),e.jsx(i,{to:"/contact-us",className:`block py-2 text-white hover:text-orange-400 ${s?"text-orange-400":""}`,onClick:()=>a(!1),children:"Contact Us"}),e.jsx(y,{variant:"ghost",className:"w-full text-white bg-orange-500 rounded-none py-4 hover:bg-orange-500 hover:text-white text-sm",onClick:()=>{u("/advance-search"),a(!1)},children:"Advanced Search"})]})]})})]}),e.jsx("main",{className:" w-full mb-10 mx-auto ",children:e.jsx(M,{})}),e.jsx(A,{})]})}export{ge as default};
