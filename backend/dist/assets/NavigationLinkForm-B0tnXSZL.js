import{c4 as a,c5 as s,c6 as e,j as i,L as t,I as n,B as r}from"./main-BQqr2_19.js";import{d as o,g as c,r as l}from"./vendor-router-DoRotgOs.js";import{C as d}from"./card-CPQ_AIkA.js";import{B as m}from"./breadcrumb-BHS-7goF.js";import"./vendor-react-DD_RYU77.js";import"./vendor-utils-CfKmydC0.js";import"./chevron-right-DHWU52ll.js";const u=()=>{const u=o(),{id:p}=c(),{data:v,isLoading:j}=a(p,{skip:!p}),[g]=s(),[h]=e(),[f,x]=l.useState(""),[b,k]=l.useState(null),[N,w]=l.useState(null);l.useEffect((()=>{v&&(x(v.name),v.icon&&w(`/api/logo/download/${v.icon}`))}),[v]);return i.jsxs(d,{className:"p-6 max-w-lg mx-auto",children:[i.jsx(m,{items:[{label:"Dashboard",link:"/dashboard"},{label:"Navigation Links",link:"/navigationLink"},{label:p?"Edit Navigation Link":"Add Navigation Link"}],className:"mb-4"}),i.jsxs("form",{onSubmit:async a=>{a.preventDefault();const s=new FormData;s.append("name",f),b&&s.append("icon",b);try{p?(await h({id:p,formData:s}).unwrap(),toast({title:"Success",description:"Navigation link updated successfully",variant:"success"})):(await g(s).unwrap(),toast({title:"Success",description:"Navigation link created successfully",variant:"success"})),u("/navigationLink")}catch(e){toast({title:"Error",description:"Failed to save navigation link",variant:"destructive"})}},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(t,{htmlFor:"name",children:"Name"}),i.jsx(n,{id:"name",value:f,onChange:a=>x(a.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx(t,{htmlFor:"icon",children:"Icon"}),N&&i.jsx("img",{src:N,alt:"Preview",className:"w-16 h-16 mb-2"}),i.jsx("input",{type:"file",id:"icon",accept:"image/*",onChange:a=>{const s=a.target.files[0];k(s),s&&w(URL.createObjectURL(s))}})]}),i.jsx(r,{type:"submit",disabled:j,className:"w-full",children:p?"Update":"Create"})]})]})};export{u as default};
//# sourceMappingURL=NavigationLinkForm-B0tnXSZL.js.map
