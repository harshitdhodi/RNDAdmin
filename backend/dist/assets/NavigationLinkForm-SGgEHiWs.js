import{cb as i,cc as e,cd as s,j as a}from"./main-DeRxjK88.js";import{d as r,g as o,r as t,L as n}from"./vendor-router-Bu4EHm1B.js";import{F as l}from"./index--6LMyILo.js";import{B as d}from"./Breadcrumb-Dmow3_cy.js";import{I as m}from"./index-BrOIVdwD.js";import{U as c,R as p}from"./index-D3J037dB.js";import{B as j}from"./index-lUiyPlMq.js";import{s as u}from"./index-lMP3hCbg.js";import"./vendor-react-CI5aWZjI.js";import"./vendor-utils-BfOc9lHv.js";import"./toArray-DkI11MDQ.js";import"./index-DRGG9HZA.js";import"./CheckCircleFilled-DiSUBvU5.js";import"./ExclamationCircleFilled-DZysw_83.js";import"./dropdown-B7KEEEnN.js";import"./EllipsisOutlined-L4j7-ai9.js";import"./getAllowClear-exXUluB6.js";import"./Input-BufppJmu.js";import"./EyeOutlined-B2vwqoE1.js";import"./TextArea-BEMUKMsu.js";import"./fade-C0XPHGae.js";import"./DeleteOutlined-BpoFncVM.js";import"./DownloadOutlined-DQEsT_id.js";import"./CheckOutlined-3fI3nOal.js";import"./InfoCircleFilled-D8dKuFWy.js";const x=()=>{const[x]=l.useForm(),h=r(),{id:f}=o(),{data:g,isLoading:v}=i(f,{skip:!f}),[F]=e(),[k]=s(),[y,I]=t.useState([]);t.useEffect((()=>{g&&(x.setFieldsValue(g),I([{url:`/api/logo/download/${g.icon}`,name:g.icon}]))}),[g,x]);return a.jsxs(a.Fragment,{children:[a.jsxs(d,{style:{marginBottom:"16px"},children:[a.jsx(d.Item,{children:a.jsx(n,{to:"/dashboard",children:"Dashboard"})}),a.jsx(d.Item,{children:a.jsx(n,{to:"/navigationLink",children:"Navigation Links"})}),a.jsx(d.Item,{children:f?"Edit Navigation Link":"Add Navigation Link"})]}),a.jsxs(l,{form:x,layout:"vertical",onFinish:async i=>{const e=new FormData;e.append("name",i.name),y[0]?.originFileObj&&e.append("icon",y[0].originFileObj);try{f?(await k({id:f,formData:e}).unwrap(),u.success("Navigation link updated successfully")):(await F(e).unwrap(),u.success("Navigation link created successfully")),h("/navigationLink")}catch(s){u.error("Failed to save navigation link")}},children:[a.jsx(l.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter the name"}],children:a.jsx(m,{})}),a.jsx(l.Item,{name:"icon",label:"Icon",rules:[{required:!0,message:"Please upload an icon"}],children:a.jsx(c,{listType:"picture",maxCount:1,fileList:y,beforeUpload:()=>!1,onChange:({fileList:i})=>I(i),children:a.jsx(j,{icon:a.jsx(p,{}),children:"Upload Icon"})})}),a.jsx(l.Item,{children:a.jsx(j,{type:"primary",htmlType:"submit",loading:v,children:f?"Update":"Create"})})]})]})};export{x as default};
//# sourceMappingURL=NavigationLinkForm-SGgEHiWs.js.map
