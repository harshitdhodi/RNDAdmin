import{d as i,e as m,B as g,s as a}from"./antd-mtWlDmqY.js";import{r,j as t}from"./react-DKICu8bO.js";import{J as j}from"./jodit-react-B8oW82bi.js";import{a as n}from"./axios-DXsv3KKR.js";import{a as F,L as I}from"./react-router-B9QVkYva.js";import"./@ant-design-jkdqJqTn.js";import"./rc-util-C9ihiQ8l.js";import"./@babel-C_xKm-6V.js";import"./react-is-NfUKNnIv.js";import"./react-dom-BBS6HuAW.js";import"./classnames-Bv6oJzD9.js";import"./scheduler-CKyTKYc2.js";import"./@emotion-CW87jbl0.js";import"./stylis-OW4gUFyn.js";import"./@ctrl-DOFZgDuz.js";import"./rc-motion-D0k58WYE.js";import"./@rc-component-DJY3KRXL.js";import"./rc-resize-observer-h7CJ_t66.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./ant-design-icons-CNhZ1eT-.js";import"./rc-dialog-CfVZmZCG.js";import"./rc-table-BJAsEMDh.js";import"./rc-virtual-list-OMMR-gr8.js";import"./rc-tree-aGCJh_41.js";import"./rc-checkbox-nRYcjTPl.js";import"./rc-pagination-ZKXeAm0h.js";import"./rc-select-RmeC3WgB.js";import"./rc-overflow-DEivB5rv.js";import"./throttle-debounce-CUWDS_la.js";import"./rc-input-CIUXRVU8.js";import"./rc-tooltip-Oavn6yow.js";import"./rc-notification-0md6QYDj.js";import"./rc-image-ClDwiN-j.js";import"./rc-textarea-CijmdGy3.js";import"./copy-to-clipboard-0rP7DRqq.js";import"./toggle-selection-DGa8lynz.js";import"./rc-upload-DlrdHvh1.js";import"./rc-progress-BVn0ZmF4.js";import"./rc-dropdown-D4AwxsUk.js";import"./rc-menu-MHhKtfoG.js";import"./rc-field-form-CVOtFEQA.js";import"./scroll-into-view-if-needed-BZeNfFF0.js";import"./compute-scroll-into-view-DWa9QgjM.js";import"./rc-picker-D0kXf0IF.js";import"./rc-tabs-XmQY-w_1.js";import"./cookie--_YQFYBD.js";const ht=()=>{const y=F(),[o]=i.useForm(),[e,l]=r.useState(""),[d,u]=r.useState(!0),[v,h]=r.useState(!1),[f,x]=r.useState(null);r.useEffect(()=>{(async()=>{try{const p=await n.get("/api/privacy");if(p.data.length>0){const c=p.data[0];l(c.privacyPolicy),x(c._id),o.setFieldsValue({privacyPolicy:c.privacyPolicy}),h(!0)}}catch{a.error("Failed to fetch privacy data")}finally{u(!1)}})()},[o]);const P=async()=>{try{v?(await n.put(`/api/privacy/${f}`,{privacyPolicy:e}),a.success("Privacy data updated successfully")):(await n.post("/api/privacy/add",{privacyPolicy:e}),a.success("Privacy data created successfully")),y("/privacypolicy-terms")}catch{a.error("Failed to save privacy data")}};return d?t.jsx("p",{children:"Loading..."}):t.jsxs(t.Fragment,{children:[t.jsxs(m,{style:{marginBottom:"16px"},children:[t.jsx(m.Item,{children:t.jsx(I,{to:"/dashboard",children:"Dashboard"})}),t.jsx(m.Item,{children:"Privacy Form"})]}),t.jsxs(i,{form:o,layout:"vertical",onFinish:P,children:[t.jsx(i.Item,{name:"privacyPolicy",label:"Privacy Policy",rules:[{required:!0,message:"Please enter the privacy policy"}],children:t.jsx(j,{value:e,onChange:s=>l(s)})}),t.jsx(i.Item,{children:t.jsx(g,{type:"primary",htmlType:"submit",children:"Save"})})]})]})};export{ht as default};
