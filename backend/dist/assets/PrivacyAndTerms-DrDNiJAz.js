import{j as r}from"./main-DeRxjK88.js";import{d as a,r as i,L as e}from"./vendor-router-Bu4EHm1B.js";import{J as s}from"./jodit-react-Bgeja2AM.js";import{a as t}from"./vendor-utils-BfOc9lHv.js";import{F as c}from"./index--6LMyILo.js";import{B as o}from"./Breadcrumb-Dmow3_cy.js";import{B as l}from"./index-lUiyPlMq.js";import{s as d}from"./index-lMP3hCbg.js";import"./vendor-react-CI5aWZjI.js";import"./toArray-DkI11MDQ.js";import"./index-DRGG9HZA.js";import"./CheckCircleFilled-DiSUBvU5.js";import"./ExclamationCircleFilled-DZysw_83.js";import"./dropdown-B7KEEEnN.js";import"./EllipsisOutlined-L4j7-ai9.js";import"./InfoCircleFilled-D8dKuFWy.js";const p=()=>{const p=a(),[m]=c.useForm(),[n,y]=i.useState(""),[j,u]=i.useState(!0),[v,h]=i.useState(!1),[f,x]=i.useState(null);i.useEffect((()=>{(async()=>{try{const r=await t.get("/api/privacy");if(r.data.length>0){const a=r.data[0];y(a.privacyPolicy),x(a._id),m.setFieldsValue({privacyPolicy:a.privacyPolicy}),h(!0)}}catch(r){d.error("Failed to fetch privacy data")}finally{u(!1)}})()}),[m]);return j?r.jsx("p",{children:"Loading..."}):r.jsxs(r.Fragment,{children:[r.jsxs(o,{style:{marginBottom:"16px"},children:[r.jsx(o.Item,{children:r.jsx(e,{to:"/dashboard",children:"Dashboard"})}),r.jsx(o.Item,{children:"Privacy Form"})]}),r.jsxs(c,{form:m,layout:"vertical",onFinish:async()=>{try{v?(await t.put(`/api/privacy/${f}`,{privacyPolicy:n}),d.success("Privacy data updated successfully")):(await t.post("/api/privacy/add",{privacyPolicy:n}),d.success("Privacy data created successfully")),p("/privacypolicy-terms")}catch(r){d.error("Failed to save privacy data")}},children:[r.jsx(c.Item,{name:"privacyPolicy",label:"Privacy Policy",rules:[{required:!0,message:"Please enter the privacy policy"}],children:r.jsx(s,{value:n,onChange:r=>y(r)})}),r.jsx(c.Item,{children:r.jsx(l,{type:"primary",htmlType:"submit",children:"Save"})})]})]})};export{p as default};
//# sourceMappingURL=PrivacyAndTerms-DrDNiJAz.js.map
