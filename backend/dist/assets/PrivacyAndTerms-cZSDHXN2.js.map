{"version":3,"file":"PrivacyAndTerms-cZSDHXN2.js","sources":["../../src/websiteBackend/privacy/PrivacyAndTerms.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport axios from 'axios';\r\nimport { Breadcrumb } from '@/components/ui/breadcrumb';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card } from '@/components/ui/card';\r\nimport { useToast } from 'react-toastify';\r\n\r\nconst PrivacyForm = () => {\r\n  const navigate = useNavigate();\r\n;\r\n  const [privacyPolicy, setPrivacyPolicy] = useState('');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isExistingData, setIsExistingData] = useState(false);\r\n  const [privacyId, setPrivacyId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchPrivacyData = async () => {\r\n      try {\r\n        const response = await axios.get('/api/privacy');\r\n        if (response.data.length > 0) {\r\n          const privacyData = response.data[0];\r\n          setPrivacyPolicy(privacyData.privacyPolicy);\r\n          setPrivacyId(privacyData._id);\r\n          setIsExistingData(true);\r\n        }\r\n      } catch (error) {\r\n        toast({ title: 'Error', description: 'Failed to fetch privacy data', variant: 'destructive' });\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchPrivacyData();\r\n  }, [toast]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (isExistingData) {\r\n        await axios.put(`/api/privacy/${privacyId}`, { privacyPolicy });\r\n        toast({ title: 'Success', description: 'Privacy data updated successfully', variant: 'success' });\r\n      } else {\r\n        await axios.post('/api/privacy/add', { privacyPolicy });\r\n        toast({ title: 'Success', description: 'Privacy data created successfully', variant: 'success' });\r\n      }\r\n      navigate('/privacypolicy-terms');\r\n    } catch (error) {\r\n      toast({ title: 'Error', description: 'Failed to save privacy data', variant: 'destructive' });\r\n    }\r\n  };\r\n\r\n  if (isLoading) return <p>Loading...</p>;\r\n\r\n  return (\r\n    <Card className=\"p-6 max-w-2xl mx-auto\">\r\n      <Breadcrumb items={[\r\n        { label: 'Dashboard', link: '/dashboard' },\r\n        { label: 'Privacy Form' },\r\n      ]} className=\"mb-4\" />\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        <div>\r\n          <label className=\"font-medium text-gray-700\">Privacy Policy</label>\r\n          <ReactQuill theme=\"snow\" value={privacyPolicy} onChange={setPrivacyPolicy} />\r\n        </div>\r\n        <Button type=\"submit\" className=\"w-full\">Save</Button>\r\n      </form>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default PrivacyForm;"],"names":["PrivacyForm","navigate","useNavigate","privacyPolicy","setPrivacyPolicy","useState","isLoading","setIsLoading","isExistingData","setIsExistingData","privacyId","setPrivacyId","useEffect","async","response","axios","get","data","length","privacyData","_id","error","toast","title","description","variant","fetchPrivacyData","jsx","children","jsxs","Card","className","Breadcrumb","items","label","link","onSubmit","e","preventDefault","put","post","ReactQuill","theme","value","onChange","Button","type"],"mappings":"+bAUA,MAAMA,EAAc,KAClB,MAAMC,EAAWC,KAEVC,EAAeC,GAAoBC,EAAAA,SAAS,KAC5CC,EAAWC,GAAgBF,EAAAA,UAAS,IACpCG,EAAgBC,GAAqBJ,EAAAA,UAAS,IAC9CK,EAAWC,GAAgBN,EAAAA,SAAS,MAE3CO,EAAAA,WAAU,KACiBC,WACnB,IACF,MAAMC,QAAiBC,EAAMC,IAAI,gBAC7B,GAAAF,EAASG,KAAKC,OAAS,EAAG,CACtB,MAAAC,EAAcL,EAASG,KAAK,GAClCb,EAAiBe,EAAYhB,eAC7BQ,EAAaQ,EAAYC,KACzBX,GAAkB,EAAI,QAEjBY,GACPC,MAAM,CAAEC,MAAO,QAASC,YAAa,+BAAgCC,QAAS,eAAe,CAC7F,QACAlB,GAAa,EAAK,GAGLmB,EAAA,GAChB,CAACJ,QAkBJ,OAAIhB,EAAmBqB,EAAAA,IAAA,IAAA,CAAEC,SAAU,eAGjCC,EAAAA,KAACC,EAAK,CAAAC,UAAU,wBACdH,SAAA,CAAAD,MAACK,GAAWC,MAAO,CACjB,CAAEC,MAAO,YAAaC,KAAM,cAC5B,CAAED,MAAO,iBACRH,UAAU,SACZF,EAAAA,KAAA,OAAA,CAAKO,SAxBWvB,MAAOwB,IAC1BA,EAAEC,iBACE,IACE9B,SACIO,EAAMwB,IAAI,gBAAgB7B,IAAa,CAAEP,kBAC/CmB,MAAM,CAAEC,MAAO,UAAWC,YAAa,oCAAqCC,QAAS,oBAE/EV,EAAMyB,KAAK,mBAAoB,CAAErC,kBACvCmB,MAAM,CAAEC,MAAO,UAAWC,YAAa,oCAAqCC,QAAS,aAEvFxB,EAAS,8BACFoB,GACPC,MAAM,CAAEC,MAAO,QAASC,YAAa,8BAA+BC,QAAS,eAAe,GAY9DM,UAAU,YACtCH,SAAA,CAAAC,OAAC,MACC,CAAAD,SAAA,CAACD,EAAAA,IAAA,QAAA,CAAMI,UAAU,4BAA4BH,SAAc,yBAC1Da,EAAW,CAAAC,MAAM,OAAOC,MAAOxC,EAAeyC,SAAUxC,aAE1DyC,EAAO,CAAAC,KAAK,SAASf,UAAU,SAASH,SAAI,cAEjD"}