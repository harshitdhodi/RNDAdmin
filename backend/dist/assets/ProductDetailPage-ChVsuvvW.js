import{j as e,r as s}from"./react-BfBsRgn0.js";import{a4 as a,B as t,a5 as l}from"./index-mCSb4W1J.js";import{B as r}from"./BreadCrumb-8pIu3ibS.js";import{F as i,a as o}from"./react-icons-Dq16fPb9.js";import{R as n}from"./react-google-recaptcha-DFL_Cjbu.js";import{M as c}from"./react-modal-BMXdJOT3.js";import{a as d}from"./axios-BoylL8Pu.js";import{b as m,L as u}from"./react-router-DUJjWq5j.js";import"./classnames-C3ovBj6j.js";import"./react-dom-DwrudmHt.js";import"./scheduler-BFk34ZWe.js";import"./react-redux-DbBiFgqA.js";import"./use-sync-external-store-DdeJV4gQ.js";import"./@reduxjs-UCSEaN3g.js";import"./redux-C5Huw2aR.js";import"./immer-DgfQkf_7.js";import"./redux-thunk-B3S1iNVp.js";import"./reselect-BSOs5pU1.js";import"./js-cookie-BXEMiIsG.js";import"./@radix-ui-BWjeGzol.js";import"./aria-hidden-BHUiN-rI.js";import"./react-remove-scroll-yauc81_r.js";import"./tslib-Bc9CN1Ef.js";import"./react-remove-scroll-bar-BcxDecei.js";import"./react-style-singleton-C1QVuB2c.js";import"./get-nonce-BYiZHLe3.js";import"./use-sidecar-BA4C4RS7.js";import"./use-callback-ref-Cvx1xcTX.js";import"./@floating-ui-BSChQBl3.js";import"./class-variance-authority-DeOWI0hf.js";import"./clsx-BeLtu-UY.js";import"./tailwind-merge-D2VJQb_v.js";import"./lucide-D6BDVLHE.js";import"./cookie-BUTH-fPQ.js";import"./prop-types-BgiiqXIo.js";import"./react-async-script-xo2ZLaQa.js";import"./hoist-non-react-statics-sbmfYfb0.js";import"./react-is-BaRe0U6l.js";import"./warning-t_yLeJPk.js";import"./exenv-DmEOgip8.js";import"./react-lifecycles-compat-vog91_k3.js";function x({images:s,selectedImage:a,setSelectedImage:t}){var l,r;return e.jsxs("div",{className:"w-[80%]",children:[e.jsx("div",{className:"border items-center flex justify-center p-5 overflow-hidden mb-4 lg:h-[400px] md:h-[300px] h-[200px]",children:e.jsx("img",{src:(null==(l=s[a])?void 0:l.url)?`/api/image/download${s[a].url}`:"https://via.placeholder.com/300x300?text=No+Image+Available",alt:(null==(r=s[a])?void 0:r.alt)||"Chemical bottles with blue liquid",className:"w-full h-full object-contain"})}),e.jsx("div",{className:"flex gap-4",children:s.map(((s,l)=>e.jsx("button",{onClick:()=>t(l),className:"border px-3 overflow-hidden w-26 h-24 "+(a===l?"border-primary":""),children:e.jsx("img",{src:s.url?`/api/image/download${s.url}`:"https://via.placeholder.com/150x150?text=No+Thumbnail",alt:s.alt||`Thumbnail ${l+1}`,className:"w-full h-full object-cover"})},l)))})]})}function b({productDetails:s,name:a,cas:t}){const l=s.filter((e=>!["MSDS","Specs"].includes(e.label)));return e.jsxs(e.Fragment,{children:[e.jsxs("h1",{className:"text-2xl font-bold text-blue-800 mb-6",children:[a," || ",t]}),e.jsx("div",{className:"grid mb-8",children:l.map(((s,a)=>e.jsxs("div",{className:"grid grid-cols-2 p-2 "+(a%2==0?"bg-blue-100/30":"bg-white"),children:[e.jsx("span",{className:"font-medium text-sm text-blue-800",children:s.label}),e.jsx("span",{className:"font-medium text-sm",children:s.value})]},a)))})]})}function p({msds:l,specs:r,name:o,onInquiry:n}){const{data:c,isLoading:d}=a(),[m,u]=s.useState(""),[x,b]=s.useState("");s.useEffect((()=>{c&&c.length>0&&(u(c[0].number),b(`Hi, I'm interested in ${o}`))}),[c,o]);const p=e=>{const s="msds"===e?`/api/image/msds/view/${encodeURIComponent(l)}`:`/api/image/specs/view/${encodeURIComponent(r)}`;window.open(s,"_blank")};return d?e.jsx("div",{children:"Loading..."}):e.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-50 to-blue-100 p-5 shadow-md",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 text-blue-900 border-b border-blue-200 pb-3",children:[o," MSDS (Material Safety Data Sheet) or SDS, COA and Specs"]}),e.jsxs("div",{className:"flex gap-4 mb-3",children:[e.jsxs(t,{variant:"outline",className:"flex items-center gap-2 bg-white hover:bg-blue-50 border-blue-200 hover:border-blue-300 text-blue-700",onClick:()=>p("specs"),children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Specs"]}),e.jsxs(t,{variant:"outline",className:"flex items-center gap-2 bg-white hover:bg-blue-50 border-blue-200 hover:border-blue-300 text-blue-700",onClick:()=>p("msds"),children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"MSDS"]}),e.jsx(t,{onClick:n,className:"w-1/4 bg-[#1290ca] hover:bg-[#0f7aa8] transition-colors duration-300 text-white text-md py-5 flex items-center gap-2",children:"Inquiry Now"}),e.jsx("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>{const e=`https://wa.me/${m}?text=${encodeURIComponent(x)}`;window.open(e,"_blank")},children:e.jsx(i,{className:"text-4xl text-green-500"})})]})]})}function g({global_tagline:s,name:a,cas:t}){return e.jsxs("div",{className:"mt-8 border rounded-lg p-4 bg-orange-500/10 border-orange-600 flex justify-center items-center gap-4",children:[e.jsx("div",{className:"w-16",children:e.jsx("img",{src:"https://img.freepik.com/free-vector/illustration-india-flag_53876-27130.jpg?w=64&h=64",alt:"Made in India",className:"w-full h-auto"})}),e.jsxs("p",{className:"font-medium",children:[s," ",a," | ",t]})]})}function h({productName:a,onClose:t}){const[r,i]=s.useState(""),[d,m]=s.useState(""),[u,x]=s.useState(""),[b,p]=s.useState(""),[g,h]=s.useState(""),[j,v]=s.useState(null),[f,N]=s.useState(!1),[y,w]=s.useState(""),[S,A]=s.useState(!1),[C]=l();return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center w-full justify-center bg-black bg-opacity-50 p-4",children:[e.jsxs("div",{className:"bg-white p-8 rounded-md shadow-2xl w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-800 border-b pb-4",children:`Inquiry for ${a}`}),e.jsxs("form",{onSubmit:async e=>{var s;if(e.preventDefault(),j){N(!0),w("");try{const e={name:r,email:d,phone:u,subject:b,message:g,productName:a,captchaToken:j};await C(e).unwrap(),A(!0),N(!1),i(""),m(""),x(""),p(""),h(""),v(null),t()}catch(l){w((null==(s=l.data)?void 0:s.message)||"Failed to submit inquiry. Please try again."),N(!1)}}else w("Please complete the reCAPTCHA.")},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Name"}),e.jsx("input",{type:"text",value:r,onChange:e=>i(e.target.value),className:"w-full border border-gray-300 p-1 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Email"}),e.jsx("input",{type:"email",value:d,onChange:e=>m(e.target.value),className:"w-full border border-gray-300 p-1 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200",required:!0})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Phone No"}),e.jsx("input",{type:"text",value:u,onChange:e=>x(e.target.value),className:"w-full border border-gray-300 p-1 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Subject"}),e.jsx("input",{type:"text",value:b,onChange:e=>p(e.target.value),className:"w-full border border-gray-300 p-1 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200",required:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Message"}),e.jsx("textarea",{value:g,onChange:e=>h(e.target.value),className:"w-full border border-gray-300 p-1 rounded-lg      focus:border-transparent transition duration-200 h-20",required:!0})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{sitekey:"6LfRcrsqAAAAAI_53KTLkPZ_l-jthc1g2UrlrHtE",onChange:e=>v(e)}),y&&e.jsx("p",{className:"text-red-500 text-sm",children:y})]}),e.jsxs("div",{className:"flex justify-end w-full\n                     space-x-4",children:[e.jsx("button",{type:"button",className:"bg-gray-500 hover:bg-gray-600 w-1/4 text-white  px-6 rounded-md transition duration-200",onClick:t,disabled:f,children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white p-2 w-1/4 px-6 rounded-md transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed ",disabled:!j||f,children:f?"Submitting...":"Submit"})]})]})]}),e.jsx(c,{isOpen:S,onRequestClose:()=>A(!1),contentLabel:"Submission Successful",className:"fixed inset-0 flex items-center justify-center z-50 p-4",overlayClassName:"fixed inset-0 bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-[#f5faf7ed] p-6 rounded-lg shadow-lg w-full max-w-md relative",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-green-700",children:"Thank You!"}),e.jsx("p",{className:"mb-4",children:"Your message has been successfully sent."}),e.jsx("p",{className:"mb-4",children:"We will get back to you soon."}),e.jsx("button",{onClick:()=>A(!1),className:"text-black px-4 py-2 absolute top-2 right-2",children:e.jsx(o,{size:25})})]})})]})}c.setAppElement("#root");const j=()=>{var a;const[t,l]=s.useState(null),{chemicals:r}=m();return s.useEffect((()=>{(async()=>{try{const e=await d.get(`/api/chemical/getLatestChemicalsExcept?slug=${r}`);l(e.data)}catch(e){}})()}),[r]),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl lg:text-3xl font-bold mb-2 text-blue-900",children:"Recent Products"}),e.jsx("div",{className:"w-[10%] h-1 bg-blue-800"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:null==(a=null==t?void 0:t.data)?void 0:a.map((s=>{var a,t;return e.jsx(u,{to:`/${s.slug}`,className:"group bg-white  overflow-hidden shadow-md hover:shadow-2xl \n            transition-all duration-300 transform hover:-translate-y-1",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"relative p-4 bg-gray-50",children:e.jsx("div",{className:"aspect-w-16 aspect-h-9 h-[40vh]",children:e.jsx("img",{src:`/api/image/download/${null==(a=s.images[0])?void 0:a.url}`,alt:(null==(t=s.images[0])?void 0:t.altText)||s.name,className:"w-full h-full object-contain  \n                    group-hover:scale-105 transition-transform duration-300"})})}),e.jsxs("div",{className:"p-5 space-y-3 flex-1 bg-gradient-to-b from-blue-50 to-blue-100",children:[e.jsx("h3",{className:"font-semibold text-xl text-gray-800 truncate \n                  group-hover:text-blue-600 transition-colors",children:s.name}),e.jsxs("p",{className:"text-gray-600 text-sm flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Category:"}),e.jsx("span",{className:"bg-blue-100 px-2 py-1 rounded-full",children:s.categorySlug})]}),s.cas_number&&e.jsxs("p",{className:"text-gray-600 text-sm flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"CAS Number:"}),e.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:s.cas_number})]})]})]})},s._id)}))})]})};function v(){var a;const[t,l]=s.useState(0),[i,o]=s.useState(""),[n,c]=s.useState(null),[d,u]=s.useState(!0),[v,f]=s.useState(!1),[N,y]=s.useState(!1),{chemicals:w}=m();s.useEffect((()=>{w&&(async()=>{try{u(!0);const e=await fetch(`/api/chemical/getBySlug?slug=${w}`);if(!e.ok)throw new Error("Failed to fetch product data");const s=await e.json();c(s)}catch(e){f(!0)}finally{u(!1)}})()}),[w]),s.useEffect((()=>(document.body.style.overflow=N?"hidden":"unset",()=>{document.body.style.overflow="unset"})),[N]),s.useEffect((()=>{const e="Chemical Products";if(null==n?void 0:n.metatitle){document.title=`${n.metatitle} - Product Details`;const e=document.querySelector('meta[name="description"]');if(e)e.setAttribute("content",n.metadescription||`Details about ${n.name}`);else{const e=document.createElement("meta");e.setAttribute("name","description"),e.setAttribute("content",n.metadescription||`Details about ${n.name}`),document.head.appendChild(e)}}else document.title=d?"Loading...":e;return()=>{document.title=e}}),[n,d]);const S="https://via.placeholder.com/300x300?text=No+Image+Available",A=(null==(a=null==n?void 0:n.images)?void 0:a.length)>0?n.images.map((e=>({url:e.url?`/${e.url.replace(/\\/g,"/")}`:S,alt:e.altText||"Product Image",title:e.title||"Product Image"}))):[{url:S,alt:"No Image Available",title:"No Image"}],C=n?[{label:"Product Code",value:n.product_code||"N/A"},{label:"Assay",value:n.assay||"N/A"},{label:"Molecular Formula",value:n.molecular_formula||"N/A"},{label:"Packings",value:n.packings||"N/A"},{label:"Grade",value:n.grade||"N/A"},{label:"CAS",value:n.cas_number||"N/A"},{label:"Molecular Weight",value:n.molecular_weight||"N/A"},{label:"HS CODE",value:n.h_s_code||"N/A"},{label:"MSDS",value:n.msds||"N/A"},{label:"Specs",value:n.specs||"N/A"}]:[{label:"Product Code",value:"N/A"},{label:"Assay",value:"N/A"},{label:"Molecular Formula",value:"N/A"},{label:"Packings",value:"N/A"},{label:"Grade",value:"N/A"},{label:"CAS",value:"N/A"},{label:"Molecular Weight",value:"N/A"},{label:"HS CODE",value:"N/A"},{label:"MSDS",value:"N/A"},{label:"Specs",value:"N/A"}];return e.jsxs("div",{className:"max-w-6xl mx-auto mb-10 px-4 py-2 relative",children:[N&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",children:e.jsx(h,{productName:null==n?void 0:n.name,onClose:()=>y(!1)})}),e.jsx(r,{chemicals:null==n?void 0:n.category.name,slug:null==n?void 0:n.category.slug,categorySlug:null==n?void 0:n.name}),d?e.jsx("div",{children:"Loading..."}):v?e.jsx("div",{children:"Error fetching product data"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:flex gap-12",children:[e.jsx(x,{images:A,selectedImage:t,setSelectedImage:l}),e.jsxs("div",{className:"w-[100%]",children:[e.jsx(b,{productDetails:C,name:null==n?void 0:n.name,cas:null==n?void 0:n.cas_number}),e.jsx(p,{batchNumber:i,setBatchNumber:o,msds:null==n?void 0:n.msds,specs:null==n?void 0:n.specs,name:null==n?void 0:n.name,onInquiry:()=>y(!0)})]})]}),e.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-50 to-blue-100 p-8 rounded-lg shadow-md border border-blue-200",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6 text-blue-900 border-b border-blue-200 pb-3",children:"Product Description"}),e.jsx("div",{className:"text-gray-700 leading-relaxed prose prose-sm max-w-none\r\n                prose-headings:text-blue-900 \r\n                prose-p:text-gray-600 \r\n                prose-strong:text-blue-800\r\n                prose-ul:list-disc \r\n                prose-ul:pl-5\r\n                prose-li:my-1\r\n                prose-a:text-blue-600 \r\n                prose-a:hover:text-blue-800",dangerouslySetInnerHTML:{__html:(null==n?void 0:n.description)||"No description available for this product."}})]})]}),e.jsx("div",{children:e.jsx(j,{})}),e.jsx(g,{global_tagline:null==n?void 0:n.global_tagline,name:null==n?void 0:n.name,cas:null==n?void 0:n.cas_number})]})}export{v as default};
