import{j as e,bU as M,r as l,B as S,bV as E,bW as q,bX as k,bY as _,a as I,L as $,c as L}from"./index-Bx7n1Wn1-1770007580750.js";import{B as R}from"./BreadCrumb-BL2yKAbv-1770007580750.js";import{R as F}from"./recaptcha-wrapper-BlCcmuXr-1770007580750.js";function T({images:a,selectedImage:r,setSelectedImage:n}){var i,s;return console.log(a),e.jsxs("div",{className:"w-[80%]",children:[e.jsx("div",{className:"border items-center flex justify-center p-5 overflow-hidden mb-4 lg:h-[400px] md:h-[300px] h-[200px]",children:e.jsx("img",{src:(i=a[r])!=null&&i.url?`/api/image/download${a[r].url}`:"https://via.placeholder.com/300x300?text=No+Image+Available",alt:((s=a[r])==null?void 0:s.alt)||"Chemical bottles with blue liquid",className:"w-full h-full object-contain"})}),e.jsx("div",{className:"flex gap-4",children:a.map((t,o)=>e.jsx("button",{onClick:()=>n(o),className:`border px-3 overflow-hidden w-26 h-24 ${r===o?"border-primary":""}`,children:e.jsx("img",{src:t.url?`/api/image/download${t.url}`:"https://via.placeholder.com/150x150?text=No+Thumbnail",alt:t.alt||`Thumbnail ${o+1}`,className:"w-full h-full object-cover"})},o))})]})}function U({productDetails:a,name:r,cas:n}){const i=a.filter(s=>!["MSDS","Specs"].includes(s.label));return e.jsxs(e.Fragment,{children:[e.jsxs("h1",{className:"text-2xl font-bold text-yellow-800 mb-6",children:[r," || ",n]}),e.jsx("div",{className:"grid mb-8",children:i.map((s,t)=>e.jsxs("div",{className:`grid grid-cols-2 p-2 ${t%2===0?"bg-yellow-100/30":"bg-white"}`,children:[e.jsx("span",{className:"font-medium text-sm text-yellow-800",children:s.label}),e.jsx("span",{className:"font-medium text-sm",children:s.value})]},t))})]})}function B({msds:a,specs:r,name:n,onInquiry:i}){const{data:s,isLoading:t}=M(),[o,h]=l.useState(""),[f,y]=l.useState("");l.useEffect(()=>{s&&s.length>0&&(console.log(s[0]),h(s[0].number),y(`Hi, I'm interested in ${n}`))},[s,n]);const x=d=>{const g=d==="msds"?`/api/image/msds/view/${encodeURIComponent(a)}`:`/api/image/specs/view/${encodeURIComponent(r)}`;window.open(g,"_blank")},b=()=>{console.log(o);const d=`https://wa.me/${o}?text=${encodeURIComponent(f)}`;window.open(d,"_blank")};return t?e.jsx("div",{children:"Loading..."}):e.jsxs("div",{className:"mt-12 bg-gradient-to-r from-yellow-50 to-yellow-100 p-5 shadow-md",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 text-yellow-900 border-b border-yellow-200 pb-3",children:[n," MSDS (Material Safety Data Sheet) or SDS, COA and Specs"]}),e.jsxs("div",{className:"flex gap-4 mb-3",children:[e.jsxs(S,{variant:"outline",className:"flex items-center gap-2 bg-white hover:bg-yellow-50 border-yellow-200 hover:border-yellow-300 text-yellow-700",onClick:()=>x("specs"),children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Specs"]}),e.jsxs(S,{variant:"outline",className:"flex items-center gap-2 bg-white hover:bg-yellow-50 border-yellow-200 hover:border-yellow-300 text-yellow-700",onClick:()=>x("msds"),children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"MSDS"]}),e.jsx(S,{onClick:i,className:"w-1/4 bg-[#1290ca] hover:bg-[#0f7aa8] transition-colors duration-300 text-white text-md py-5 flex items-center gap-2",children:"Inquiry Now"}),e.jsx("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:b,children:e.jsx(E,{className:"text-4xl text-green-500"})})]})]})}function H({global_tagline:a,name:r,cas:n}){return e.jsxs("div",{className:"mt-8 border rounded-lg p-4 bg-orange-500/10 border-orange-600 flex justify-center items-center gap-4",children:[e.jsx("div",{className:"w-16",children:e.jsx("img",{src:"https://img.freepik.com/free-vector/illustration-india-flag_53876-27130.jpg?w=64&h=64",alt:"Made in India",className:"w-full h-auto"})}),e.jsxs("p",{className:"font-medium",children:[a," ",r," | ",n]})]})}k.setAppElement("#root");function W({productName:a,onClose:r}){const[n,i]=l.useState(""),[s,t]=l.useState(""),[o,h]=l.useState(""),[f,y]=l.useState(""),[x,b]=l.useState(""),[d,g]=l.useState(null),[v,w]=l.useState(!1),[N,j]=l.useState(""),[u,m]=l.useState(!1),[p]=q(),P=async c=>{var A;if(c.preventDefault(),!d){j("Please complete the reCAPTCHA.");return}w(!0),j("");try{await p({name:n,email:s,phone:o,subject:f,message:x,productName:a,captchaToken:d}).unwrap(),m(!0),w(!1),i(""),t(""),h(""),y(""),b(""),g(null),r()}catch(C){j(((A=C.data)==null?void 0:A.message)||"Failed to submit inquiry. Please try again."),w(!1)}};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center w-full justify-center bg-black bg-opacity-50 p-4",children:[e.jsxs("div",{className:"bg-white p-8 rounded-md shadow-2xl w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-800 border-b pb-4",children:`Inquiry for ${a}`}),e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Name"}),e.jsx("input",{type:"text",value:n,onChange:c=>i(c.target.value),className:"w-full border border-gray-300 p-1 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition duration-200",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Email"}),e.jsx("input",{type:"email",value:s,onChange:c=>t(c.target.value),className:"w-full border border-gray-300 p-1 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition duration-200",required:!0})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Phone No"}),e.jsx("input",{type:"text",value:o,onChange:c=>h(c.target.value),className:"w-full border border-gray-300 p-1 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition duration-200",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Subject"}),e.jsx("input",{type:"text",value:f,onChange:c=>y(c.target.value),className:"w-full border border-gray-300 p-1 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition duration-200",required:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Message"}),e.jsx("textarea",{value:x,onChange:c=>b(c.target.value),className:"w-full border border-gray-300 p-1 rounded-lg      focus:border-transparent transition duration-200 h-20",required:!0})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(F,{sitekey:"6LfRcrsqAAAAAI_53KTLkPZ_l-jthc1g2UrlrHtE",onChange:c=>g(c)}),N&&e.jsx("p",{className:"text-red-500 text-sm",children:N})]}),e.jsxs("div",{className:`flex justify-end w-full
                     space-x-4`,children:[e.jsx("button",{type:"button",className:"bg-gray-500 hover:bg-gray-600 w-1/4 text-white  px-6 rounded-md transition duration-200",onClick:r,disabled:v,children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-yellow-500 hover:bg-yellow-600 text-white p-2 w-1/4 px-6 rounded-md transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed ",disabled:!d||v,children:v?"Submitting...":"Submit"})]})]})]}),e.jsx(k,{isOpen:u,onRequestClose:()=>m(!1),contentLabel:"Submission Successful",className:"fixed inset-0 flex items-center justify-center z-50 p-4",overlayClassName:"fixed inset-0 bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-[#f5faf7ed] p-6 rounded-lg shadow-lg w-full max-w-md relative",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-green-700",children:"Thank You!"}),e.jsx("p",{className:"mb-4",children:"Your message has been successfully sent."}),e.jsx("p",{className:"mb-4",children:"We will get back to you soon."}),e.jsx("button",{onClick:()=>m(!1),className:"text-black px-4 py-2 absolute top-2 right-2",children:e.jsx(_,{size:25})})]})})]})}const V=()=>{var i;const[a,r]=l.useState(null),{chemicals:n}=I();return l.useEffect(()=>{(async()=>{try{const t=await L.get(`/api/chemical/getLatestChemicalsExcept?slug=${n}`);r(t.data)}catch(t){console.error("Error fetching recent products:",t)}})()},[n]),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl lg:text-3xl font-bold mb-2 text-yellow-900",children:"Recent Products"}),e.jsx("div",{className:"w-[10%] h-1 bg-yellow-800"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:(i=a==null?void 0:a.data)==null?void 0:i.map(s=>{var t,o;return e.jsx($,{to:`/${s.slug}`,className:`group bg-white  overflow-hidden shadow-md hover:shadow-2xl 
            transition-all duration-300 transform hover:-translate-y-1`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"relative p-4 bg-gray-50",children:e.jsx("div",{className:"aspect-w-16 aspect-h-9 h-[40vh]",children:e.jsx("img",{src:`/api/image/download/${(t=s.images[0])==null?void 0:t.url}`,alt:((o=s.images[0])==null?void 0:o.altText)||s.name,className:`w-full h-full object-contain  
                    group-hover:scale-105 transition-transform duration-300`})})}),e.jsxs("div",{className:"p-5 space-y-3 flex-1 bg-gradient-to-b from-yellow-50 to-yellow-100",children:[e.jsx("h3",{className:`font-semibold text-xl text-gray-800 truncate 
                  group-hover:text-yellow-600 transition-colors`,children:s.name}),e.jsxs("p",{className:"text-gray-600 text-sm flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Category:"}),e.jsx("span",{className:"bg-yellow-100 px-2 py-1 rounded-full",children:s.categorySlug})]}),s.cas_number&&e.jsxs("p",{className:"text-gray-600 text-sm flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"CAS Number:"}),e.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:s.cas_number})]})]})]})},s._id)})})]})};function Y(){var j;const[a,r]=l.useState(0),[n,i]=l.useState(""),[s,t]=l.useState(null),[o,h]=l.useState(!0),[f,y]=l.useState(!1),[x,b]=l.useState(!1),{chemicals:d}=I();l.useEffect(()=>{d&&(async()=>{try{h(!0);const m=await fetch(`/api/chemical/getBySlug?slug=${d}`);if(!m.ok)throw new Error("Failed to fetch product data");const p=await m.json();t(p)}catch(m){console.error("Error fetching product data:",m),y(!0)}finally{h(!1)}})()},[d]),l.useEffect(()=>(x?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[x]),l.useEffect(()=>{const u="Chemical Products";if(s!=null&&s.metatitle){document.title=`${s.metatitle} - Product Details`;const m=document.querySelector('meta[name="description"]');if(m)m.setAttribute("content",s.metadescription||`Details about ${s.name}`);else{const p=document.createElement("meta");p.setAttribute("name","description"),p.setAttribute("content",s.metadescription||`Details about ${s.name}`),document.head.appendChild(p)}}else document.title=o?"Loading...":u;return()=>{document.title=u}},[s,o]);const g="https://via.placeholder.com/300x300?text=No+Image+Available",v=((j=s==null?void 0:s.images)==null?void 0:j.length)>0?s.images.map(u=>({url:u.url?`/${u.url.replace(/\\/g,"/")}`:g,alt:u.altText||"Product Image",title:u.title||"Product Image"})):[{url:g,alt:"No Image Available",title:"No Image"}],N=s?[{label:"Product Code",value:s.product_code||"N/A"},{label:"Assay",value:s.assay||"N/A"},{label:"Molecular Formula",value:s.molecular_formula||"N/A"},{label:"Packings",value:s.packings||"N/A"},{label:"Grade",value:s.grade||"N/A"},{label:"CAS",value:s.cas_number||"N/A"},{label:"Molecular Weight",value:s.molecular_weight||"N/A"},{label:"HS CODE",value:s.h_s_code||"N/A"},{label:"MSDS",value:s.msds||"N/A"},{label:"Specs",value:s.specs||"N/A"}]:[{label:"Product Code",value:"N/A"},{label:"Assay",value:"N/A"},{label:"Molecular Formula",value:"N/A"},{label:"Packings",value:"N/A"},{label:"Grade",value:"N/A"},{label:"CAS",value:"N/A"},{label:"Molecular Weight",value:"N/A"},{label:"HS CODE",value:"N/A"},{label:"MSDS",value:"N/A"},{label:"Specs",value:"N/A"}];return e.jsxs("div",{className:"max-w-6xl mx-auto mb-10 px-4 py-2 relative",children:[x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",children:e.jsx(W,{productName:s==null?void 0:s.name,onClose:()=>b(!1)})}),e.jsx(R,{chemicals:s==null?void 0:s.category.name,slug:s==null?void 0:s.category.slug,categorySlug:s==null?void 0:s.name}),o?e.jsx("div",{children:"Loading..."}):f?e.jsx("div",{children:"Error fetching product data"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:flex gap-12",children:[e.jsx(T,{images:v,selectedImage:a,setSelectedImage:r}),e.jsxs("div",{className:"w-[100%]",children:[e.jsx(U,{productDetails:N,name:s==null?void 0:s.name,cas:s==null?void 0:s.cas_number}),e.jsx(B,{batchNumber:n,setBatchNumber:i,msds:s==null?void 0:s.msds,specs:s==null?void 0:s.specs,name:s==null?void 0:s.name,onInquiry:()=>b(!0)})]})]}),e.jsxs("div",{className:"mt-12 bg-gradient-to-r from-yellow-50 to-yellow-100 p-8 rounded-lg shadow-md border border-yellow-200",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6 text-yellow-900 border-b border-yellow-200 pb-3",children:"Product Description"}),e.jsx("div",{className:`text-gray-700 leading-relaxed prose prose-sm max-w-none
                prose-headings:text-yellow-900 
                prose-p:text-gray-600 
                prose-strong:text-yellow-800
                prose-ul:list-disc 
                prose-ul:pl-5
                prose-li:my-1
                prose-a:text-yellow-600 
                prose-a:hover:text-yellow-800`,dangerouslySetInnerHTML:{__html:(s==null?void 0:s.description)||"No description available for this product."}})]})]}),e.jsx("div",{children:e.jsx(V,{})}),e.jsx(H,{global_tagline:s==null?void 0:s.global_tagline,name:s==null?void 0:s.name,cas:s==null?void 0:s.cas_number})]})}export{Y as default};
