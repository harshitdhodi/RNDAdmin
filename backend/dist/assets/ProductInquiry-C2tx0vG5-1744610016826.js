import{r as j,bQ as P,bR as T,j as e,B as o}from"./index-DvKKA-5R-1744610016826.js";import{T as y,a as I,b as f,c as t,d as B,e as r}from"./table-Dml_1ep7-1744610016826.js";import{S as E,a as L,b as D,c as M,d as R}from"./select-LU9vTalX-1744610016826.js";import{S as d}from"./sweetalert2.esm.all-CIewtpap-1744610016826.js";import{T as k}from"./trash-2-DWQ_Gfa2-1744610016826.js";import{C as q}from"./chevron-left-BX7syLvc-1744610016826.js";import{C as z}from"./chevron-right-tbZoDURp-1744610016826.js";import"./Combination-DMdGV4u5-1744610016826.js";import"./index-D9Lz5Zki-1744610016826.js";import"./check-EcU0Jfbk-1744610016826.js";import"./chevron-up-CyYxuXtQ-1744610016826.js";function W(){const[a,m]=j.useState(1),[i,g]=j.useState(10),{data:l,isLoading:p,isError:b}=P(),[N]=T(),n=(l==null?void 0:l.inquiries)||[],w=async s=>{if((await d.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await N(s).unwrap(),d.fire("Deleted!","The inquiry has been deleted.","success")}catch(S){console.error("Failed to delete inquiry:",S),d.fire("Error!","Failed to delete the inquiry.","error")}},C=s=>{g(Number(s)),m(1)},x=s=>{m(s)},c=a*i,h=c-i,v=n.slice(h,c),u=Math.ceil(n.length/i);return p?e.jsx("div",{children:"Loading..."}):b?e.jsx("div",{children:"Error loading inquiries"}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-5",children:"Contact List"}),e.jsxs("div",{className:"flex justify-between px-5 bg-gray-100 p-2 rounded-md items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"Show"}),e.jsxs(E,{onValueChange:C,defaultValue:"10",children:[e.jsx(L,{className:"w-[70px]",children:e.jsx(D,{placeholder:"10"})}),e.jsx(M,{children:[10,20,30,40,50].map(s=>e.jsx(R,{value:s.toString(),children:s},s))})]}),e.jsx("span",{children:"entries"})]}),e.jsxs("div",{children:["Showing ",h+1," to ",Math.min(c,n.length)," of ",n.length," entries"]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(y,{children:[e.jsx(I,{className:"bg-gray-100",children:e.jsxs(f,{children:[e.jsx(t,{className:"text-md font-medium  ",children:"Name"}),e.jsx(t,{className:"text-md font-medium",children:"Email"}),e.jsx(t,{className:"text-md font-medium",children:"Phone"}),e.jsx(t,{className:"text-md font-medium",children:"Subject"}),e.jsx(t,{className:"text-md font-medium",children:"Message"}),e.jsx(t,{className:"text-md font-medium",children:"Product Name"}),e.jsx(t,{className:"text-md font-medium text-right",children:"Action"})]})}),e.jsx(B,{children:v.map(s=>e.jsxs(f,{children:[e.jsx(r,{children:s.name}),e.jsx(r,{children:s.email}),e.jsx(r,{children:s.phone}),e.jsx(r,{children:s.subject}),e.jsx(r,{className:"max-w-xs truncate",children:s.message}),e.jsx(r,{children:s.productName}),e.jsx(r,{className:"text-center",children:e.jsxs(o,{variant:"ghost",size:"icon",onClick:()=>w(s._id),children:[e.jsx(k,{className:"h-4 w-4 text-red-500 font-bold"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})})]},s._id))})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:["Showing page ",a," of ",u]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>x(a-1),disabled:a===1,children:[e.jsx(q,{className:"h-4 w-4"}),"Previous"]}),e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>x(a+1),disabled:a===u,children:["Next",e.jsx(z,{className:"h-4 w-4"})]})]})]})]})}export{W as ProductInquiryTable};
