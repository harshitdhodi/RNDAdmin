import{r as e,j as s}from"./react-BfBsRgn0.js";import{aM as i,aN as r,B as t}from"./index-mCSb4W1J.js";import{T as a,a as l,b as n,c,d as o,e as d}from"./table-C5KT2_Ve.js";import{S as m,a as j,b as x,c as h,d as u}from"./select-BjvvJv_x.js";import{S as p}from"./sweetalert2-R4CIEh_k.js";import{j as f,k as N,l as g}from"./lucide-D6BDVLHE.js";import"./classnames-C3ovBj6j.js";import"./react-dom-DwrudmHt.js";import"./scheduler-BFk34ZWe.js";import"./react-redux-DbBiFgqA.js";import"./use-sync-external-store-DdeJV4gQ.js";import"./@reduxjs-UCSEaN3g.js";import"./redux-C5Huw2aR.js";import"./immer-DgfQkf_7.js";import"./redux-thunk-B3S1iNVp.js";import"./reselect-BSOs5pU1.js";import"./js-cookie-BXEMiIsG.js";import"./react-router-DUJjWq5j.js";import"./cookie-BUTH-fPQ.js";import"./@radix-ui-BWjeGzol.js";import"./aria-hidden-BHUiN-rI.js";import"./react-remove-scroll-yauc81_r.js";import"./tslib-Bc9CN1Ef.js";import"./react-remove-scroll-bar-BcxDecei.js";import"./react-style-singleton-C1QVuB2c.js";import"./get-nonce-BYiZHLe3.js";import"./use-sidecar-BA4C4RS7.js";import"./use-callback-ref-Cvx1xcTX.js";import"./@floating-ui-BSChQBl3.js";import"./class-variance-authority-DeOWI0hf.js";import"./clsx-BeLtu-UY.js";import"./tailwind-merge-D2VJQb_v.js";import"./axios-BoylL8Pu.js";function b(){const[b,v]=e.useState(1),[w,y]=e.useState(10),{data:k,isLoading:C,isError:S}=i(),[B]=r(),E=(null==k?void 0:k.inquiries)||[],q=e=>{v(e)},z=b*w,M=z-w,L=E.slice(M,z),P=Math.ceil(E.length/w);return C?s.jsx("div",{children:"Loading..."}):S?s.jsx("div",{children:"Error loading inquiries"}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-5",children:"Contact List"}),s.jsxs("div",{className:"flex justify-between px-5 bg-gray-100 p-2 rounded-md items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:"Show"}),s.jsxs(m,{onValueChange:e=>{y(Number(e)),v(1)},defaultValue:"10",children:[s.jsx(j,{className:"w-[70px]",children:s.jsx(x,{placeholder:"10"})}),s.jsx(h,{children:[10,20,30,40,50].map((e=>s.jsx(u,{value:e.toString(),children:e},e)))})]}),s.jsx("span",{children:"entries"})]}),s.jsxs("div",{children:["Showing ",M+1," to ",Math.min(z,E.length)," of ",E.length," entries"]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(a,{children:[s.jsx(l,{className:"bg-gray-100",children:s.jsxs(n,{children:[s.jsx(c,{className:"text-md font-medium  ",children:"Name"}),s.jsx(c,{className:"text-md font-medium",children:"Email"}),s.jsx(c,{className:"text-md font-medium",children:"Phone"}),s.jsx(c,{className:"text-md font-medium",children:"Subject"}),s.jsx(c,{className:"text-md font-medium",children:"Message"}),s.jsx(c,{className:"text-md font-medium",children:"Product Name"}),s.jsx(c,{className:"text-md font-medium text-right",children:"Action"})]})}),s.jsx(o,{children:L.map((e=>s.jsxs(n,{children:[s.jsx(d,{children:e.name}),s.jsx(d,{children:e.email}),s.jsx(d,{children:e.phone}),s.jsx(d,{children:e.subject}),s.jsx(d,{className:"max-w-xs truncate",children:e.message}),s.jsx(d,{children:e.productName}),s.jsx(d,{className:"text-center",children:s.jsxs(t,{variant:"ghost",size:"icon",onClick:()=>(async e=>{if((await p.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await B(e).unwrap(),p.fire("Deleted!","The inquiry has been deleted.","success")}catch(s){p.fire("Error!","Failed to delete the inquiry.","error")}})(e._id),children:[s.jsx(f,{className:"h-4 w-4 text-red-500 font-bold"}),s.jsx("span",{className:"sr-only",children:"Delete"})]})})]},e._id)))})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:["Showing page ",b," of ",P]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(t,{variant:"outline",size:"sm",onClick:()=>q(b-1),disabled:1===b,children:[s.jsx(N,{className:"h-4 w-4"}),"Previous"]}),s.jsxs(t,{variant:"outline",size:"sm",onClick:()=>q(b+1),disabled:b===P,children:["Next",s.jsx(g,{className:"h-4 w-4"})]})]})]})]})}export{b as ProductInquiryTable};
