{"version":3,"file":"ProductSearchBar-D8OGo-Je.js","sources":["../../src/website/componets/productSearch/ProductSearchBar.jsx"],"sourcesContent":["import { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { Loader2 } from \"lucide-react\";\nimport Footer from \"../home/Footer\";\n\nexport default function ProductSearchBar() {\n  const [searchParams] = useSearchParams();\n  const slug = searchParams.get(\"tab\"); // Get the 'tab' query parameter for slug\n  const [chemical, setChemical] = useState(null); // State to hold the fetched chemical data\n  const [isLoading, setIsLoading] = useState(true); // State for loading status\n  const [isError, setIsError] = useState(false); // State for error status\n\n  useEffect(() => {\n    if (!slug) return; // Skip fetching if no slug is provided\n\n    const fetchChemicalData = async () => {\n      try {\n        const response = await fetch(`/api/chemical/getBySlug?slug=${slug}`);\n        if (response.ok) {\n          const data = await response.json();\n          setChemical(data); // Set the fetched chemical data\n        } else {\n          setIsError(true); // Set error state if the request failed\n        }\n      } catch (error) {\n        console.error(\"Error fetching chemical data:\", error);\n        setIsError(true); // Set error state on failure\n      } finally {\n        setIsLoading(false); // Set loading state to false after the request completes\n      }\n    };\n\n    fetchChemicalData();\n  }, [slug]); // Fetch data when the slug changes\n\n  if (isLoading) {\n    return (\n      <div className=\"flex justify-center w-full min-h-[200px] items-center\">\n        <Loader2 className=\"h-8 w-8 animate-spin\" />\n      </div>\n    );\n  }\n\n  if (isError || !chemical) {\n    return (\n      <div className=\"flex justify-center w-full\">\n        <div className=\"w-full max-w-7xl p-6\">\n          <h1 className=\"text-2xl font-semibold mb-4\">No results found</h1>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n    <div className=\"flex justify-center w-full\">\n      <div className=\"w-full max-w-7xl p-6\">\n        <h1 className=\"text-2xl font-semibold mb-4\">\n          Search Results for \"{chemical.name || 'Unknown'}\"\n        </h1>\n        \n        <div className=\"text-sm text-gray-600 mb-4\">\n          Showing details for {chemical.name}\n        </div>\n\n        <Table>\n          <TableHeader className=\"bg-blue-700\">\n            <TableRow>\n              <TableHead className=\"text-white\">Product Code</TableHead>\n              <TableHead className=\"text-white\">Product Name</TableHead>\n              <TableHead className=\"text-white\">Grades</TableHead>\n              <TableHead className=\"text-white\">CAS</TableHead>\n              <TableHead className=\"text-white\">TDS</TableHead>\n              <TableHead className=\"text-white\">MSDS</TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            <TableRow className=\"bg-blue-50\">\n              <TableCell>{chemical.product_code || chemical.auto_p_code || 'N/A'}</TableCell>\n              <TableCell>\n                <Link \n                  to={`/${chemical.slug}`} \n                  className=\"text-blue-600 hover:underline cursor-pointer\"\n                >\n                  {chemical.name}\n                </Link>\n              </TableCell>\n              <TableCell>{chemical.grade || 'N/A'}</TableCell>\n              <TableCell>{chemical.cas_number || 'N/A'}</TableCell>\n              <TableCell>\n                {chemical.tds_url ? (\n                  <Link to={chemical.tds_url} className=\"text-blue-600 hover:underline\" target=\"_blank\" rel=\"noopener noreferrer\">\n                    Specs\n                  </Link>\n                ) : (\n                  \"Specs\"\n                )}\n              </TableCell>\n              <TableCell>\n                {chemical.msds_url ? (\n                  <Link to={chemical.msds_url} className=\"text-blue-600 hover:underline\" target=\"_blank\" rel=\"noopener noreferrer\">\n                    MSDS\n                  </Link>\n                ) : (\n                  \"MSDS\"\n                )}\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n\n      \n      </div>\n    </div>\n    <Footer/>\n    </>\n  );\n}\n"],"names":["ProductSearchBar","searchParams","useSearchParams","slug","get","chemical","setChemical","useState","isLoading","setIsLoading","isError","setIsError","useEffect","async","response","fetch","ok","data","json","error","fetchChemicalData","jsx","className","children","Loader2","jsxs","Fragment","name","Table","TableHeader","TableRow","TableHead","TableBody","TableCell","product_code","auto_p_code","Link","to","grade","cas_number","tds_url","target","rel","msds_url","Footer"],"mappings":"+XAMA,SAAwBA,IAChB,MAACC,GAAgBC,IACjBC,EAAOF,EAAaG,IAAI,QACvBC,EAAUC,GAAeC,EAAAA,SAAS,OAClCC,EAAWC,GAAgBF,EAAAA,UAAS,IACpCG,EAASC,GAAcJ,EAAAA,UAAS,GAyBvC,OAvBAK,EAAAA,WAAU,KACR,IAAKT,EAAM,OAEeU,WACpB,IACF,MAAMC,QAAiBC,MAAM,gCAAgCZ,KAC7D,GAAIW,EAASE,GAAI,CACT,MAAAC,QAAaH,EAASI,OAC5BZ,EAAYW,EAAI,MAEhBN,GAAW,SAENQ,GAEPR,GAAW,EAAI,CACf,QACAF,GAAa,EAAK,GAIJW,EAAA,GACjB,CAACjB,IAEAK,EAEAa,MAAC,OAAIC,UAAU,wDACbC,eAACC,EAAQ,CAAAF,UAAU,2BAKrBZ,IAAYL,EAEXgB,EAAAA,IAAA,MAAA,CAAIC,UAAU,6BACbC,eAAC,MAAI,CAAAD,UAAU,uBACbC,SAAAF,EAAAA,IAAC,KAAG,CAAAC,UAAU,8BAA8BC,SAAA,yBAQlDE,EAAAA,KAAAC,WAAA,CAAAH,SAAA,CAAAF,EAAAA,IAAC,OAAIC,UAAU,6BACbC,SAACE,EAAAA,KAAA,MAAA,CAAIH,UAAU,uBACbC,SAAA,CAACE,EAAAA,KAAA,KAAA,CAAGH,UAAU,8BAA8BC,SAAA,CAAA,uBACrBlB,EAASsB,MAAQ,UAAU,OAGlDF,EAAAA,KAAC,MAAI,CAAAH,UAAU,6BAA6BC,SAAA,CAAA,uBACrBlB,EAASsB,eAG/BC,EACC,CAAAL,SAAA,CAAAF,MAACQ,EAAY,CAAAP,UAAU,cACrBC,SAAAE,EAAAA,KAACK,EACC,CAAAP,SAAA,CAACF,EAAAA,IAAAU,EAAA,CAAUT,UAAU,aAAaC,SAAY,iBAC7CF,EAAAA,IAAAU,EAAA,CAAUT,UAAU,aAAaC,SAAY,iBAC7CF,EAAAA,IAAAU,EAAA,CAAUT,UAAU,aAAaC,SAAM,WACvCF,EAAAA,IAAAU,EAAA,CAAUT,UAAU,aAAaC,SAAG,QACpCF,EAAAA,IAAAU,EAAA,CAAUT,UAAU,aAAaC,SAAG,QACpCF,EAAAA,IAAAU,EAAA,CAAUT,UAAU,aAAaC,SAAI,cAGzCF,MAAAW,EAAA,CACCT,SAACE,EAAAA,KAAAK,EAAA,CAASR,UAAU,aAClBC,SAAA,CAAAF,MAACY,EAAW,CAAAV,SAAAlB,EAAS6B,cAAgB7B,EAAS8B,aAAe,cAC5DF,EACC,CAAAV,SAAAF,EAAAA,IAACe,KAAA,CACCC,GAAI,IAAIhC,EAASF,OACjBmB,UAAU,+CAETC,SAASlB,EAAAsB,SAGbN,EAAAA,IAAAY,EAAA,CAAWV,SAASlB,EAAAiC,OAAS,QAC7BjB,EAAAA,IAAAY,EAAA,CAAWV,SAASlB,EAAAkC,YAAc,cAClCN,EACE,CAAAV,SAAAlB,EAASmC,QACRnB,EAAAA,IAACe,MAAKC,GAAIhC,EAASmC,QAASlB,UAAU,gCAAgCmB,OAAO,SAASC,IAAI,sBAAsBnB,SAAA,UAIhH,gBAGHU,EACE,CAAAV,SAAAlB,EAASsC,SACRtB,MAACe,MAAKC,GAAIhC,EAASsC,SAAUrB,UAAU,gCAAgCmB,OAAO,SAASC,IAAI,sBAAsBnB,SAAA,SAIjH,4BAUbqB,EAAM,CAAA,KAGX"}