import{a as o,j as e,r as g}from"./react-DKICu8bO.js";import{B as b,P as y,I as w}from"./index-Bbo1zcj1.js";import{T as P,a as T,b as C,c as N,e as d,d as I}from"./table-nX7BFFdz.js";import"./classnames-Bv6oJzD9.js";import"./react-dom-BBS6HuAW.js";import"./scheduler-CKyTKYc2.js";import"./react-redux-BrRfTdeB.js";import"./use-sync-external-store-D0ivhzzy.js";import"./@reduxjs-B5J9SSA5.js";import"./redux-DITMfSWq.js";import"./immer-fBqQtvEc.js";import"./redux-thunk-ClJT1hhx.js";import"./reselect-C27TLnWV.js";import"./js-cookie-Cz0CWeBA.js";import"./react-router-B9QVkYva.js";import"./cookie--_YQFYBD.js";import"./@radix-ui-BlrBCj0C.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-fXbmorz6.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-C9fmXXva.js";import"./react-style-singleton-DKBZmuKg.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-C10EJNOT.js";import"./use-callback-ref-BoKxM4XI.js";import"./@floating-ui-8J-daYO3.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./lucide-D7hRWJEP.js";import"./axios-DXsv3KKR.js";import"./@syncfusion-BIAkhmGL.js";function L({chemicals:h,onRemoveChemical:p}){const[a,r]=o.useState(1),[l,n]=o.useState(10),[u,v]=o.useState(""),[x,i]=o.useState(""),c=h.filter(t=>t.name.toLowerCase().includes(u.toLowerCase())&&t.cas_number.toLowerCase().includes(x.toLowerCase())),S=Math.ceil(c.length/l),m=(a-1)*l,j=m+l,s=c.slice(m,j);return e.jsxs("div",{className:"border rounded-md mt-4",children:[e.jsxs(P,{children:[e.jsxs(T,{children:[e.jsxs(C,{children:[e.jsx(N,{children:"Chemical Name"}),e.jsx(N,{children:"CAS Number"})]}),e.jsxs(C,{children:[e.jsx(d,{children:e.jsx("input",{type:"text",placeholder:"Filter by Chemical Name",value:u,onChange:t=>v(t.target.value),className:"w-full border rounded px-2 py-1"})}),e.jsx(d,{children:e.jsx("input",{type:"text",placeholder:"Filter by CAS Number",value:x,onChange:t=>i(t.target.value),className:"w-full border rounded px-2 py-1"})})]})]}),e.jsx(I,{children:s.length===0?e.jsx(C,{children:e.jsx(d,{colSpan:2,className:"text-center",children:"No chemicals found."})}):s.map(t=>e.jsxs(C,{children:[e.jsx(d,{children:t.name}),e.jsx(d,{children:t.cas_number})]},t._id))})]}),e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Items per page:"," ",e.jsxs("select",{className:"border rounded",value:l,onChange:t=>n(Number(t.target.value)),children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{variant:"outline",size:"sm",onClick:()=>r(a-1),disabled:a===1,children:"Previous"}),e.jsx("span",{className:"flex items-center gap-1",children:e.jsxs("span",{className:"text-sm text-gray-500",children:[m+1," - ",Math.min(j,c.length)," of"," ",c.length]})}),e.jsx(b,{variant:"outline",size:"sm",onClick:()=>r(a+1),disabled:a===S,children:"Next"})]})]})]})}function F({onSelectSupplier:h}){const[p,a]=g.useState(""),[r,l]=g.useState(""),[n,u]=g.useState(null),[v,x]=g.useState([]),{data:i,isLoading:c}=y(r.charAt(0),{skip:r.length===0}),S=s=>{u(s),a(s.name),l(""),h(s)},m=s=>{const t=s.target.value;a(t),l(t)},j=s=>{x(t=>t.filter(f=>f.id!==s.id))};return e.jsxs("div",{className:"mt-4",children:[e.jsx(w,{placeholder:"Search Supplier",value:p,onChange:m,className:"w-full mb-4"}),c?e.jsx("div",{children:"Loading..."}):r&&i&&i.length>0&&e.jsx("ul",{className:"border bg-white rounded max-h-40 overflow-y-auto",children:i.map(s=>e.jsx("li",{onClick:()=>S(s),className:"p-2 hover:bg-gray-200 cursor-pointer",children:s.name},s.id))}),(i==null?void 0:i.length)===0&&!c&&r&&e.jsx("div",{className:"p-2 text-gray-500",children:"No Supplier found"}),e.jsx("div",{className:"mt-4",children:e.jsx(L,{chemicals:(n==null?void 0:n.chemical_ids)||[],onRemoveChemical:j})})]})}function oe(){const[h,p]=o.useState(null),[a,r]=o.useState([]),l=n=>{p(n),r([])};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-purple-700",children:"Search Chemical By Supplier Name"}),e.jsx("div",{className:"space-y-4",children:e.jsx(F,{onSelectCustomer:l})})]})}export{oe as default};
