{"version":3,"file":"SearchChamicals-DMOQrbFn.js","sources":["../../src/supplier/searchChemcial_component/ChemicalTable.jsx","../../src/supplier/searchChemcial_component/SearchSupplier.jsx","../../src/supplier/SearchChamicals.jsx"],"sourcesContent":["import React from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/ui/table'\r\n\r\nexport function ChemicalTable({ chemicals, onRemoveChemical }) {\r\n  const [page, setPage] = React.useState(1)\r\n  const [itemsPerPage, setItemsPerPage] = React.useState(10)\r\n  const [chemicalFilter, setChemicalFilter] = React.useState('')\r\n  const [casFilter, setCasFilter] = React.useState('')\r\n\r\n  const handleRemoveChemical = async (chemical) => {\r\n    if (chemicals) {\r\n      onRemoveChemical(chemical)\r\n    }\r\n  }\r\n\r\n  // Filter chemicals based on the search input\r\n  const filteredChemicals = chemicals.filter(\r\n    (chemical) =>\r\n      chemical.name.toLowerCase().includes(chemicalFilter.toLowerCase()) &&\r\n      chemical.cas_number.toLowerCase().includes(casFilter.toLowerCase())\r\n  )\r\n\r\n  // Pagination logic\r\n  const totalPages = Math.ceil(filteredChemicals.length / itemsPerPage)\r\n  const startIndex = (page - 1) * itemsPerPage\r\n  const endIndex = startIndex + itemsPerPage\r\n  const currentChemicals = filteredChemicals.slice(startIndex, endIndex)\r\n\r\n  return (\r\n    <div className=\"border rounded-md mt-4\">\r\n      <Table>\r\n        <TableHeader>\r\n          <TableRow>\r\n            <TableHead>Chemical Name</TableHead>\r\n            <TableHead>CAS Number</TableHead>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Filter by Chemical Name\"\r\n                value={chemicalFilter}\r\n                onChange={(e) => setChemicalFilter(e.target.value)}\r\n                className=\"w-full border rounded px-2 py-1\"\r\n              />\r\n            </TableCell>\r\n            <TableCell>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Filter by CAS Number\"\r\n                value={casFilter}\r\n                onChange={(e) => setCasFilter(e.target.value)}\r\n                className=\"w-full border rounded px-2 py-1\"\r\n              />\r\n            </TableCell>\r\n          </TableRow>\r\n        </TableHeader>\r\n        <TableBody>\r\n          {currentChemicals.length === 0 ? (\r\n            <TableRow>\r\n              <TableCell colSpan={2} className=\"text-center\">\r\n                No chemicals found.\r\n              </TableCell>\r\n            </TableRow>\r\n          ) : (\r\n            currentChemicals.map((chemical) => (\r\n              <TableRow key={chemical._id}>\r\n                <TableCell>{chemical.name}</TableCell>\r\n                <TableCell>{chemical.cas_number}</TableCell>\r\n              </TableRow>\r\n            ))\r\n          )}\r\n        </TableBody>\r\n      </Table>\r\n\r\n      {/* Pagination */}\r\n      <div className=\"flex items-center justify-between px-4 py-2 border-t\">\r\n        <div className=\"text-sm text-gray-500\">\r\n          Items per page:{' '}\r\n          <select\r\n            className=\"border rounded\"\r\n            value={itemsPerPage}\r\n            onChange={(e) => setItemsPerPage(Number(e.target.value))}\r\n          >\r\n            <option value={10}>10</option>\r\n            <option value={20}>20</option>\r\n            <option value={50}>50</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => setPage(page - 1)}\r\n            disabled={page === 1}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <span className=\"flex items-center gap-1\">\r\n            <span className=\"text-sm text-gray-500\">\r\n              {startIndex + 1} - {Math.min(endIndex, filteredChemicals.length)} of{' '}\r\n              {filteredChemicals.length}\r\n            </span>\r\n          </span>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => setPage(page + 1)}\r\n            disabled={page === totalPages}\r\n          >\r\n            Next\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Input } from '@/components/ui/input'\r\nimport { useGetSuppliersByAlphabetQuery } from '@/slice/supplierSlice/SupplierSlice'\r\n// import { S_ChemicalSearch } from './S_chemicalSearch'\r\nimport { ChemicalTable } from './ChemicalTable'\r\n\r\nexport function SearchSupplier ({ onSelectSupplier }) {\r\n  const [supplierSearch, setSupplierSearch] = useState('')\r\n  const [queryString, setQueryString] = useState('')\r\n  const [selectedSupplier, setSelectedSupplier] = useState(null)\r\n  const [chemicals, setChemicals] = useState([])\r\n\r\n  // Fetch suppliers based on the first letter of the query string\r\n  const { data: suppliers, isLoading: isLoadingSuppliers } = useGetSuppliersByAlphabetQuery(\r\n    queryString.charAt(0),\r\n    { skip: queryString.length === 0 }\r\n  )\r\n\r\n  const handleSelectSupplier = (supplier) => {\r\n    setSelectedSupplier(supplier)\r\n    setSupplierSearch(supplier.name)\r\n    setQueryString('')\r\n    onSelectSupplier(supplier)\r\n  }\r\n\r\n  const handleInputChange = (e) => {\r\n    const value = e.target.value\r\n    setSupplierSearch(value)\r\n    setQueryString(value)\r\n  }\r\n\r\n  const handleAddChemical = (chemical) => {\r\n    console.log('Added:', chemical)\r\n    setChemicals((prevChemicals) => [...prevChemicals, chemical])\r\n  }\r\n\r\n  const handleRemoveChemical = (removedChemical) => {\r\n    setChemicals((prevChemicals) =>\r\n      prevChemicals.filter((chemical) => chemical.id !== removedChemical.id)\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-4\">\r\n      <Input\r\n        placeholder=\"Search Supplier\"\r\n        value={supplierSearch}\r\n        onChange={handleInputChange}\r\n        className=\"w-full mb-4\"\r\n      />\r\n\r\n      {isLoadingSuppliers ? (\r\n        <div>Loading...</div>\r\n      ) : (\r\n        queryString &&\r\n        suppliers &&\r\n        suppliers.length > 0 && (\r\n          <ul className=\"border bg-white rounded max-h-40 overflow-y-auto\">\r\n            {suppliers.map((supplier) => (\r\n              <li\r\n                key={supplier.id}\r\n                onClick={() => handleSelectSupplier(supplier)}\r\n                className=\"p-2 hover:bg-gray-200 cursor-pointer\"\r\n              >\r\n                {supplier.name}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )\r\n      )}\r\n\r\n      {suppliers?.length === 0 && !isLoadingSuppliers && queryString && (\r\n        <div className=\"p-2 text-gray-500\">No Supplier found</div>\r\n      )}\r\n\r\n      {/* <S_ChemicalSearch\r\n        selectedSupplier={selectedSupplier}\r\n        onAddChemical={handleAddChemical}\r\n      /> */}\r\n\r\n      <div className=\"mt-4\">\r\n        <ChemicalTable\r\n        chemicals={selectedSupplier?.chemical_ids || []} // Default empty array if no customer is selected\r\n       \r\n          onRemoveChemical={handleRemoveChemical}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport React from 'react'\r\nimport { SearchSupplier } from './searchChemcial_component/SearchSupplier'\r\n\r\nexport default function AssignChemicals() {\r\n  const [selectedCustomer, setSelectedCustomer] = React.useState(null)\r\n  const [chemicals, setChemicals] = React.useState([])\r\n\r\n  const handleSelectCustomer = (customer) => {\r\n    setSelectedCustomer(customer)\r\n    setChemicals([])\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      <h1 className=\"text-2xl font-bold text-purple-700\">\r\n       Search Chemical By Supplier Name \r\n      </h1>\r\n\r\n      <div className=\"space-y-4\">\r\n        <SearchSupplier onSelectCustomer={handleSelectCustomer} />       \r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":["ChemicalTable","chemicals","onRemoveChemical","page","setPage","React","useState","itemsPerPage","setItemsPerPage","chemicalFilter","setChemicalFilter","casFilter","setCasFilter","filteredChemicals","filter","chemical","name","toLowerCase","includes","cas_number","totalPages","Math","ceil","length","startIndex","endIndex","currentChemicals","slice","jsxs","className","children","Table","TableHeader","TableRow","jsx","TableHead","TableCell","type","placeholder","value","onChange","e","target","TableBody","colSpan","map","_id","Number","Button","variant","size","onClick","disabled","min","SearchSupplier","onSelectSupplier","supplierSearch","setSupplierSearch","queryString","setQueryString","selectedSupplier","setSelectedSupplier","setChemicals","data","suppliers","isLoading","isLoadingSuppliers","useGetSuppliersByAlphabetQuery","charAt","skip","Input","supplier","handleSelectSupplier","id","chemical_ids","removedChemical","prevChemicals","AssignChemicals","selectedCustomer","setSelectedCustomer","onSelectCustomer","customer"],"mappings":"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"}