import{a as e,j as s,r}from"./react-BfBsRgn0.js";import{B as a,P as t,I as i}from"./index-mCSb4W1J.js";import{T as l,a as c,b as n,c as o,e as m,d}from"./table-C5KT2_Ve.js";import"./classnames-C3ovBj6j.js";import"./react-dom-DwrudmHt.js";import"./scheduler-BFk34ZWe.js";import"./react-redux-DbBiFgqA.js";import"./use-sync-external-store-DdeJV4gQ.js";import"./@reduxjs-UCSEaN3g.js";import"./redux-C5Huw2aR.js";import"./immer-DgfQkf_7.js";import"./redux-thunk-B3S1iNVp.js";import"./reselect-BSOs5pU1.js";import"./js-cookie-BXEMiIsG.js";import"./react-router-DUJjWq5j.js";import"./cookie-BUTH-fPQ.js";import"./@radix-ui-BWjeGzol.js";import"./aria-hidden-BHUiN-rI.js";import"./react-remove-scroll-yauc81_r.js";import"./tslib-Bc9CN1Ef.js";import"./react-remove-scroll-bar-BcxDecei.js";import"./react-style-singleton-C1QVuB2c.js";import"./get-nonce-BYiZHLe3.js";import"./use-sidecar-BA4C4RS7.js";import"./use-callback-ref-Cvx1xcTX.js";import"./@floating-ui-BSChQBl3.js";import"./class-variance-authority-DeOWI0hf.js";import"./clsx-BeLtu-UY.js";import"./tailwind-merge-D2VJQb_v.js";import"./lucide-D6BDVLHE.js";import"./axios-BoylL8Pu.js";function u({chemicals:r,onRemoveChemical:t}){const[i,u]=e.useState(1),[j,p]=e.useState(10),[h,x]=e.useState(""),[v,g]=e.useState(""),N=r.filter((e=>e.name.toLowerCase().includes(h.toLowerCase())&&e.cas_number.toLowerCase().includes(v.toLowerCase()))),b=Math.ceil(N.length/j),f=(i-1)*j,S=f+j,y=N.slice(f,S);return s.jsxs("div",{className:"border rounded-md mt-4",children:[s.jsxs(l,{children:[s.jsxs(c,{children:[s.jsxs(n,{children:[s.jsx(o,{children:"Chemical Name"}),s.jsx(o,{children:"CAS Number"})]}),s.jsxs(n,{children:[s.jsx(m,{children:s.jsx("input",{type:"text",placeholder:"Filter by Chemical Name",value:h,onChange:e=>x(e.target.value),className:"w-full border rounded px-2 py-1"})}),s.jsx(m,{children:s.jsx("input",{type:"text",placeholder:"Filter by CAS Number",value:v,onChange:e=>g(e.target.value),className:"w-full border rounded px-2 py-1"})})]})]}),s.jsx(d,{children:0===y.length?s.jsx(n,{children:s.jsx(m,{colSpan:2,className:"text-center",children:"No chemicals found."})}):y.map((e=>s.jsxs(n,{children:[s.jsx(m,{children:e.name}),s.jsx(m,{children:e.cas_number})]},e._id)))})]}),s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Items per page:"," ",s.jsxs("select",{className:"border rounded",value:j,onChange:e=>p(Number(e.target.value)),children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:20,children:"20"}),s.jsx("option",{value:50,children:"50"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(a,{variant:"outline",size:"sm",onClick:()=>u(i-1),disabled:1===i,children:"Previous"}),s.jsx("span",{className:"flex items-center gap-1",children:s.jsxs("span",{className:"text-sm text-gray-500",children:[f+1," - ",Math.min(S,N.length)," of"," ",N.length]})}),s.jsx(a,{variant:"outline",size:"sm",onClick:()=>u(i+1),disabled:i===b,children:"Next"})]})]})]})}function j({onSelectSupplier:e}){const[a,l]=r.useState(""),[c,n]=r.useState(""),[o,m]=r.useState(null),[d,j]=r.useState([]),{data:p,isLoading:h}=t(c.charAt(0),{skip:0===c.length});return s.jsxs("div",{className:"mt-4",children:[s.jsx(i,{placeholder:"Search Supplier",value:a,onChange:e=>{const s=e.target.value;l(s),n(s)},className:"w-full mb-4"}),h?s.jsx("div",{children:"Loading..."}):c&&p&&p.length>0&&s.jsx("ul",{className:"border bg-white rounded max-h-40 overflow-y-auto",children:p.map((r=>s.jsx("li",{onClick:()=>(s=>{m(s),l(s.name),n(""),e(s)})(r),className:"p-2 hover:bg-gray-200 cursor-pointer",children:r.name},r.id)))}),0===(null==p?void 0:p.length)&&!h&&c&&s.jsx("div",{className:"p-2 text-gray-500",children:"No Supplier found"}),s.jsx("div",{className:"mt-4",children:s.jsx(u,{chemicals:(null==o?void 0:o.chemical_ids)||[],onRemoveChemical:e=>{j((s=>s.filter((s=>s.id!==e.id))))}})})]})}function p(){const[r,a]=e.useState(null),[t,i]=e.useState([]);return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-purple-700",children:"Search Chemical By Supplier Name"}),s.jsx("div",{className:"space-y-4",children:s.jsx(j,{onSelectCustomer:e=>{a(e),i([])}})})]})}export{p as default};
