import{e as o,C as I,d as a,f as h,U as w,B as g,s as m}from"./antd-mtWlDmqY.js";import{r as p,j as e}from"./react-DKICu8bO.js";import{a as y}from"./axios-DXsv3KKR.js";import{P as U}from"./ant-design-icons-CNhZ1eT-.js";import{a as N,L as u}from"./react-router-B9QVkYva.js";import"./@ant-design-jkdqJqTn.js";import"./rc-util-C9ihiQ8l.js";import"./@babel-C_xKm-6V.js";import"./react-is-NfUKNnIv.js";import"./react-dom-BBS6HuAW.js";import"./classnames-Bv6oJzD9.js";import"./scheduler-CKyTKYc2.js";import"./@emotion-CW87jbl0.js";import"./stylis-OW4gUFyn.js";import"./@ctrl-DOFZgDuz.js";import"./rc-motion-D0k58WYE.js";import"./@rc-component-DJY3KRXL.js";import"./rc-resize-observer-h7CJ_t66.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./rc-dialog-CfVZmZCG.js";import"./rc-table-BJAsEMDh.js";import"./rc-virtual-list-OMMR-gr8.js";import"./rc-tree-aGCJh_41.js";import"./rc-checkbox-nRYcjTPl.js";import"./rc-pagination-ZKXeAm0h.js";import"./rc-select-RmeC3WgB.js";import"./rc-overflow-DEivB5rv.js";import"./throttle-debounce-CUWDS_la.js";import"./rc-input-CIUXRVU8.js";import"./rc-tooltip-Oavn6yow.js";import"./rc-notification-0md6QYDj.js";import"./rc-image-ClDwiN-j.js";import"./rc-textarea-CijmdGy3.js";import"./copy-to-clipboard-0rP7DRqq.js";import"./toggle-selection-DGa8lynz.js";import"./rc-upload-DlrdHvh1.js";import"./rc-progress-BVn0ZmF4.js";import"./rc-dropdown-D4AwxsUk.js";import"./rc-menu-MHhKtfoG.js";import"./rc-field-form-CVOtFEQA.js";import"./scroll-into-view-if-needed-BZeNfFF0.js";import"./compute-scroll-into-view-DWa9QgjM.js";import"./rc-picker-D0kXf0IF.js";import"./rc-tabs-XmQY-w_1.js";import"./cookie--_YQFYBD.js";const ue=()=>{const[n,d]=p.useState(!1),[i,c]=p.useState([]),[x,s]=p.useState(null),j=N(),f=async t=>{if(i.length===0){m.error("Please upload an image.");return}const r=new FormData;r.append("image",i[0].originFileObj),r.append("altText",t.altText),r.append("title",t.title),d(!0);try{const l=await y.post("/api/slideShow/addimages",r,{headers:{"Content-Type":"multipart/form-data"}});m.success("Image uploaded successfully!"),j("/slideShow-table"),console.log("Response:",l.data)}catch(l){m.error("Failed to upload image."),console.error(l)}finally{d(!1),c([]),s(null)}},b=({fileList:t})=>{if(c(t.slice(-1)),t.length>0){const r=t[0].originFileObj;s(URL.createObjectURL(r))}else s(null)};return e.jsxs("div",{className:"flex flex-col items-center px-6",children:[e.jsxs(o,{className:"self-start mb-4 text-gray-600",children:[e.jsx(o.Item,{children:e.jsx(u,{to:"/dashboard",children:"Dashboard"})}),e.jsx(o.Item,{children:e.jsx(u,{to:"/slideShow-table",children:"SlideShow Table"})}),e.jsx(o.Item,{children:"Upload Image"})]}),e.jsxs(I,{className:"w-full max-w-4lg shadow-lg rounded-xl",children:[e.jsx("h2",{className:"text-xl font-semibold text-left mb-4",children:"Upload Image"}),e.jsxs(a,{layout:"vertical",onFinish:f,className:"w-full lg:w-1/2",children:[e.jsx(a.Item,{label:"Image Title",name:"title",rules:[{required:!0,message:"Please enter image title"}],children:e.jsx(h,{placeholder:"Enter image title"})}),e.jsx(a.Item,{label:"Alt Name",name:"altText",rules:[{required:!0,message:"Please enter alt text"}],children:e.jsx(h,{placeholder:"Enter alt text"})}),e.jsx(a.Item,{label:"Upload Image",children:e.jsx(w,{fileList:i,beforeUpload:()=>!1,maxCount:1,onChange:b,accept:"image/*",children:e.jsx(g,{icon:e.jsx(U,{}),children:"Select Image"})})}),x&&e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:x,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-300"})}),e.jsx(a.Item,{children:e.jsx(g,{type:"primary",htmlType:"submit",block:!0,loading:n,className:"mt-4",children:n?"Uploading...":"Upload Image"})})]})]})]})};export{ue as default};
