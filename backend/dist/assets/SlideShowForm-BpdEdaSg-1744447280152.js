import{j as e,b as I}from"./main-CuiBl65R-1744447280152.js";import{c as m,f as w,L as h}from"./vendor-C9iLKeEQ-1744447280152.js";import{B as l}from"./Breadcrumb-BRO2b-CC-1744447280152.js";import{C as y}from"./index-DJTzIMHY-1744447280152.js";import{F as s}from"./index-yBgiZpA_-1744447280152.js";import{I as g}from"./index-ipay125m-1744447280152.js";import{U,R as F}from"./index-DL78sEeH-1744447280152.js";import{B as u}from"./index-BASe7pQd-1744447280152.js";import{s as n}from"./index-DiO0HVuh-1744447280152.js";import"./dropdown-D1dGfSyU-1744447280152.js";import"./toArray-Bbgf03cS-1744447280152.js";import"./EllipsisOutlined-DlFZuC_4-1744447280152.js";import"./Skeleton-BBC5dWym-1744447280152.js";import"./PlusOutlined-DfsOdCfO-1744447280152.js";import"./CheckCircleFilled-BXipySGT-1744447280152.js";import"./ExclamationCircleFilled-CxUyat0W-1744447280152.js";import"./TextArea-CUvIxQ56-1744447280152.js";import"./fade-Bnv8Yq_R-1744447280152.js";import"./useForceUpdate-4zHAVCJ5-1744447280152.js";import"./DeleteOutlined-7alTiKct-1744447280152.js";import"./DownloadOutlined-CfVQ6RRv-1744447280152.js";import"./CheckOutlined-CZA7Z06I-1744447280152.js";import"./InfoCircleFilled-D0gqUfmi-1744447280152.js";const W=()=>{const[c,d]=m.useState(!1),[r,p]=m.useState([]),[x,o]=m.useState(null),f=w(),j=async t=>{if(r.length===0){n.error("Please upload an image.");return}const a=new FormData;a.append("image",r[0].originFileObj),a.append("altText",t.altText),a.append("title",t.title),d(!0);try{const i=await I.post("/api/slideShow/addimages",a,{headers:{"Content-Type":"multipart/form-data"}});n.success("Image uploaded successfully!"),f("/slideShow-table"),console.log("Response:",i.data)}catch(i){n.error("Failed to upload image."),console.error(i)}finally{d(!1),p([]),o(null)}},b=({fileList:t})=>{if(p(t.slice(-1)),t.length>0){const a=t[0].originFileObj;o(URL.createObjectURL(a))}else o(null)};return e.jsxs("div",{className:"flex flex-col items-center px-6",children:[e.jsxs(l,{className:"self-start mb-4 text-gray-600",children:[e.jsx(l.Item,{children:e.jsx(h,{to:"/dashboard",children:"Dashboard"})}),e.jsx(l.Item,{children:e.jsx(h,{to:"/slideShow-table",children:"SlideShow Table"})}),e.jsx(l.Item,{children:"Upload Image"})]}),e.jsxs(y,{className:"w-full max-w-4lg shadow-lg rounded-xl",children:[e.jsx("h2",{className:"text-xl font-semibold text-left mb-4",children:"Upload Image"}),e.jsxs(s,{layout:"vertical",onFinish:j,className:"w-full lg:w-1/2",children:[e.jsx(s.Item,{label:"Image Title",name:"title",rules:[{required:!0,message:"Please enter image title"}],children:e.jsx(g,{placeholder:"Enter image title"})}),e.jsx(s.Item,{label:"Alt Name",name:"altText",rules:[{required:!0,message:"Please enter alt text"}],children:e.jsx(g,{placeholder:"Enter alt text"})}),e.jsx(s.Item,{label:"Upload Image",children:e.jsx(U,{fileList:r,beforeUpload:()=>!1,maxCount:1,onChange:b,accept:"image/*",children:e.jsx(u,{icon:e.jsx(F,{}),children:"Select Image"})})}),x&&e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:x,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-300"})}),e.jsx(s.Item,{children:e.jsx(u,{type:"primary",htmlType:"submit",block:!0,loading:c,className:"mt-4",children:c?"Uploading...":"Upload Image"})})]})]})]})};export{W as default};
