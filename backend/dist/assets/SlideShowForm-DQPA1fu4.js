import{j as e}from"./main-DeRxjK88.js";import{r as l,d as t,L as s}from"./vendor-router-Bu4EHm1B.js";import{a}from"./vendor-utils-BfOc9lHv.js";import{B as i}from"./Breadcrumb-Dmow3_cy.js";import{C as r}from"./index-ZcF9gzk5.js";import{F as o}from"./index--6LMyILo.js";import{I as m}from"./index-BrOIVdwD.js";import{U as d,R as n}from"./index-D3J037dB.js";import{B as c}from"./index-lUiyPlMq.js";import{s as p}from"./index-lMP3hCbg.js";import"./vendor-react-CI5aWZjI.js";import"./dropdown-B7KEEEnN.js";import"./toArray-DkI11MDQ.js";import"./EllipsisOutlined-L4j7-ai9.js";import"./Skeleton-3ezOyxdU.js";import"./PlusOutlined-5v_q8HFA.js";import"./getAllowClear-exXUluB6.js";import"./index-DRGG9HZA.js";import"./CheckCircleFilled-DiSUBvU5.js";import"./ExclamationCircleFilled-DZysw_83.js";import"./Input-BufppJmu.js";import"./EyeOutlined-B2vwqoE1.js";import"./TextArea-BEMUKMsu.js";import"./fade-C0XPHGae.js";import"./DeleteOutlined-BpoFncVM.js";import"./DownloadOutlined-DQEsT_id.js";import"./CheckOutlined-3fI3nOal.js";import"./InfoCircleFilled-D8dKuFWy.js";const j=()=>{const[j,x]=l.useState(!1),[u,h]=l.useState([]),[f,g]=l.useState(null),b=t();return e.jsxs("div",{className:"flex flex-col items-center px-6",children:[e.jsxs(i,{className:"self-start mb-4 text-gray-600",children:[e.jsx(i.Item,{children:e.jsx(s,{to:"/dashboard",children:"Dashboard"})}),e.jsx(i.Item,{children:e.jsx(s,{to:"/slideShow-table",children:"SlideShow Table"})}),e.jsx(i.Item,{children:"Upload Image"})]}),e.jsxs(r,{className:"w-full max-w-4lg shadow-lg rounded-xl",children:[e.jsx("h2",{className:"text-xl font-semibold text-left mb-4",children:"Upload Image"}),e.jsxs(o,{layout:"vertical",onFinish:async e=>{if(0===u.length)return void p.error("Please upload an image.");const l=new FormData;l.append("image",u[0].originFileObj),l.append("altText",e.altText),l.append("title",e.title),x(!0);try{await a.post("/api/slideShow/addimages",l,{headers:{"Content-Type":"multipart/form-data"}});p.success("Image uploaded successfully!"),b("/slideShow-table")}catch(t){p.error("Failed to upload image.")}finally{x(!1),h([]),g(null)}},className:"w-full lg:w-1/2",children:[e.jsx(o.Item,{label:"Image Title",name:"title",rules:[{required:!0,message:"Please enter image title"}],children:e.jsx(m,{placeholder:"Enter image title"})}),e.jsx(o.Item,{label:"Alt Name",name:"altText",rules:[{required:!0,message:"Please enter alt text"}],children:e.jsx(m,{placeholder:"Enter alt text"})}),e.jsx(o.Item,{label:"Upload Image",children:e.jsx(d,{fileList:u,beforeUpload:()=>!1,maxCount:1,onChange:({fileList:e})=>{if(h(e.slice(-1)),e.length>0){const l=e[0].originFileObj;g(URL.createObjectURL(l))}else g(null)},accept:"image/*",children:e.jsx(c,{icon:e.jsx(n,{}),children:"Select Image"})})}),f&&e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:f,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-300"})}),e.jsx(o.Item,{children:e.jsx(c,{type:"primary",htmlType:"submit",block:!0,loading:j,className:"mt-4",children:j?"Uploading...":"Upload Image"})})]})]})]})};export{j as default};
//# sourceMappingURL=SlideShowForm-DQPA1fu4.js.map
