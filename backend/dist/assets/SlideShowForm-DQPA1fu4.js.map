{"version":3,"file":"SlideShowForm-DQPA1fu4.js","sources":["../../src/website/componets/slideshow/SlideShowForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Form, Input, Upload, Button, message, Card, Breadcrumb } from \"antd\";\r\nimport { UploadOutlined } from \"@ant-design/icons\";\r\nimport axios from \"axios\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nconst ImageUploadForm = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [fileList, setFileList] = useState([]);\r\n  const [preview, setPreview] = useState(null);\r\nconst navigate = useNavigate();\r\n  const onFinish = async (values) => {\r\n    if (fileList.length === 0) {\r\n      message.error(\"Please upload an image.\");\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"image\", fileList[0].originFileObj);\r\n    formData.append(\"altText\", values.altText);\r\n    formData.append(\"title\", values.title);\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.post(\"/api/slideShow/addimages\", formData, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      });\r\n      message.success(\"Image uploaded successfully!\");\r\n      navigate(\"/slideShow-table\");\r\n      console.log(\"Response:\", response.data);\r\n    } catch (error) {\r\n      message.error(\"Failed to upload image.\");\r\n      console.error(error);\r\n    } finally {\r\n      setLoading(false);\r\n      setFileList([]);\r\n      setPreview(null);\r\n    }\r\n  };\r\n\r\n  const handleFileChange = ({ fileList }) => {\r\n    setFileList(fileList.slice(-1));\r\n\r\n    if (fileList.length > 0) {\r\n      const file = fileList[0].originFileObj;\r\n      setPreview(URL.createObjectURL(file));\r\n    } else {\r\n      setPreview(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center px-6\">\r\n      {/* Breadcrumb Navigation */}\r\n      <Breadcrumb className=\"self-start mb-4 text-gray-600\">\r\n        <Breadcrumb.Item>\r\n          <Link to=\"/dashboard\">Dashboard</Link>\r\n        </Breadcrumb.Item>\r\n        <Breadcrumb.Item>\r\n          <Link to=\"/slideShow-table\">SlideShow Table</Link>\r\n        </Breadcrumb.Item>\r\n        <Breadcrumb.Item>Upload Image</Breadcrumb.Item>\r\n      </Breadcrumb>\r\n\r\n      <Card className=\"w-full max-w-4lg shadow-lg rounded-xl\">\r\n        <h2 className=\"text-xl font-semibold text-left mb-4\">Upload Image</h2>\r\n        <Form layout=\"vertical\" onFinish={onFinish} className=\"w-full lg:w-1/2\">\r\n          <Form.Item\r\n            label=\"Image Title\"\r\n            name=\"title\"\r\n            rules={[{ required: true, message: \"Please enter image title\" }]}\r\n          >\r\n            <Input placeholder=\"Enter image title\" />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label=\"Alt Name\"\r\n            name=\"altText\"\r\n            rules={[{ required: true, message: \"Please enter alt text\" }]}\r\n          >\r\n            <Input placeholder=\"Enter alt text\" />\r\n          </Form.Item>\r\n\r\n          <Form.Item label=\"Upload Image\">\r\n            <Upload\r\n              fileList={fileList}\r\n              beforeUpload={() => false}\r\n              maxCount={1}\r\n              onChange={handleFileChange}\r\n              accept=\"image/*\"\r\n            >\r\n              <Button icon={<UploadOutlined />}>Select Image</Button>\r\n            </Upload>\r\n          </Form.Item>\r\n\r\n          {preview && (\r\n            <div className=\"flex justify-center mb-4\">\r\n              <img\r\n                src={preview}\r\n                alt=\"Preview\"\r\n                className=\"w-32 h-32 object-cover rounded-lg border border-gray-300\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          <Form.Item>\r\n            <Button type=\"primary\" htmlType=\"submit\" block loading={loading} className=\"mt-4\">\r\n              {loading ? \"Uploading...\" : \"Upload Image\"}\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageUploadForm;\r\n"],"names":["ImageUploadForm","loading","setLoading","useState","fileList","setFileList","preview","setPreview","navigate","useNavigate","jsxs","className","children","Breadcrumb","jsx","Item","Link","to","Card","Form","layout","onFinish","async","values","length","message","error","formData","FormData","append","originFileObj","altText","title","axios","post","headers","success","label","name","rules","required","Input","placeholder","Upload","beforeUpload","maxCount","onChange","slice","file","URL","createObjectURL","accept","Button","icon","UploadOutlined","src","alt","type","htmlType","block"],"mappings":"iiCAMA,MAAMA,EAAkB,KACtB,MAAOC,EAASC,GAAcC,EAAAA,UAAS,IAChCC,EAAUC,GAAeF,EAAAA,SAAS,KAClCG,EAASC,GAAcJ,EAAAA,SAAS,MACnCK,EAAWC,IA0Cb,OAAAC,EAAAA,KAAC,MAAI,CAAAC,UAAU,kCAEbC,SAAA,CAACF,EAAAA,KAAAG,EAAA,CAAWF,UAAU,gCACpBC,SAAA,CAACE,EAAAA,IAAAD,EAAWE,KAAX,CACCH,SAAAE,EAAAA,IAACE,GAAKC,GAAG,aAAaL,yBAExBE,EAAAA,IAACD,EAAWE,KAAX,CACCH,eAACI,EAAK,CAAAC,GAAG,mBAAmBL,SAAA,sBAE7BE,EAAAA,IAAAD,EAAWE,KAAX,CAAgBH,SAAY,oBAG/BF,EAAAA,KAACQ,EAAK,CAAAP,UAAU,wCACdC,SAAA,CAACE,EAAAA,IAAA,KAAA,CAAGH,UAAU,uCAAuCC,SAAY,wBAChEO,EAAK,CAAAC,OAAO,WAAWC,SAvDbC,MAAOC,IAClB,GAAoB,IAApBnB,EAASoB,OAEX,YADAC,EAAQC,MAAM,2BAIV,MAAAC,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAASzB,EAAS,GAAG0B,eAC5BH,EAAAE,OAAO,UAAWN,EAAOQ,SACzBJ,EAAAE,OAAO,QAASN,EAAOS,OAEhC9B,GAAW,GACP,UACqB+B,EAAMC,KAAK,2BAA4BP,EAAU,CACtEQ,QAAS,CAAE,eAAgB,yBAE7BV,EAAQW,QAAQ,gCAChB5B,EAAS,0BAEFkB,GACPD,EAAQC,MAAM,0BACK,CACnB,QACAxB,GAAW,GACXG,EAAY,IACZE,EAAW,KAAI,GA8B+BI,UAAU,kBACpDC,SAAA,CAAAE,EAAAA,IAACK,EAAKJ,KAAL,CACCsB,MAAM,cACNC,KAAK,QACLC,MAAO,CAAC,CAAEC,UAAU,EAAMf,QAAS,6BAEnCb,SAAAE,EAAAA,IAAC2B,EAAM,CAAAC,YAAY,wBAGrB5B,EAAAA,IAACK,EAAKJ,KAAL,CACCsB,MAAM,WACNC,KAAK,UACLC,MAAO,CAAC,CAAEC,UAAU,EAAMf,QAAS,0BAEnCb,SAAAE,EAAAA,IAAC2B,EAAM,CAAAC,YAAY,qBAGpB5B,EAAAA,IAAAK,EAAKJ,KAAL,CAAUsB,MAAM,eACfzB,SAAAE,EAAAA,IAAC6B,EAAA,CACCvC,WACAwC,aAAc,KAAM,EACpBC,SAAU,EACVC,SAhDa,EAAG1C,SAAAA,MAGtBA,GAFQA,EAAAA,EAAS2C,OAAM,IAEvB3C,EAASoB,OAAS,EAAG,CACjB,MAAAwB,EAAO5C,EAAS,GAAG0B,cACdvB,EAAA0C,IAAIC,gBAAgBF,GAAK,MAEpCzC,EAAW,KAAI,EA0CP4C,OAAO,UAEPvC,eAACwC,EAAO,CAAAC,KAAOvC,MAAAwC,EAAA,CAAe,GAAI1C,SAAY,qBAIjDN,GACCQ,EAAAA,IAAC,MAAI,CAAAH,UAAU,2BACbC,SAAAE,EAAAA,IAAC,MAAA,CACCyC,IAAKjD,EACLkD,IAAI,UACJ7C,UAAU,qEAKfQ,EAAKJ,KAAL,CACCH,SAACE,EAAAA,IAAAsC,EAAA,CAAOK,KAAK,UAAUC,SAAS,SAASC,OAAK,EAAC1D,UAAkBU,UAAU,OACxEC,SAAUX,EAAA,eAAiB,2BAKtC"}