import{e,C as t,d as r,f as s,U as i,B as o,s as a}from"./antd-CxduzDaN.js";import{r as l,j as m}from"./react-BfBsRgn0.js";import{a as c}from"./axios-BoylL8Pu.js";import{P as p}from"./ant-design-icons-DoIDTG1a.js";import{a as n,L as d}from"./react-router-DUJjWq5j.js";import"./@ant-design-DttPmOfw.js";import"./rc-util-CQtTJgfq.js";import"./@babel-BfC2A0EA.js";import"./react-is-BaRe0U6l.js";import"./react-dom-DwrudmHt.js";import"./classnames-C3ovBj6j.js";import"./scheduler-BFk34ZWe.js";import"./@emotion-Czw0TW3x.js";import"./stylis-IVPcsLSI.js";import"./@ctrl-B2IeE8ye.js";import"./rc-motion-Cs3GDHoo.js";import"./@rc-component-BB24pTyE.js";import"./rc-resize-observer-DUJXZwxn.js";import"./resize-observer-polyfill-CzGuHLZU.js";import"./rc-dialog-BGKNmDMe.js";import"./rc-table-CybQOAzy.js";import"./rc-virtual-list-P8JqKX09.js";import"./rc-tree--ithDbGw.js";import"./rc-checkbox-bMXfL26q.js";import"./rc-pagination-CiqGXVR2.js";import"./rc-select-sVu4PbUz.js";import"./rc-overflow-73VxJI7O.js";import"./throttle-debounce-w9OM8Bxz.js";import"./rc-input-ByOKN0-r.js";import"./rc-tooltip-C1heEwdg.js";import"./rc-notification-D3ebMW8F.js";import"./rc-image-BIQJV_M3.js";import"./rc-textarea-DLkAnH0O.js";import"./copy-to-clipboard-Bgp_G7Oq.js";import"./toggle-selection-DUsDmMsR.js";import"./rc-upload-ClZE7meS.js";import"./rc-progress-bbq4uvV3.js";import"./rc-dropdown-C238bXH-.js";import"./rc-menu-CzbBjnhu.js";import"./rc-field-form-DaYAwFJ8.js";import"./scroll-into-view-if-needed-cNB78-hM.js";import"./compute-scroll-into-view-CJmtT4lq.js";import"./rc-picker-B5UDvhgZ.js";import"./rc-tabs-DG0zBL9k.js";import"./cookie-BUTH-fPQ.js";const j=()=>{const[j,x]=l.useState(!1),[h,g]=l.useState([]),[u,b]=l.useState(null),f=n();return m.jsxs("div",{className:"flex flex-col items-center px-6",children:[m.jsxs(e,{className:"self-start mb-4 text-gray-600",children:[m.jsx(e.Item,{children:m.jsx(d,{to:"/dashboard",children:"Dashboard"})}),m.jsx(e.Item,{children:m.jsx(d,{to:"/slideShow-table",children:"SlideShow Table"})}),m.jsx(e.Item,{children:"Upload Image"})]}),m.jsxs(t,{className:"w-full max-w-4lg shadow-lg rounded-xl",children:[m.jsx("h2",{className:"text-xl font-semibold text-left mb-4",children:"Upload Image"}),m.jsxs(r,{layout:"vertical",onFinish:async e=>{if(0===h.length)return void a.error("Please upload an image.");const t=new FormData;t.append("image",h[0].originFileObj),t.append("altText",e.altText),t.append("title",e.title),x(!0);try{await c.post("/api/slideShow/addimages",t,{headers:{"Content-Type":"multipart/form-data"}});a.success("Image uploaded successfully!"),f("/slideShow-table")}catch(r){a.error("Failed to upload image.")}finally{x(!1),g([]),b(null)}},className:"w-full lg:w-1/2",children:[m.jsx(r.Item,{label:"Image Title",name:"title",rules:[{required:!0,message:"Please enter image title"}],children:m.jsx(s,{placeholder:"Enter image title"})}),m.jsx(r.Item,{label:"Alt Name",name:"altText",rules:[{required:!0,message:"Please enter alt text"}],children:m.jsx(s,{placeholder:"Enter alt text"})}),m.jsx(r.Item,{label:"Upload Image",children:m.jsx(i,{fileList:h,beforeUpload:()=>!1,maxCount:1,onChange:({fileList:e})=>{if(g(e.slice(-1)),e.length>0){const t=e[0].originFileObj;b(URL.createObjectURL(t))}else b(null)},accept:"image/*",children:m.jsx(o,{icon:m.jsx(p,{}),children:"Select Image"})})}),u&&m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx("img",{src:u,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-300"})}),m.jsx(r.Item,{children:m.jsx(o,{type:"primary",htmlType:"submit",block:!0,loading:j,className:"mt-4",children:j?"Uploading...":"Upload Image"})})]})]})]})};export{j as default};
