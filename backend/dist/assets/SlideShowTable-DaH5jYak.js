import{j as e,B as s,D as a,l as i,m as r}from"./main-BcUd3ASm.js";import{r as t,d as l}from"./vendor-router-CaZtIe2_.js";import{a as d}from"./vendor-utils-CfKmydC0.js";import{T as c,a as n,b as o,c as m,d as h,e as j}from"./table-DnBX1p3B.js";import{C as x}from"./card-DKPCnjx_.js";import{B as f,b as p,d as u}from"./breadcrumb-DEvmmGzh.js";import{B as w}from"./react-toastify.esm-CrOn1nFw.js";import{P as g}from"./plus-DdATqG_B.js";import{P as v}from"./pencil-QP0ylATY.js";import{T as y}from"./trash-Ca8SLLCq.js";import"./vendor-react-DD_RYU77.js";import"./chevron-right-C95tp0e6.js";const b=()=>{const[b,N]=t.useState([]),[A,S]=t.useState(!0),C=l();t.useEffect((()=>{I()}),[]);const I=async()=>{S(!0);try{const e=await d.get("/api/slideShow/getAll");if(e.data&&Array.isArray(e.data))N(e.data);else{if(!e.data?.data||!Array.isArray(e.data.data))throw new Error("Invalid response format");N(e.data.data)}}catch(e){w({variant:"destructive",title:"Failed to fetch slideshow data."})}finally{S(!1)}};return e.jsxs("div",{className:"flex flex-col items-center min-h-screen px-6",children:[e.jsxs("div",{className:"w-full mb-4 flex justify-between items-center",children:[e.jsxs(f,{children:[e.jsx(p,{children:e.jsx(u,{onClick:()=>C("/dashboard"),children:"Dashboard"})}),e.jsx(p,{children:"Slideshow"})]}),e.jsxs(s,{onClick:()=>C("/slideShow-form"),children:[e.jsx(g,{className:"w-4 h-4 mr-2"})," Add Image"]})]}),e.jsxs(x,{className:"w-full max-w-7xl shadow-lg rounded-xl p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Slideshow Images"}),e.jsxs(c,{children:[e.jsx(n,{children:e.jsxs(o,{children:[e.jsx(m,{children:"Image"}),e.jsx(m,{children:"Title"}),e.jsx(m,{children:"Alt Name"}),e.jsx(m,{children:"Actions"})]})}),e.jsx(h,{children:A?e.jsx(o,{children:e.jsx(j,{colSpan:4,className:"text-center",children:"Loading..."})}):b.map((t=>e.jsxs(o,{children:[e.jsx(j,{children:t.image?e.jsx("img",{src:`/api/logo/download/${t.image}`,alt:"Slide",className:"w-20 h-12 rounded-lg shadow object-contain"}):"No Image"}),e.jsx(j,{children:t.title}),e.jsx(j,{children:t.altText}),e.jsx(j,{children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(s,{variant:"outline",size:"icon",onClick:()=>C(`/edit-image/${t._id}`),children:e.jsx(v,{className:"w-4 h-4"})}),e.jsxs(a,{children:[e.jsx(i,{asChild:!0,children:e.jsx(s,{variant:"destructive",size:"icon",children:e.jsx(y,{className:"w-4 h-4"})})}),e.jsxs(r,{children:[e.jsx("p",{children:"Are you sure you want to delete this image?"}),e.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[e.jsx(s,{variant:"outline",children:"Cancel"}),e.jsx(s,{variant:"destructive",onClick:()=>(async e=>{try{await d.delete(`/api/slideShow/delete?id=${e}`),w({title:"Image deleted successfully!"}),I()}catch(s){w({variant:"destructive",title:"Failed to delete image."})}})(t._id),children:"Yes, Delete"})]})]})]})]})})]},t._id)))})]})]})]})};export{b as default};
//# sourceMappingURL=SlideShowTable-DaH5jYak.js.map
