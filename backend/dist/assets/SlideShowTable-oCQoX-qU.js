import{s as e,e as t,B as s,C as r,F as i,I as o,c as a}from"./antd-CxduzDaN.js";import{r as l,j as c}from"./react-BfBsRgn0.js";import{a as m}from"./axios-BoylL8Pu.js";import{O as d,G as n,H as p}from"./ant-design-icons-DoIDTG1a.js";import{a as j}from"./react-router-DUJjWq5j.js";import"./@ant-design-DttPmOfw.js";import"./rc-util-CQtTJgfq.js";import"./@babel-BfC2A0EA.js";import"./react-is-BaRe0U6l.js";import"./react-dom-DwrudmHt.js";import"./classnames-C3ovBj6j.js";import"./scheduler-BFk34ZWe.js";import"./@emotion-Czw0TW3x.js";import"./stylis-IVPcsLSI.js";import"./@ctrl-B2IeE8ye.js";import"./rc-motion-Cs3GDHoo.js";import"./@rc-component-BB24pTyE.js";import"./rc-resize-observer-DUJXZwxn.js";import"./resize-observer-polyfill-CzGuHLZU.js";import"./rc-dialog-BGKNmDMe.js";import"./rc-table-CybQOAzy.js";import"./rc-virtual-list-P8JqKX09.js";import"./rc-tree--ithDbGw.js";import"./rc-checkbox-bMXfL26q.js";import"./rc-pagination-CiqGXVR2.js";import"./rc-select-sVu4PbUz.js";import"./rc-overflow-73VxJI7O.js";import"./throttle-debounce-w9OM8Bxz.js";import"./rc-input-ByOKN0-r.js";import"./rc-tooltip-C1heEwdg.js";import"./rc-notification-D3ebMW8F.js";import"./rc-image-BIQJV_M3.js";import"./rc-textarea-DLkAnH0O.js";import"./copy-to-clipboard-Bgp_G7Oq.js";import"./toggle-selection-DUsDmMsR.js";import"./rc-upload-ClZE7meS.js";import"./rc-progress-bbq4uvV3.js";import"./rc-dropdown-C238bXH-.js";import"./rc-menu-CzbBjnhu.js";import"./rc-field-form-DaYAwFJ8.js";import"./scroll-into-view-if-needed-cNB78-hM.js";import"./compute-scroll-into-view-CJmtT4lq.js";import"./rc-picker-B5UDvhgZ.js";import"./rc-tabs-DG0zBL9k.js";import"./cookie-BUTH-fPQ.js";const x=()=>{const[x,h]=l.useState([]),[f,g]=l.useState(!0),u=j();l.useEffect((()=>{y()}),[]);const y=async()=>{var t;g(!0);try{const e=await m.get("/api/slideShow/getAll");if(e.data&&Array.isArray(e.data))h(e.data);else{if(!(null==(t=e.data)?void 0:t.data)||!Array.isArray(e.data.data))throw new Error("Invalid response format");h(e.data.data)}}catch(s){e.error("Failed to fetch slideshow data.")}finally{g(!1)}},w=[{title:"Image",dataIndex:"image",key:"image",render:e=>e?c.jsx(o,{src:`/api/logo/download/${e}`,alt:"Slide",width:80,height:50,className:"rounded-lg shadow object-contain"}):c.jsx("span",{children:"No Image"})},{title:"Title",dataIndex:"title",key:"title"},{title:"Alt Name",dataIndex:"altText",key:"altText"},{title:"Actions",key:"actions",render:(t,r)=>c.jsxs("div",{className:"flex gap-3",children:[c.jsx(s,{type:"primary",icon:c.jsx(n,{}),onClick:()=>u(`/edit-image/${r._id}`)}),c.jsx(a,{title:"Are you sure you want to delete this image?",onConfirm:()=>(async t=>{try{await m.delete(`/api/slideShow/delete?id=${t}`),e.success("Image deleted successfully!"),y()}catch(s){e.error("Failed to delete image.")}})(r._id),okText:"Yes",cancelText:"No",children:c.jsx(s,{type:"danger",icon:c.jsx(p,{})})})]})}];return c.jsxs("div",{className:"flex flex-col items-center min-h-screen px-6",children:[c.jsxs("div",{className:"w-full  mb-4 flex justify-between items-center",children:[c.jsxs(t,{children:[c.jsx(t.Item,{onClick:()=>u("/dashboard"),children:"Dashboard"}),c.jsx(t.Item,{children:"Slideshow"})]}),c.jsx(s,{type:"primary",icon:c.jsx(d,{}),onClick:()=>u("/slideShow-form"),children:"Add Image"})]}),c.jsxs(r,{className:"w-full max-w-7xl shadow-lg rounded-xl ",children:[c.jsx("h2",{className:"text-xl font-semibold text-left mb-4",children:"Slideshow Images"}),c.jsx(i,{columns:w,dataSource:x,rowKey:"_id",loading:f,pagination:{pageSize:5}})]})]})};export{x as default};
