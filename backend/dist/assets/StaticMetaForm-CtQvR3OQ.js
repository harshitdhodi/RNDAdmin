import{j as e}from"./main-DeRxjK88.js";import{r as a,g as t,d as s,L as r,R as i}from"./vendor-router-Bu4EHm1B.js";import{a as l}from"./vendor-utils-BfOc9lHv.js";import{F as d}from"./index--6LMyILo.js";import{B as m}from"./Breadcrumb-Dmow3_cy.js";import{S as n}from"./index-j6PXCaBg.js";import{I as o}from"./index-BrOIVdwD.js";import{B as c}from"./index-lUiyPlMq.js";import{s as p}from"./index-lMP3hCbg.js";import"./vendor-react-CI5aWZjI.js";import"./toArray-DkI11MDQ.js";import"./index-DRGG9HZA.js";import"./CheckCircleFilled-DiSUBvU5.js";import"./ExclamationCircleFilled-DZysw_83.js";import"./dropdown-B7KEEEnN.js";import"./EllipsisOutlined-L4j7-ai9.js";import"./getAllowClear-exXUluB6.js";import"./CheckOutlined-3fI3nOal.js";import"./Input-BufppJmu.js";import"./EyeOutlined-B2vwqoE1.js";import"./TextArea-BEMUKMsu.js";import"./InfoCircleFilled-D8dKuFWy.js";const{Option:u}=n,j=()=>{const[j]=d.useForm(),[g,h]=a.useState([]),[x,y]=a.useState(!0),{id:f}=t(),b=s();a.useEffect((()=>{(async()=>{try{const e=await l.get("/api/menulist/get-menu");e.data&&Array.isArray(e.data.data)&&h(e.data.data)}catch(e){}finally{y(!1)}})()}),[]),a.useEffect((()=>{f&&l.get(`/api/meta/get-meta/${f}`).then((e=>{if(e.data&&e.data.success){const a=e.data.data;j.setFieldsValue({pageName:a.pageName,pageSlug:a.pageSlug,metaTitle:a.metaTitle,metaDescription:a.metaDescription,metaKeyword:a.metaKeyword})}})).catch((e=>{}))}),[f,j]);return e.jsxs("div",{children:[e.jsxs(m,{style:{marginBottom:20},children:[e.jsx(m.Item,{children:e.jsx(r,{to:"/dashboard",children:"Dashboard"})}),e.jsx(m.Item,{children:e.jsx(r,{to:"/meta-table",children:"Meta List"})}),e.jsx(m.Item,{children:f?"Edit Meta":"Add Meta"})]}),e.jsxs(d,{form:j,layout:"vertical",onFinish:async e=>{try{f?(await l.put(`/api/meta/update-meta/${f}`,e),p.success("Meta data updated successfully!")):(await l.post("/api/meta/add-meta",e),p.success("Meta data added successfully!"),j.resetFields()),b("/meta-table")}catch(a){p.error("Failed to save meta data.")}},children:[e.jsx(d.Item,{name:"pageName",label:"Page Name",rules:[{required:!0,message:"Please select a page"}],children:e.jsxs(n,{placeholder:"Select a page",loading:x,onChange:e=>{const a=e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");j.setFieldsValue({pageSlug:a})},children:[e.jsx(u,{value:"Static Page",children:"Static Page"}),g.map((a=>e.jsxs(i.Fragment,{children:[e.jsx(u,{value:a.parent.name,style:{fontWeight:"bold"},children:a.parent.name}),a.children.map((a=>e.jsxs(i.Fragment,{children:[e.jsxs(u,{value:a.name,style:{paddingLeft:20},children:["├── ",a.name]}),a.subChildren.map((a=>e.jsxs(u,{value:a.name,style:{paddingLeft:40},children:["├──── ",a.name]},a._id)))]},a._id)))]},a._id)))]})}),e.jsx(d.Item,{name:"pageSlug",label:"Page Slug",rules:[{required:!0,message:"Slug is required"}],children:e.jsx(o,{placeholder:"Auto-generated slug"})}),e.jsx(d.Item,{name:"metaTitle",label:"Meta Title",rules:[{required:!0,message:"Please enter meta title"}],children:e.jsx(o,{placeholder:"Enter Meta Title"})}),e.jsx(d.Item,{name:"metaDescription",label:"Meta Description",rules:[{required:!0,message:"Please enter meta description"}],children:e.jsx(o.TextArea,{placeholder:"Enter Meta Description",rows:4})}),e.jsx(d.Item,{name:"metaKeyword",label:"Meta Keywords",rules:[{required:!0,message:"Please enter meta keywords"}],children:e.jsx(o,{placeholder:"Enter Meta Keywords"})}),e.jsx(d.Item,{children:e.jsx(c,{type:"primary",htmlType:"submit",children:f?"Update Meta":"Add Meta"})})]})]})};export{j as default};
//# sourceMappingURL=StaticMetaForm-CtQvR3OQ.js.map
