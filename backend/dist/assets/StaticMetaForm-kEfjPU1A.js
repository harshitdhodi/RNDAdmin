import{j as e,I as a,B as s}from"./main-BQqr2_19.js";import{r,g as t,d,L as i,R as l}from"./vendor-router-DoRotgOs.js";import{a as n}from"./vendor-utils-CfKmydC0.js";import{T as c}from"./textarea-tez6YR4q.js";import{S as o,a as m,b as j,c as h,d as x}from"./select-DFtFguEc.js";import{F as u,a as p,b as g,c as f,e as b,d as y}from"./form-8DYzE22W.js";import{B as M,b as S,d as v}from"./breadcrumb-BHS-7goF.js";import{b as w}from"./index.esm-CSDyVtrl.js";import{B as P}from"./react-toastify.esm-BNXCN5Br.js";import"./vendor-react-DD_RYU77.js";import"./index-BYajCL7Y.js";import"./index-LwoRh43N.js";import"./check-C21vIO_I.js";import"./chevron-up-CiFYhtWl.js";import"./chevron-right-DHWU52ll.js";const q=()=>{const[q,E]=r.useState([]),[A,D]=r.useState(!0),{id:F}=t(),K=d(),L=w();r.useEffect((()=>{(async()=>{try{const e=await n.get("/api/menulist/get-menu");e.data&&Array.isArray(e.data.data)&&E(e.data.data)}catch(e){}finally{D(!1)}})()}),[]),r.useEffect((()=>{F&&n.get(`/api/meta/get-meta/${F}`).then((e=>{e.data?.success&&L.reset(e.data.data)})).catch((e=>{}))}),[F,L]);return e.jsxs("div",{children:[e.jsxs(M,{children:[e.jsx(S,{children:e.jsx(v,{as:i,to:"/dashboard",children:"Dashboard"})}),e.jsx(S,{children:e.jsx(v,{as:i,to:"/meta-table",children:"Meta List"})}),e.jsx(S,{children:F?"Edit Meta":"Add Meta"})]}),e.jsxs(u,{...L,onSubmit:L.handleSubmit((async e=>{try{F?(await n.put(`/api/meta/update-meta/${F}`,e),P.success("Meta data updated successfully!")):(await n.post("/api/meta/add-meta",e),P.success("Meta data added successfully!"),L.reset()),K("/meta-table")}catch(a){P.error("Failed to save meta data.")}})),children:[e.jsx(p,{control:L.control,name:"pageName",rules:{required:"Please select a page"},children:e.jsxs(g,{children:[e.jsx(f,{children:"Page Name"}),e.jsxs(o,{onValueChange:e=>{L.setValue("pageSlug",e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""))},disabled:A,children:[e.jsx(m,{children:e.jsx(j,{placeholder:"Select a page"})}),e.jsxs(h,{children:[e.jsx(x,{value:"Static Page",children:"Static Page"}),q.map((a=>e.jsxs(l.Fragment,{children:[e.jsx(x,{value:a.parent.name,children:a.parent.name}),a.children.map((a=>e.jsxs(l.Fragment,{children:[e.jsxs(x,{value:a.name,children:[" ├── ",a.name]}),a.subChildren.map((a=>e.jsxs(x,{value:a.name,children:[" ├──── ",a.name]},a._id)))]},a._id)))]},a._id)))]})]}),e.jsx(b,{})]})}),e.jsx(p,{control:L.control,name:"pageSlug",rules:{required:"Slug is required"},children:e.jsxs(g,{children:[e.jsx(f,{children:"Page Slug"}),e.jsx(y,{children:e.jsx(a,{placeholder:"Auto-generated slug"})}),e.jsx(b,{})]})}),e.jsx(p,{control:L.control,name:"metaTitle",rules:{required:"Please enter meta title"},children:e.jsxs(g,{children:[e.jsx(f,{children:"Meta Title"}),e.jsx(y,{children:e.jsx(a,{placeholder:"Enter Meta Title"})}),e.jsx(b,{})]})}),e.jsx(p,{control:L.control,name:"metaDescription",rules:{required:"Please enter meta description"},children:e.jsxs(g,{children:[e.jsx(f,{children:"Meta Description"}),e.jsx(y,{children:e.jsx(c,{placeholder:"Enter Meta Description",rows:4})}),e.jsx(b,{})]})}),e.jsx(p,{control:L.control,name:"metaKeyword",rules:{required:"Please enter meta keywords"},children:e.jsxs(g,{children:[e.jsx(f,{children:"Meta Keywords"}),e.jsx(y,{children:e.jsx(a,{placeholder:"Enter Meta Keywords"})}),e.jsx(b,{})]})}),e.jsx(s,{type:"submit",children:F?"Update Meta":"Add Meta"})]})]})};export{q as default};
//# sourceMappingURL=StaticMetaForm-kEfjPU1A.js.map
