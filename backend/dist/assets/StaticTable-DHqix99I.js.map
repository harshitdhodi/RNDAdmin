{"version":3,"file":"StaticTable-DHqix99I.js","sources":["../../src/websiteBackend/staticMetaKeyword/StaticTable.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Edit, Trash2 } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport {\r\n  Table,\r\n  TableHeader,\r\n  TableRow,\r\n  TableHead,\r\n  TableBody,\r\n  TableCell,\r\n} from \"@/components/ui/table\";\r\nimport {\r\n  Breadcrumb,\r\n  BreadcrumbItem,\r\n  BreadcrumbSeparator,\r\n} from \"@/components/ui/breadcrumb\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogTrigger,\r\n  AlertDialogContent,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n} from \"@/components/ui/alert-dialog\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\"; // Optional for loading\r\n\r\nconst MetaList = () => {\r\n  const [metaList, setMetaList] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchMeta = async () => {\r\n      try {\r\n        const response = await axios.get(\"/api/meta/get-meta\");\r\n        if (response.data && Array.isArray(response.data.data)) {\r\n          setMetaList(response.data.data);\r\n        } else {\r\n          console.error(\"Unexpected API response:\", response.data);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching meta data:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchMeta();\r\n  }, []);\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await axios.delete(`/api/meta/delete-meta/${id}`);\r\n      toast.success(\"Meta data deleted successfully!\");\r\n      setMetaList((prev) => prev.filter((item) => item._id !== id));\r\n    } catch (error) {\r\n      toast.error(\"Failed to delete meta data.\");\r\n      console.error(\"Delete error:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-6\">\r\n      <Breadcrumb className=\"mb-4\">\r\n        <BreadcrumbItem>Home</BreadcrumbItem>\r\n        <BreadcrumbSeparator />\r\n        <BreadcrumbItem>Meta Data</BreadcrumbItem>\r\n      </Breadcrumb>\r\n\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h2 className=\"text-xl font-semibold\">Static Page Meta</h2>\r\n        <Button onClick={() => navigate(\"/meta-form\")}>Add Meta</Button>\r\n      </div>\r\n\r\n      <Table>\r\n        <TableHeader>\r\n          <TableRow>\r\n            <TableHead>Page Name</TableHead>\r\n            <TableHead>Meta Title</TableHead>\r\n            <TableHead>Meta Description</TableHead>\r\n            <TableHead>Meta Keywords</TableHead>\r\n            <TableHead className=\"text-right\">Actions</TableHead>\r\n          </TableRow>\r\n        </TableHeader>\r\n        <TableBody>\r\n          {loading\r\n            ? Array.from({ length: 5 }).map((_, index) => (\r\n                <TableRow key={index}>\r\n                  <TableCell colSpan={5}>\r\n                    <Skeleton className=\"h-6 w-full\" />\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))\r\n            : metaList.length > 0\r\n            ? metaList.map((meta) => (\r\n                <TableRow key={meta._id}>\r\n                  <TableCell>{meta.pageName}</TableCell>\r\n                  <TableCell>{meta.metaTitle}</TableCell>\r\n                  <TableCell>{meta.metaDescription}</TableCell>\r\n                  <TableCell>{meta.metaKeyword}</TableCell>\r\n                  <TableCell className=\"text-right\">\r\n                    <div className=\"flex gap-x-2 justify-end\">\r\n                      <Button\r\n                        size=\"sm\"\r\n                        variant=\"outline\"\r\n                        onClick={() => navigate(`/edit-meta-form/${meta._id}`)}\r\n                      >\r\n                        <Edit className=\"w-4 h-4\" />\r\n                      </Button>\r\n\r\n                      <AlertDialog>\r\n                        <AlertDialogTrigger asChild>\r\n                          <Button size=\"sm\" variant=\"destructive\">\r\n                            <Trash2 className=\"w-4 h-4\" />\r\n                          </Button>\r\n                        </AlertDialogTrigger>\r\n                        <AlertDialogContent>\r\n                          <AlertDialogHeader>\r\n                            <AlertDialogTitle>\r\n                              Are you sure you want to delete this meta data?\r\n                            </AlertDialogTitle>\r\n                            <AlertDialogDescription>\r\n                              This action cannot be undone.\r\n                            </AlertDialogDescription>\r\n                          </AlertDialogHeader>\r\n                          <AlertDialogFooter>\r\n                            <Button variant=\"outline\">Cancel</Button>\r\n                            <Button\r\n                              variant=\"destructive\"\r\n                              onClick={() => handleDelete(meta._id)}\r\n                            >\r\n                              Confirm\r\n                            </Button>\r\n                          </AlertDialogFooter>\r\n                        </AlertDialogContent>\r\n                      </AlertDialog>\r\n                    </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))\r\n            : (\r\n              <TableRow>\r\n                <TableCell colSpan={5} className=\"text-center py-4\">\r\n                  No meta data found\r\n                </TableCell>\r\n              </TableRow>\r\n            )}\r\n        </TableBody>\r\n      </Table>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default MetaList;\r\n"],"names":["MetaList","metaList","setMetaList","useState","loading","setLoading","navigate","useNavigate","useEffect","async","response","axios","get","data","Array","isArray","error","fetchMeta","jsxs","Card","className","children","Breadcrumb","jsx","BreadcrumbItem","BreadcrumbSeparator","Button","onClick","Table","TableHeader","TableRow","TableHead","TableBody","from","length","map","_","index","TableCell","colSpan","Skeleton","meta","pageName","metaTitle","metaDescription","metaKeyword","size","variant","_id","Edit","AlertDialog","AlertDialogTrigger","asChild","Trash2","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","id","delete","toast","success","prev","filter","item","handleDelete"],"mappings":"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"}