import{d as t,e as r,B as s,s as o}from"./antd-CxduzDaN.js";import{r as i,j as e}from"./react-BfBsRgn0.js";import{J as a}from"./jodit-react-fql43Xjk.js";import{a as m}from"./axios-BoylL8Pu.js";import{a as n,L as c}from"./react-router-DUJjWq5j.js";import"./@ant-design-DttPmOfw.js";import"./rc-util-CQtTJgfq.js";import"./@babel-BfC2A0EA.js";import"./react-is-BaRe0U6l.js";import"./react-dom-DwrudmHt.js";import"./classnames-C3ovBj6j.js";import"./scheduler-BFk34ZWe.js";import"./@emotion-Czw0TW3x.js";import"./stylis-IVPcsLSI.js";import"./@ctrl-B2IeE8ye.js";import"./rc-motion-Cs3GDHoo.js";import"./@rc-component-BB24pTyE.js";import"./rc-resize-observer-DUJXZwxn.js";import"./resize-observer-polyfill-CzGuHLZU.js";import"./ant-design-icons-DoIDTG1a.js";import"./rc-dialog-BGKNmDMe.js";import"./rc-table-CybQOAzy.js";import"./rc-virtual-list-P8JqKX09.js";import"./rc-tree--ithDbGw.js";import"./rc-checkbox-bMXfL26q.js";import"./rc-pagination-CiqGXVR2.js";import"./rc-select-sVu4PbUz.js";import"./rc-overflow-73VxJI7O.js";import"./throttle-debounce-w9OM8Bxz.js";import"./rc-input-ByOKN0-r.js";import"./rc-tooltip-C1heEwdg.js";import"./rc-notification-D3ebMW8F.js";import"./rc-image-BIQJV_M3.js";import"./rc-textarea-DLkAnH0O.js";import"./copy-to-clipboard-Bgp_G7Oq.js";import"./toggle-selection-DUsDmMsR.js";import"./rc-upload-ClZE7meS.js";import"./rc-progress-bbq4uvV3.js";import"./rc-dropdown-C238bXH-.js";import"./rc-menu-CzbBjnhu.js";import"./rc-field-form-DaYAwFJ8.js";import"./scroll-into-view-if-needed-cNB78-hM.js";import"./compute-scroll-into-view-CJmtT4lq.js";import"./rc-picker-B5UDvhgZ.js";import"./rc-tabs-DG0zBL9k.js";import"./cookie-BUTH-fPQ.js";const p=()=>{const p=n(),[d]=t.useForm(),[l,j]=i.useState(""),[u,h]=i.useState(!0),[f,x]=i.useState(!1),[y,g]=i.useState(null);i.useEffect((()=>{(async()=>{try{const t=await m.get("/api/terms");if(t.data.length>0){const r=t.data[0];j(r.termsCondition),g(r._id),d.setFieldsValue({termsCondition:r.termsCondition}),x(!0)}}catch(t){o.error("Failed to fetch terms and conditions data")}finally{h(!1)}})()}),[d]);return u?e.jsx("p",{children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsxs(r,{style:{marginBottom:"16px"},children:[e.jsx(r.Item,{children:e.jsx(c,{to:"/dashboard",children:"Dashboard"})}),e.jsx(r.Item,{children:"Terms and Conditions Form"})]}),e.jsxs(t,{form:d,layout:"vertical",onFinish:async()=>{try{f?(await m.put(`/api/terms/${y}`,{termsCondition:l}),o.success("Terms and conditions data updated successfully")):(await m.post("/api/terms/add",{termsCondition:l}),o.success("Terms and conditions data created successfully")),p("/termscondition")}catch(t){o.error("Failed to save terms and conditions data")}},children:[e.jsx(t.Item,{name:"termsCondition",label:"Terms and Conditions",rules:[{required:!0,message:"Please enter the terms and conditions"}],children:e.jsx(a,{value:l,onChange:t=>j(t)})}),e.jsx(t.Item,{children:e.jsx(s,{type:"primary",htmlType:"submit",children:"Save"})})]})]})};export{p as default};
