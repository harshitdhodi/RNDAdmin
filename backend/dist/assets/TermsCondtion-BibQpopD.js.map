{"version":3,"file":"TermsCondtion-BibQpopD.js","sources":["../../src/websiteBackend/privacy/TermsCondtion.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport axios from 'axios';\r\nimport { Breadcrumb } from '@/components/ui/breadcrumb';\r\nimport { Button } from '@/components/ui/button';\r\nimport { useToast } from 'react-toastify';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\n\r\nconst TermsConditionForm = () => {\r\n  const navigate = useNavigate();\r\n;\r\n  const [termsCondition, setTermsCondition] = useState('');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isExistingData, setIsExistingData] = useState(false);\r\n  const [termsConditionId, setTermsConditionId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchTermsConditionData = async () => {\r\n      try {\r\n        const response = await axios.get('/api/terms');\r\n        if (response.data.length > 0) {\r\n          const termsConditionData = response.data[0];\r\n          setTermsCondition(termsConditionData.termsCondition);\r\n          setTermsConditionId(termsConditionData._id);\r\n          setIsExistingData(true);\r\n        }\r\n      } catch (error) {\r\n        toast({ title: 'Error', description: 'Failed to fetch terms and conditions data', variant: 'destructive' });\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchTermsConditionData();\r\n  }, [toast]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (isExistingData) {\r\n        await axios.put(`/api/terms/${termsConditionId}`, { termsCondition });\r\n        toast({ title: 'Success', description: 'Terms and conditions updated successfully' });\r\n      } else {\r\n        await axios.post('/api/terms/add', { termsCondition });\r\n        toast({ title: 'Success', description: 'Terms and conditions created successfully' });\r\n      }\r\n      navigate('/termscondition');\r\n    } catch (error) {\r\n      toast({ title: 'Error', description: 'Failed to save terms and conditions data', variant: 'destructive' });\r\n    }\r\n  };\r\n\r\n  if (isLoading) return <p className=\"text-center text-gray-500\">Loading...</p>;\r\n\r\n  return (\r\n    <>\r\n      <Breadcrumb>\r\n        <Link to=\"/dashboard\">Dashboard</Link>\r\n        <span> / Terms and Conditions Form</span>\r\n      </Breadcrumb>\r\n      <Card className=\"max-w-3xl mx-auto mt-6\">\r\n        <CardHeader>\r\n          <CardTitle>Terms and Conditions</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            <ReactQuill theme=\"snow\" value={termsCondition} onChange={setTermsCondition} className=\"h-48\" />\r\n            <Button type=\"submit\" className=\"w-full\">Save</Button>\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TermsConditionForm;"],"names":["TermsConditionForm","navigate","useNavigate","termsCondition","setTermsCondition","useState","isLoading","setIsLoading","isExistingData","setIsExistingData","termsConditionId","setTermsConditionId","useEffect","async","response","axios","get","data","length","termsConditionData","_id","error","toast","title","description","variant","fetchTermsConditionData","jsx","className","children","jsxs","Fragment","Breadcrumb","Link","to","Card","CardHeader","CardTitle","CardContent","onSubmit","e","preventDefault","put","post","ReactQuill","theme","value","onChange","Button","type"],"mappings":"2dAUA,MAAMA,EAAqB,KACzB,MAAMC,EAAWC,KAEVC,EAAgBC,GAAqBC,EAAAA,SAAS,KAC9CC,EAAWC,GAAgBF,EAAAA,UAAS,IACpCG,EAAgBC,GAAqBJ,EAAAA,UAAS,IAC9CK,EAAkBC,GAAuBN,EAAAA,SAAS,MAEzDO,EAAAA,WAAU,KACwBC,WAC1B,IACF,MAAMC,QAAiBC,EAAMC,IAAI,cAC7B,GAAAF,EAASG,KAAKC,OAAS,EAAG,CACtB,MAAAC,EAAqBL,EAASG,KAAK,GACzCb,EAAkBe,EAAmBhB,gBACrCQ,EAAoBQ,EAAmBC,KACvCX,GAAkB,EAAI,QAEjBY,GACPC,MAAM,CAAEC,MAAO,QAASC,YAAa,4CAA6CC,QAAS,eAAe,CAC1G,QACAlB,GAAa,EAAK,GAIEmB,EAAA,GACvB,CAACJ,QAkBJ,OAAIhB,EAAkBqB,EAAAA,IAAC,IAAE,CAAAC,UAAU,4BAA4BC,SAAU,eAIrEC,EAAAA,KAAAC,WAAA,CAAAF,SAAA,CAAAC,OAACE,EACC,CAAAH,SAAA,CAACF,EAAAA,IAAAM,EAAA,CAAKC,GAAG,aAAaL,SAAS,cAC/BF,EAAAA,IAAC,QAAKE,SAA4B,oCAEpCC,EAAAA,KAACK,EAAK,CAAAP,UAAU,yBACdC,SAAA,CAAAF,MAACS,EACC,CAAAP,SAAAF,EAAAA,IAACU,EAAU,CAAAR,SAAA,iCAEZS,EACC,CAAAT,SAAAC,OAAC,QAAKS,SA7BO1B,MAAO2B,IAC1BA,EAAEC,iBACE,IACEjC,SACIO,EAAM2B,IAAI,cAAchC,IAAoB,CAAEP,mBACpDmB,MAAM,CAAEC,MAAO,UAAWC,YAAa,sDAEjCT,EAAM4B,KAAK,iBAAkB,CAAExC,mBACrCmB,MAAM,CAAEC,MAAO,UAAWC,YAAa,+CAEzCvB,EAAS,yBACFoB,GACPC,MAAM,CAAEC,MAAO,QAASC,YAAa,2CAA4CC,QAAS,eAAe,GAiBvEG,UAAU,YACtCC,SAAA,CAACF,EAAAA,IAAAiB,EAAA,CAAWC,MAAM,OAAOC,MAAO3C,EAAgB4C,SAAU3C,EAAmBwB,UAAU,eACtFoB,EAAO,CAAAC,KAAK,SAASrB,UAAU,SAASC,SAAI,mBAIrD"}