import{j as t,b as m}from"./main-CuiBl65R-1744447280152.js";import{f as y,c as s,L as F}from"./vendor-C9iLKeEQ-1744447280152.js";import{J as T}from"./jodit-react-CS_-vL61-1744447280152.js";import{F as e}from"./index-yBgiZpA_-1744447280152.js";import{B as c}from"./Breadcrumb-BRO2b-CC-1744447280152.js";import{B as I}from"./index-BASe7pQd-1744447280152.js";import{s as i}from"./index-DiO0HVuh-1744447280152.js";import"./toArray-Bbgf03cS-1744447280152.js";import"./CheckCircleFilled-BXipySGT-1744447280152.js";import"./ExclamationCircleFilled-CxUyat0W-1744447280152.js";import"./dropdown-D1dGfSyU-1744447280152.js";import"./EllipsisOutlined-DlFZuC_4-1744447280152.js";import"./InfoCircleFilled-D0gqUfmi-1744447280152.js";const P=()=>{const u=y(),[o]=e.useForm(),[r,l]=s.useState(""),[p,h]=s.useState(!0),[f,x]=s.useState(!1),[C,g]=s.useState(null);s.useEffect(()=>{(async()=>{try{const n=await m.get("/api/terms");if(n.data.length>0){const d=n.data[0];l(d.termsCondition),g(d._id),o.setFieldsValue({termsCondition:d.termsCondition}),x(!0)}}catch{i.error("Failed to fetch terms and conditions data")}finally{h(!1)}})()},[o]);const j=async()=>{try{f?(await m.put(`/api/terms/${C}`,{termsCondition:r}),i.success("Terms and conditions data updated successfully")):(await m.post("/api/terms/add",{termsCondition:r}),i.success("Terms and conditions data created successfully")),u("/termscondition")}catch{i.error("Failed to save terms and conditions data")}};return p?t.jsx("p",{children:"Loading..."}):t.jsxs(t.Fragment,{children:[t.jsxs(c,{style:{marginBottom:"16px"},children:[t.jsx(c.Item,{children:t.jsx(F,{to:"/dashboard",children:"Dashboard"})}),t.jsx(c.Item,{children:"Terms and Conditions Form"})]}),t.jsxs(e,{form:o,layout:"vertical",onFinish:j,children:[t.jsx(e.Item,{name:"termsCondition",label:"Terms and Conditions",rules:[{required:!0,message:"Please enter the terms and conditions"}],children:t.jsx(T,{value:r,onChange:a=>l(a)})}),t.jsx(e.Item,{children:t.jsx(I,{type:"primary",htmlType:"submit",children:"Save"})})]})]})};export{P as default};
