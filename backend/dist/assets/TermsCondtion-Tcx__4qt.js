import{d as o,e as d,B as y,s as r}from"./antd-mtWlDmqY.js";import{r as i,j as t}from"./react-DKICu8bO.js";import{J as F}from"./jodit-react-B8oW82bi.js";import{a as p}from"./axios-DXsv3KKR.js";import{a as T,L as I}from"./react-router-B9QVkYva.js";import"./@ant-design-jkdqJqTn.js";import"./rc-util-C9ihiQ8l.js";import"./@babel-C_xKm-6V.js";import"./react-is-NfUKNnIv.js";import"./react-dom-BBS6HuAW.js";import"./classnames-Bv6oJzD9.js";import"./scheduler-CKyTKYc2.js";import"./@emotion-CW87jbl0.js";import"./stylis-OW4gUFyn.js";import"./@ctrl-DOFZgDuz.js";import"./rc-motion-D0k58WYE.js";import"./@rc-component-DJY3KRXL.js";import"./rc-resize-observer-h7CJ_t66.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./ant-design-icons-CNhZ1eT-.js";import"./rc-dialog-CfVZmZCG.js";import"./rc-table-BJAsEMDh.js";import"./rc-virtual-list-OMMR-gr8.js";import"./rc-tree-aGCJh_41.js";import"./rc-checkbox-nRYcjTPl.js";import"./rc-pagination-ZKXeAm0h.js";import"./rc-select-RmeC3WgB.js";import"./rc-overflow-DEivB5rv.js";import"./throttle-debounce-CUWDS_la.js";import"./rc-input-CIUXRVU8.js";import"./rc-tooltip-Oavn6yow.js";import"./rc-notification-0md6QYDj.js";import"./rc-image-ClDwiN-j.js";import"./rc-textarea-CijmdGy3.js";import"./copy-to-clipboard-0rP7DRqq.js";import"./toggle-selection-DGa8lynz.js";import"./rc-upload-DlrdHvh1.js";import"./rc-progress-BVn0ZmF4.js";import"./rc-dropdown-D4AwxsUk.js";import"./rc-menu-MHhKtfoG.js";import"./rc-field-form-CVOtFEQA.js";import"./scroll-into-view-if-needed-BZeNfFF0.js";import"./compute-scroll-into-view-DWa9QgjM.js";import"./rc-picker-D0kXf0IF.js";import"./rc-tabs-XmQY-w_1.js";import"./cookie--_YQFYBD.js";const xt=()=>{const l=T(),[s]=o.useForm(),[e,c]=i.useState(""),[u,h]=i.useState(!0),[f,x]=i.useState(!1),[C,g]=i.useState(null);i.useEffect(()=>{(async()=>{try{const n=await p.get("/api/terms");if(n.data.length>0){const m=n.data[0];c(m.termsCondition),g(m._id),s.setFieldsValue({termsCondition:m.termsCondition}),x(!0)}}catch{r.error("Failed to fetch terms and conditions data")}finally{h(!1)}})()},[s]);const j=async()=>{try{f?(await p.put(`/api/terms/${C}`,{termsCondition:e}),r.success("Terms and conditions data updated successfully")):(await p.post("/api/terms/add",{termsCondition:e}),r.success("Terms and conditions data created successfully")),l("/termscondition")}catch{r.error("Failed to save terms and conditions data")}};return u?t.jsx("p",{children:"Loading..."}):t.jsxs(t.Fragment,{children:[t.jsxs(d,{style:{marginBottom:"16px"},children:[t.jsx(d.Item,{children:t.jsx(I,{to:"/dashboard",children:"Dashboard"})}),t.jsx(d.Item,{children:"Terms and Conditions Form"})]}),t.jsxs(o,{form:s,layout:"vertical",onFinish:j,children:[t.jsx(o.Item,{name:"termsCondition",label:"Terms and Conditions",rules:[{required:!0,message:"Please enter the terms and conditions"}],children:t.jsx(F,{value:e,onChange:a=>c(a)})}),t.jsx(o.Item,{children:t.jsx(y,{type:"primary",htmlType:"submit",children:"Save"})})]})]})};export{xt as default};
