import{j as t,B as s}from"./main-BcUd3ASm.js";import{d as a,r as e,L as r}from"./vendor-router-CaZtIe2_.js";import{R as i}from"./index-BEyUZcsN.js";/* empty css                   */import{a as o}from"./vendor-utils-CfKmydC0.js";import{B as n}from"./breadcrumb-DEvmmGzh.js";import"./react-toastify.esm-CrOn1nFw.js";import{C as d,b as c,c as m,a as l}from"./card-DKPCnjx_.js";import"./vendor-react-DD_RYU77.js";import"./isEqual-DwlFmuh_.js";import"./chevron-right-C95tp0e6.js";const u=()=>{const u=a(),[p,j]=e.useState(""),[h,x]=e.useState(!0),[f,v]=e.useState(!1),[y,S]=e.useState(null);e.useEffect((()=>{(async()=>{try{const t=await o.get("/api/terms");if(t.data.length>0){const s=t.data[0];j(s.termsCondition),S(s._id),v(!0)}}catch(t){toast({title:"Error",description:"Failed to fetch terms and conditions data",variant:"destructive"})}finally{x(!1)}})()}),[toast]);return h?t.jsx("p",{className:"text-center text-gray-500",children:"Loading..."}):t.jsxs(t.Fragment,{children:[t.jsxs(n,{children:[t.jsx(r,{to:"/dashboard",children:"Dashboard"}),t.jsx("span",{children:" / Terms and Conditions Form"})]}),t.jsxs(d,{className:"max-w-3xl mx-auto mt-6",children:[t.jsx(c,{children:t.jsx(m,{children:"Terms and Conditions"})}),t.jsx(l,{children:t.jsxs("form",{onSubmit:async t=>{t.preventDefault();try{f?(await o.put(`/api/terms/${y}`,{termsCondition:p}),toast({title:"Success",description:"Terms and conditions updated successfully"})):(await o.post("/api/terms/add",{termsCondition:p}),toast({title:"Success",description:"Terms and conditions created successfully"})),u("/termscondition")}catch(s){toast({title:"Error",description:"Failed to save terms and conditions data",variant:"destructive"})}},className:"space-y-4",children:[t.jsx(i,{theme:"snow",value:p,onChange:j,className:"h-48"}),t.jsx(s,{type:"submit",className:"w-full",children:"Save"})]})})]})]})};export{u as default};
//# sourceMappingURL=TermsCondtion-WhPC2zuK.js.map
