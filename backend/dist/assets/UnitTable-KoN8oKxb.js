import{j as e,r as s}from"./react-BfBsRgn0.js";import{D as i,i as a,j as r,k as t,L as n,I as l,B as o,x as c,G as d,H as m,J as j}from"./index-cVSOkL6A.js";import{T as p,a as h,b as x,c as u,d as g,e as N}from"./table-6AWYD7bR.js";import{q as v,j as f,m as w}from"./lucide-D6BDVLHE.js";import"./classnames-C3ovBj6j.js";import"./react-dom-DwrudmHt.js";import"./scheduler-BFk34ZWe.js";import"./react-redux-DbBiFgqA.js";import"./use-sync-external-store-DdeJV4gQ.js";import"./@reduxjs-UCSEaN3g.js";import"./redux-C5Huw2aR.js";import"./immer-DgfQkf_7.js";import"./redux-thunk-B3S1iNVp.js";import"./reselect-BSOs5pU1.js";import"./js-cookie-BXEMiIsG.js";import"./react-router-DUJjWq5j.js";import"./cookie-BUTH-fPQ.js";import"./@radix-ui-BWjeGzol.js";import"./aria-hidden-BHUiN-rI.js";import"./react-remove-scroll-yauc81_r.js";import"./tslib-Bc9CN1Ef.js";import"./react-remove-scroll-bar-BcxDecei.js";import"./react-style-singleton-C1QVuB2c.js";import"./get-nonce-BYiZHLe3.js";import"./use-sidecar-BA4C4RS7.js";import"./use-callback-ref-Cvx1xcTX.js";import"./@floating-ui-BSChQBl3.js";import"./class-variance-authority-DeOWI0hf.js";import"./clsx-BeLtu-UY.js";import"./tailwind-merge-D2VJQb_v.js";import"./axios-BoylL8Pu.js";import"./@syncfusion-CXokIO9o.js";function b({isOpen:s,onOpenChange:c,unitName:d,setUnitName:m,handleSubmit:j,title:p}){return e.jsx(i,{open:s,onOpenChange:c,children:e.jsxs(a,{children:[e.jsx(r,{children:e.jsx(t,{children:p})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"name",children:"Unit Name"}),e.jsx(l,{id:"name",value:d,onChange:e=>m(e.target.value),placeholder:"Enter unit name"})]}),e.jsx(o,{onClick:j,children:p})]})]})})}function y({units:s,openEditDialog:i,handleDelete:a}){return e.jsx("div",{className:"w-full max-w-4xl border shadow-md",children:e.jsxs(p,{children:[e.jsx(h,{children:e.jsxs(x,{children:[e.jsx(u,{className:"w-[200px]",children:"Action"}),e.jsx(u,{children:"Name"})]})}),e.jsx(g,{children:s.map((s=>e.jsxs(x,{children:[e.jsx(N,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(o,{onClick:()=>i(s),className:"bg-green-500 hover:bg-green-600",size:"sm",children:[e.jsx(v,{className:"h-4 w-4"}),"Edit"]}),e.jsxs(o,{onClick:()=>a(s._id),variant:"destructive",size:"sm",children:[e.jsx(f,{className:"h-4 w-4"}),"Delete"]})]})}),e.jsx(N,{children:s.name})]},s.id)))})]})})}function k(){const{data:i=[],isLoading:a,isError:r,refetch:t}=c(),[n]=d(),[l]=m(),[p]=j(),[h,x]=s.useState(!1),[u,g]=s.useState(!1),[N,v]=s.useState(null),[f,k]=s.useState(""),C=async()=>{try{if(f){const e={name:f};(null==N?void 0:N._id)?await l({id:N._id,updatedUnit:e}).unwrap():await n(e).unwrap(),k(""),v(null),x(!1),g(!1),t()}}catch(e){}};return a?e.jsx("div",{children:"Loading..."}):r?e.jsx("div",{children:"Error loading units"}):e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Units"}),e.jsx(b,{isOpen:h,onOpenChange:x,unitName:f,setUnitName:k,handleSubmit:C,title:"Add New Unit"}),e.jsxs(o,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>x(!0),children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Add Unit"]})]}),e.jsx(y,{units:i,openEditDialog:e=>{e&&e._id&&(k(e.name),v(e),g(!0))},handleDelete:async e=>{try{await p(e).unwrap(),t()}catch(s){}}}),e.jsx(b,{isOpen:u,onOpenChange:g,unitName:f,setUnitName:k,handleSubmit:C,title:"Edit Unit"})]})}export{k as default};
