import{r as i,f as h,j as e,B as a,P as m,aH as p,az as j,c as l}from"./index-BlNJerT2-1768626160776.js";const u=()=>{const[t,c]=i.useState([]),r=h(),d=async()=>{try{const s=await l.get("/api/video/getVideos");c(s.data)}catch(s){console.error("Error fetching videos:",s)}};i.useEffect(()=>{d()},[]);const o=async s=>{if(window.confirm("Are you sure you want to delete this video?"))try{await l.delete(`/api/video/deleteVideo?id=${s}`),d()}catch(x){console.error("Error deleting video:",x)}},n=s=>{r(`/video-form?id=${s}`)};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Video Management"}),e.jsxs(a,{onClick:()=>r("/video-form"),children:[e.jsx(m,{className:"mr-2 h-4 w-4"})," Add New Video"]})]}),e.jsx("div",{className:"overflow-x-auto border rounded-lg shadow",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700 uppercase",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3",children:"Heading"}),e.jsx("th",{className:"px-6 py-3",children:"Subheading"}),e.jsx("th",{className:"px-6 py-3",children:"Image"}),e.jsx("th",{className:"px-6 py-3",children:"Video"}),e.jsx("th",{className:"px-6 py-3",children:"Actions"})]})}),e.jsx("tbody",{children:t.length>0?t.map(s=>e.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 font-medium",children:s.heading}),e.jsx("td",{className:"px-6 py-4",children:s.subheading}),e.jsx("td",{className:"px-6 py-4",children:s.image?e.jsx("img",{src:`/api/uploads/${s.image}`,alt:s.alt||"Video Thumbnail",className:"h-16 w-24 object-cover rounded"}):e.jsx("span",{className:"text-gray-400",children:"No Image"})}),e.jsx("td",{className:"px-6 py-4",children:s.video?e.jsx("video",{src:`/api/video/download/${s.video}`,className:"h-16 w-24 object-cover rounded",controls:!0,preload:"metadata"}):e.jsx("span",{className:"text-gray-400",children:"No Video"})}),e.jsxs("td",{className:"px-6 py-4 flex gap-2",children:[e.jsx(a,{variant:"outline",size:"sm",onClick:()=>n(s._id),children:e.jsx(p,{className:"h-4 w-4 text-blue-600"})}),e.jsx(a,{variant:"outline",size:"sm",onClick:()=>o(s._id),children:e.jsx(j,{className:"h-4 w-4 text-red-600"})})]})]},s._id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No videos found."})})})]})})]})};export{u as default};
