import{aQ as e,c8 as s,j as i}from"./main-DeRxjK88.js";import{r}from"./vendor-router-Bu4EHm1B.js";import{F as t}from"./index--6LMyILo.js";import{B as a}from"./Breadcrumb-Dmow3_cy.js";import{I as l}from"./index-BrOIVdwD.js";import{B as n}from"./index-lUiyPlMq.js";import{s as o}from"./index-lMP3hCbg.js";import"./vendor-react-CI5aWZjI.js";import"./vendor-utils-BfOc9lHv.js";import"./toArray-DkI11MDQ.js";import"./index-DRGG9HZA.js";import"./CheckCircleFilled-DiSUBvU5.js";import"./ExclamationCircleFilled-DZysw_83.js";import"./dropdown-B7KEEEnN.js";import"./EllipsisOutlined-L4j7-ai9.js";import"./getAllowClear-exXUluB6.js";import"./Input-BufppJmu.js";import"./EyeOutlined-B2vwqoE1.js";import"./TextArea-BEMUKMsu.js";import"./InfoCircleFilled-D8dKuFWy.js";const m=({onClose:m})=>{const[d]=t.useForm(),{data:p,isLoading:j,refetch:c}=e(),[u,{isLoading:h}]=s(),[x,f]=r.useState(null);r.useEffect((()=>{p&&p.length>0&&(d.setFieldsValue(p[0]),f(p[0]))}),[p,d]);return j?i.jsx("div",{children:"Loading..."}):i.jsxs("div",{children:[i.jsxs(a,{className:"mb-5",children:[i.jsx(a.Item,{children:"Home"}),i.jsx(a.Item,{children:"WhatsUp Info"})]}),i.jsxs(t,{form:d,layout:"vertical",initialValues:x,onFinish:async e=>{try{if(!x||!x._id)throw new Error("Invalid initialValues: Missing _id");await u({id:x._id,...e}).unwrap(),await c(),o.success("WhatsUp Info updated successfully!"),d.resetFields(),m()}catch(s){}},children:[i.jsx(t.Item,{name:"message",label:"Message",rules:[{required:!0,message:"Please input the message!"}],children:i.jsx(l.TextArea,{})}),i.jsx(t.Item,{name:"number",label:"Number",rules:[{required:!0,message:"Please input the number!"},{pattern:/^[0-9]+$/,message:"Number must contain only digits!"}],children:i.jsx(l,{})}),i.jsx(t.Item,{children:i.jsx(n,{type:"primary",htmlType:"submit",loading:h,children:"Update"})})]})]})};export{m as default};
//# sourceMappingURL=WhatUpForm-CiRGvBxt.js.map
