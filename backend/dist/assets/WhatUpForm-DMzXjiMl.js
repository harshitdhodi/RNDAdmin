import{ay as e,c1 as s,j as a,I as r,B as t}from"./main-BQqr2_19.js";import{r as i}from"./vendor-router-DoRotgOs.js";import{b as m}from"./index.esm-CSDyVtrl.js";import{T as n}from"./textarea-tez6YR4q.js";import{B as d}from"./breadcrumb-BHS-7goF.js";import{B as o}from"./react-toastify.esm-BNXCN5Br.js";import"./vendor-react-DD_RYU77.js";import"./vendor-utils-CfKmydC0.js";import"./chevron-right-DHWU52ll.js";const l=({onClose:l})=>{const{register:c,handleSubmit:u,setValue:h}=m(),{data:j,isLoading:p,refetch:f}=e(),[b,{isLoading:x}]=s();i.useEffect((()=>{j&&j.length>0&&(h("message",j[0].message),h("number",j[0].number))}),[j,h]);return p?a.jsx("div",{children:"Loading..."}):a.jsxs("div",{children:[a.jsxs(d,{className:"mb-5",children:[a.jsx(d.Item,{children:"Home"}),a.jsx(d.Item,{children:"WhatsUp Info"})]}),a.jsxs("form",{className:"space-y-4",onSubmit:u((async e=>{try{if(!j||0===j.length||!j[0]._id)throw new Error("Invalid data: Missing _id");await b({id:j[0]._id,...e}).unwrap(),await f(),o.success("WhatsUp Info updated successfully!"),l()}catch(s){o.error(s.message||"Failed to update WhatsUp Info.")}})),children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Message"}),a.jsx(n,{...c("message",{required:"Please input the message!"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Number"}),a.jsx(r,{...c("number",{required:"Please input the number!",pattern:{value:/^[0-9]+$/,message:"Number must contain only digits!"}})})]}),a.jsx(t,{type:"submit",disabled:x,className:"mt-2",children:x?"Updating...":"Update"})]})]})};export{l as default};
//# sourceMappingURL=WhatUpForm-DMzXjiMl.js.map
