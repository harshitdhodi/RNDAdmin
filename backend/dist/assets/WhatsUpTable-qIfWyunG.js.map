{"version":3,"file":"WhatsUpTable-qIfWyunG.js","sources":["../../src/websiteBackend/whatsUpInfo/WhatsUpTable.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useGetWhatsUpInfoQuery, useDeleteWhatsUpInfoByIdMutation } from \"@/slice/whatsUpInfo/WhatsUpInfo\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport {\r\n  Table,\r\n  TableHeader,\r\n  TableRow,\r\n  TableHead,\r\n  TableBody,\r\n  TableCell,\r\n} from \"@/components/ui/table\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogTrigger,\r\n  AlertDialogContent,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n} from \"@/components/ui/alert-dialog\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport WhatsUpInfoForm from \"./WhatUpForm\";\r\nimport EventModal from \"@/dashboard/calender/event-modal\";\r\nimport { Edit, Trash2 } from \"lucide-react\";\r\n\r\nconst WhatsUpInfoTable = () => {\r\n  const { data: whatsUpInfo, isLoading } = useGetWhatsUpInfoQuery();\r\n  const [deleteWhatsUpInfoById] = useDeleteWhatsUpInfoByIdMutation();\r\n  const [editingInfo, setEditingInfo] = useState(null);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await deleteWhatsUpInfoById(id).unwrap();\r\n      toast.success(\"WhatsUp Info deleted successfully!\");\r\n    } catch (error) {\r\n      toast.error(\"Failed to delete WhatsUp Info.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-6\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h2 className=\"text-xl font-semibold\">WhatsUp Info</h2>\r\n        <Button onClick={() => {\r\n          setEditingInfo(null);\r\n          setIsModalVisible(true);\r\n        }}>Add WhatsUp Info</Button>\r\n      </div>\r\n\r\n      <Table>\r\n        <TableHeader>\r\n          <TableRow>\r\n            <TableHead>Name</TableHead>\r\n            <TableHead>Description</TableHead>\r\n            <TableHead className=\"text-right\">Actions</TableHead>\r\n          </TableRow>\r\n        </TableHeader>\r\n        <TableBody>\r\n          {isLoading ? (\r\n            Array.from({ length: 5 }).map((_, index) => (\r\n              <TableRow key={index}>\r\n                <TableCell colSpan={3}><Skeleton className=\"h-6 w-full\" /></TableCell>\r\n              </TableRow>\r\n            ))\r\n          ) : (\r\n            whatsUpInfo?.length > 0 ? (\r\n              whatsUpInfo.map((info) => (\r\n                <TableRow key={info.id}>\r\n                  <TableCell>{info.name}</TableCell>\r\n                  <TableCell>{info.description}</TableCell>\r\n                  <TableCell className=\"text-right\">\r\n                    <div className=\"flex gap-x-2 justify-end\">\r\n                      <Button size=\"sm\" variant=\"outline\" onClick={() => {\r\n                        setEditingInfo(info);\r\n                        setIsModalVisible(true);\r\n                      }}>\r\n                        <Edit className=\"w-4 h-4\" />\r\n                      </Button>\r\n                      <AlertDialog>\r\n                        <AlertDialogTrigger asChild>\r\n                          <Button size=\"sm\" variant=\"destructive\">\r\n                            <Trash2 className=\"w-4 h-4\" />\r\n                          </Button>\r\n                        </AlertDialogTrigger>\r\n                        <AlertDialogContent>\r\n                          <AlertDialogHeader>\r\n                            <AlertDialogTitle>Are you sure?</AlertDialogTitle>\r\n                            <AlertDialogDescription>This action cannot be undone.</AlertDialogDescription>\r\n                          </AlertDialogHeader>\r\n                          <AlertDialogFooter>\r\n                            <Button variant=\"outline\">Cancel</Button>\r\n                            <Button variant=\"destructive\" onClick={() => handleDelete(info.id)}>\r\n                              Confirm\r\n                            </Button>\r\n                          </AlertDialogFooter>\r\n                        </AlertDialogContent>\r\n                      </AlertDialog>\r\n                    </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))\r\n            ) : (\r\n              <TableRow>\r\n                <TableCell colSpan={3} className=\"text-center py-4\">No WhatsUp Info found</TableCell>\r\n              </TableRow>\r\n            )\r\n          )}\r\n        </TableBody>\r\n      </Table>\r\n\r\n      {isModalVisible && (\r\n        <EventModal\r\n          title={editingInfo ? \"Edit WhatsUp Info\" : \"Add WhatsUp Info\"}\r\n          visible={isModalVisible}\r\n          onCancel={() => setIsModalVisible(false)}\r\n          footer={null}\r\n        >\r\n          <WhatsUpInfoForm initialValues={editingInfo} onClose={() => setIsModalVisible(false)} />\r\n        </EventModal>\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default WhatsUpInfoTable;"],"names":["WhatsUpInfoTable","data","whatsUpInfo","isLoading","useGetWhatsUpInfoQuery","deleteWhatsUpInfoById","useDeleteWhatsUpInfoByIdMutation","editingInfo","setEditingInfo","useState","isModalVisible","setIsModalVisible","jsxs","Card","className","children","jsx","Button","onClick","Table","TableHeader","TableRow","TableHead","TableBody","Array","from","length","map","_","index","TableCell","colSpan","Skeleton","info","name","description","size","variant","Edit","AlertDialog","AlertDialogTrigger","asChild","Trash2","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","async","id","unwrap","toast","success","error","handleDelete","EventModal","title","visible","onCancel","footer","WhatsUpInfoForm","initialValues","onClose"],"mappings":"kuBA2BA,MAAMA,EAAmB,KACvB,MAAQC,KAAMC,EAAaC,UAAAA,GAAcC,KAClCC,GAAyBC,KACzBC,EAAaC,GAAkBC,EAAAA,SAAS,OACxCC,EAAgBC,GAAqBF,EAAAA,UAAS,GAYnD,OAAAG,EAAAA,KAACC,EAAK,CAAAC,UAAU,MACdC,SAAA,CAACH,EAAAA,KAAA,MAAA,CAAIE,UAAU,yCACbC,SAAA,CAACC,EAAAA,IAAA,KAAA,CAAGF,UAAU,wBAAwBC,SAAY,iBAClDC,MAACC,EAAO,CAAAC,QAAS,KACfV,EAAe,MACfG,GAAkB,EAAI,EACrBI,SAAgB,+BAGpBI,EACC,CAAAJ,SAAA,CAACC,EAAAA,IAAAI,EAAA,CACCL,gBAACM,EACC,CAAAN,SAAA,CAAAC,EAAAA,IAACM,GAAUP,SAAI,SACfC,EAAAA,IAACM,GAAUP,SAAW,gBACrBC,EAAAA,IAAAM,EAAA,CAAUR,UAAU,aAAaC,SAAO,uBAG5CQ,EACE,CAAAR,SAAAZ,EACCqB,MAAMC,KAAK,CAAEC,OAAQ,IAAKC,KAAI,CAACC,EAAGC,IAChCb,MAACK,GACCN,SAACC,EAAAA,IAAAc,EAAA,CAAUC,QAAS,EAAGhB,eAACiB,EAAS,CAAAlB,UAAU,kBAD9Be,KAKjB3B,GAAawB,OAAS,EACpBxB,EAAYyB,KAAKM,UACdZ,EACC,CAAAN,SAAA,CAACC,EAAAA,IAAAc,EAAA,CAAWf,WAAKmB,OACjBlB,EAAAA,IAACc,EAAW,CAAAf,SAAAkB,EAAKE,oBAChBL,EAAU,CAAAhB,UAAU,aACnBC,SAACH,EAAAA,KAAA,MAAA,CAAIE,UAAU,2BACbC,SAAA,CAAAC,EAAAA,IAACC,GAAOmB,KAAK,KAAKC,QAAQ,UAAUnB,QAAS,KAC3CV,EAAeyB,GACftB,GAAkB,EAAI,EAEtBI,SAAAC,EAAAA,IAACsB,EAAK,CAAAxB,UAAU,qBAEjByB,EACC,CAAAxB,SAAA,CAAAC,MAACwB,EAAmB,CAAAC,SAAO,EACzB1B,SAAAC,EAAAA,IAACC,GAAOmB,KAAK,KAAKC,QAAQ,cACxBtB,SAACC,EAAAA,IAAA0B,EAAA,CAAO5B,UAAU,uBAGrB6B,EACC,CAAA5B,SAAA,CAAAH,OAACgC,EACC,CAAA7B,SAAA,CAAAC,EAAAA,IAAC6B,GAAiB9B,SAAa,kBAC/BC,EAAAA,IAAC8B,GAAuB/B,SAA6B,4CAEtDgC,EACC,CAAAhC,SAAA,CAACC,EAAAA,IAAAC,EAAA,CAAOoB,QAAQ,UAAUtB,SAAM,WAChCC,EAAAA,IAACC,EAAO,CAAAoB,QAAQ,cAAcnB,QAAS,IA7D5C8B,OAAOC,IACtB,UACI5C,EAAsB4C,GAAIC,SAChCC,EAAMC,QAAQ,4CACPC,GACPF,EAAME,MAAM,iCAAgC,GAwDuBC,CAAarB,EAAKgB,IAAKlC,SAEpE,4BA1BGkB,EAAKgB,YAmCrB5B,EACC,CAAAN,SAAAC,EAAAA,IAACc,EAAU,CAAAC,QAAS,EAAGjB,UAAU,mBAAmBC,SAAA,iCAO7DL,GACCM,EAAAA,IAACuC,EAAA,CACCC,MAAOjD,EAAc,oBAAsB,mBAC3CkD,QAAS/C,EACTgD,SAAU,IAAM/C,GAAkB,GAClCgD,OAAQ,KAER5C,SAAAC,EAAAA,IAAC4C,GAAgBC,cAAetD,EAAauD,QAAS,IAAMnD,GAAkB,SAGpF"}