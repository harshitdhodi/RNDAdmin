{"version":3,"file":"WorlWide-CUyFqZIl.js","sources":["../../src/websiteBackend/worldwideTables/WorlWide.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Table, Space, Breadcrumb, Modal, Button } from 'antd';\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport { useGetAllWorldwideQuery, useDeleteWorldwideMutation } from '../../slice/worldwide/worldwide';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst WorldWideBackend = () => {\r\n    const navigate = useNavigate();\r\n    const { data: worldwideData, isLoading } = useGetAllWorldwideQuery();\r\n    const [deleteWorldwide] = useDeleteWorldwideMutation();\r\n\r\n    // Separate international and Indian data\r\n    const internationalData = worldwideData?.data?.filter(item => item.category === 'international') || [];\r\n    const indianData = worldwideData?.data?.filter(item => item.category === 'india') || [];\r\n\r\n    // Column definitions for international table\r\n    const internationalColumns = [\r\n        {\r\n            title: 'Country Name',\r\n            dataIndex: 'name',\r\n            key: 'name',\r\n        },\r\n        {\r\n            title: 'Actions',\r\n            key: 'actions',\r\n            render: (_, record) => (\r\n                <Space size=\"middle\">\r\n                    <EditOutlined \r\n                        style={{ color: '#1890ff', cursor: 'pointer' }}\r\n                        onClick={() => handleEdit(record)}\r\n                    />\r\n                    <DeleteOutlined \r\n                        style={{ color: '#ff4d4f', cursor: 'pointer' }}\r\n                        onClick={() => handleDelete(record._id)}\r\n                    />\r\n                </Space>\r\n            ),\r\n        },\r\n    ];\r\n\r\n    // Column definitions for Indian locations table\r\n    const indianColumns = [\r\n        {\r\n            title: 'State',\r\n            dataIndex: 'state',\r\n            key: 'state',\r\n        },\r\n        {\r\n            title: 'Cities',\r\n            dataIndex: 'cities',\r\n            key: 'cities',\r\n            render: (cities) => cities.join(', ')\r\n        },\r\n        {\r\n            title: 'Actions',\r\n            key: 'actions',\r\n            render: (_, record) => (\r\n                <Space size=\"middle\">\r\n                    <EditOutlined \r\n                        style={{ color: '#1890ff', cursor: 'pointer' }}\r\n                        onClick={() => handleEdit(record)}\r\n                    />\r\n                    <DeleteOutlined \r\n                        style={{ color: '#ff4d4f', cursor: 'pointer' }}\r\n                        onClick={() => handleDelete(record._id)}\r\n                    />\r\n                </Space>\r\n            ),\r\n        },\r\n    ];\r\n\r\n    const handleEdit = (record) => {\r\n        navigate(`/worldwide/edit/${record._id}`);\r\n    };\r\n\r\n    const handleDelete = (id) => {\r\n        Modal.confirm({\r\n            title: 'Are you sure you want to delete this location?',\r\n            content: 'This action cannot be undone.',\r\n            okText: 'Yes',\r\n            okType: 'danger',\r\n            cancelText: 'No',\r\n            onOk: async () => {\r\n                try {\r\n                    await deleteWorldwide(id).unwrap();\r\n                    Modal.success({\r\n                        content: 'Location deleted successfully!',\r\n                    });\r\n                } catch (error) {\r\n                    Modal.error({\r\n                        title: 'Delete Failed',\r\n                        content: error.message || 'Something went wrong',\r\n                    });\r\n                }\r\n            },\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div >\r\n          <div className='flex justify-between items-center'>\r\n          <Breadcrumb\r\n                items={[\r\n                    { \r\n                        title: <span onClick={() => navigate('/dashboard')} className='cursor-pointer'>Dashboard</span>\r\n                    },\r\n                    { title: 'Worldwide Locations' }\r\n                ]}\r\n                className='mb-4'\r\n               \r\n            />\r\n\r\n            <Button \r\n                type=\"primary\" \r\n                onClick={() => navigate('/worldwide/add')}\r\n               className='mb-4'\r\n            >\r\n                Add New Location\r\n            </Button>\r\n          </div>\r\n\r\n            <h2 className='text-2xl font-semibold mb-3'>International Locations</h2>\r\n            <Table \r\n                columns={internationalColumns}\r\n                dataSource={internationalData}\r\n                loading={isLoading}\r\n                rowKey=\"_id\"\r\n                pagination={{ pageSize: 10 }}\r\n            />\r\n\r\n            <h2 className='text-2xl font-semibold mb-3 mt-8'>Indian Locations</h2>\r\n            <Table \r\n                columns={indianColumns}\r\n                dataSource={indianData}\r\n                loading={isLoading}\r\n                rowKey=\"_id\"\r\n                pagination={{ pageSize: 10 }}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default WorldWideBackend;\r\n"],"names":["WorldWideBackend","navigate","useNavigate","data","worldwideData","isLoading","useGetAllWorldwideQuery","deleteWorldwide","useDeleteWorldwideMutation","internationalData","filter","item","category","indianData","internationalColumns","title","dataIndex","key","render","_","record","jsxs","Space","size","children","jsx","EditOutlined","style","color","cursor","onClick","handleEdit","DeleteOutlined","handleDelete","_id","indianColumns","cities","join","id","Modal","confirm","content","okText","okType","cancelText","onOk","async","unwrap","success","error","message","className","Breadcrumb","items","Button","type","Table","columns","dataSource","loading","rowKey","pagination","pageSize"],"mappings":"mhCAMA,MAAMA,EAAmB,KACrB,MAAMC,EAAWC,KACTC,KAAMC,EAAeC,UAAAA,GAAcC,KACpCC,GAAmBC,IAGpBC,EAAoBL,GAAeD,MAAMO,WAAiC,kBAAlBC,EAAKC,YAAiC,GAC9FC,EAAaT,GAAeD,MAAMO,WAAiC,UAAlBC,EAAKC,YAAyB,GAG/EE,EAAuB,CACzB,CACIC,MAAO,eACPC,UAAW,OACXC,IAAK,QAET,CACIF,MAAO,UACPE,IAAK,UACLC,OAAQ,CAACC,EAAGC,IACPC,EAAAA,KAAAC,EAAA,CAAMC,KAAK,SACRC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACGC,MAAO,CAAEC,MAAO,UAAWC,OAAQ,WACnCC,QAAS,IAAMC,EAAWX,KAE9BK,EAAAA,IAACO,EAAA,CACGL,MAAO,CAAEC,MAAO,UAAWC,OAAQ,WACnCC,QAAS,IAAMG,EAAab,EAAOc,YAQjDC,EAAgB,CAClB,CACIpB,MAAO,QACPC,UAAW,QACXC,IAAK,SAET,CACIF,MAAO,SACPC,UAAW,SACXC,IAAK,SACLC,OAASkB,GAAWA,EAAOC,KAAK,OAEpC,CACItB,MAAO,UACPE,IAAK,UACLC,OAAQ,CAACC,EAAGC,IACPC,EAAAA,KAAAC,EAAA,CAAMC,KAAK,SACRC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACGC,MAAO,CAAEC,MAAO,UAAWC,OAAQ,WACnCC,QAAS,IAAMC,EAAWX,KAE9BK,EAAAA,IAACO,EAAA,CACGL,MAAO,CAAEC,MAAO,UAAWC,OAAQ,WACnCC,QAAS,IAAMG,EAAab,EAAOc,YAOjDH,EAAcX,IACPnB,EAAA,mBAAmBmB,EAAOc,MAAK,EAGtCD,EAAgBK,IAClBC,EAAMC,QAAQ,CACVzB,MAAO,iDACP0B,QAAS,gCACTC,OAAQ,MACRC,OAAQ,SACRC,WAAY,KACZC,KAAMC,UACE,UACMvC,EAAgB+B,GAAIS,SAC1BR,EAAMS,QAAQ,CACVP,QAAS,yCAERQ,GACLV,EAAMU,MAAM,CACRlC,MAAO,gBACP0B,QAASQ,EAAMC,SAAW,wBAC7B,IAGZ,EAGL,cACK,MACC,CAAA1B,SAAA,CAACH,EAAAA,KAAA,MAAA,CAAI8B,UAAU,oCACf3B,SAAA,CAAAC,EAAAA,IAAC2B,EAAA,CACKC,MAAO,CACH,CACItC,MAAQU,EAAAA,IAAA,OAAA,CAAKK,QAAS,IAAM7B,EAAS,cAAekD,UAAU,iBAAiB3B,SAAS,eAE5F,CAAET,MAAO,wBAEboC,UAAU,SAId1B,EAAAA,IAAC6B,EAAA,CACGC,KAAK,UACLzB,QAAS,IAAM7B,EAAS,kBACzBkD,UAAU,OACZ3B,SAAA,wBAKAC,EAAAA,IAAA,KAAA,CAAG0B,UAAU,8BAA8B3B,SAAuB,4BACnEC,EAAAA,IAAC+B,EAAA,CACGC,QAAS3C,EACT4C,WAAYjD,EACZkD,QAAStD,EACTuD,OAAO,MACPC,WAAY,CAAEC,SAAU,MAG3BrC,EAAAA,IAAA,KAAA,CAAG0B,UAAU,mCAAmC3B,SAAgB,qBACjEC,EAAAA,IAAC+B,EAAA,CACGC,QAAStB,EACTuB,WAAY7C,EACZ8C,QAAStD,EACTuD,OAAO,MACPC,WAAY,CAAEC,SAAU,QAEhC"}