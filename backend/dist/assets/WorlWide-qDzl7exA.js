import{bH as s,bJ as e,j as i,B as a,D as n,m as r,n as c,o as l,bc as t,aG as d}from"./main-BcUd3ASm.js";import{d as o,R as h}from"./vendor-router-CaZtIe2_.js";import{T as x,a as j,b as m,c as p,d as N,e as u}from"./table-DnBX1p3B.js";import{B as f,b,d as v}from"./breadcrumb-DEvmmGzh.js";import{B as w}from"./react-toastify.esm-CrOn1nFw.js";import{L as y}from"./loader-circle-Bvow6UU1.js";import{P as g}from"./pencil-QP0ylATY.js";import{T as C}from"./trash-Ca8SLLCq.js";import"./vendor-react-DD_RYU77.js";import"./vendor-utils-CfKmydC0.js";import"./chevron-right-C95tp0e6.js";const k=()=>{const k=o(),{data:L,isLoading:S}=s(),[A,{isLoading:_}]=e(),[z,D]=h.useState(!1),[I,T]=h.useState(null),B=L?.data?.filter((s=>"international"===s.category))||[],G=L?.data?.filter((s=>"india"===s.category))||[],H=s=>{k(`/worldwide/edit/${s._id}`)},J=s=>{T(s),D(!0)};return i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs(f,{children:[i.jsx(b,{children:i.jsx(v,{onClick:()=>k("/dashboard"),className:"cursor-pointer",children:"Dashboard"})}),i.jsx(b,{children:"Worldwide Locations"})]}),i.jsx(a,{onClick:()=>k("/worldwide/add"),children:"Add New Location"})]}),i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"International Locations"}),i.jsx("div",{className:"rounded-md border mb-8",children:i.jsxs(x,{children:[i.jsx(j,{children:i.jsxs(m,{children:[i.jsx(p,{children:"Country Name"}),i.jsx(p,{className:"w-24",children:"Actions"})]})}),i.jsx(N,{children:S?i.jsx(m,{children:i.jsx(u,{colSpan:2,className:"text-center py-6",children:i.jsx("div",{className:"flex justify-center",children:i.jsx(y,{className:"h-6 w-6 animate-spin"})})})}):0===B.length?i.jsx(m,{children:i.jsx(u,{colSpan:2,className:"text-center py-6",children:"No international locations found"})}):B.map((s=>i.jsxs(m,{children:[i.jsx(u,{children:s.name}),i.jsx(u,{children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(a,{variant:"ghost",size:"icon",onClick:()=>H(s),children:i.jsx(g,{className:"h-4 w-4"})}),i.jsx(a,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>J(s._id),children:i.jsx(C,{className:"h-4 w-4"})})]})})]},s._id)))})]})}),i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Indian Locations"}),i.jsx("div",{className:"rounded-md border",children:i.jsxs(x,{children:[i.jsx(j,{children:i.jsxs(m,{children:[i.jsx(p,{children:"State"}),i.jsx(p,{children:"Cities"}),i.jsx(p,{className:"w-24",children:"Actions"})]})}),i.jsx(N,{children:S?i.jsx(m,{children:i.jsx(u,{colSpan:3,className:"text-center py-6",children:i.jsx("div",{className:"flex justify-center",children:i.jsx(y,{className:"h-6 w-6 animate-spin"})})})}):0===G.length?i.jsx(m,{children:i.jsx(u,{colSpan:3,className:"text-center py-6",children:"No Indian locations found"})}):G.map((s=>i.jsxs(m,{children:[i.jsx(u,{children:s.state}),i.jsx(u,{children:Array.isArray(s.cities)?s.cities.join(", "):s.cities}),i.jsx(u,{children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(a,{variant:"ghost",size:"icon",onClick:()=>H(s),children:i.jsx(g,{className:"h-4 w-4"})}),i.jsx(a,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>J(s._id),children:i.jsx(C,{className:"h-4 w-4"})})]})})]},s._id)))})]})}),i.jsx(n,{open:z,onOpenChange:D,children:i.jsxs(r,{children:[i.jsxs(c,{children:[i.jsx(l,{children:"Confirm Deletion"}),i.jsx(t,{children:"Are you sure you want to delete this location? This action cannot be undone."})]}),i.jsxs(d,{children:[i.jsx(a,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),i.jsxs(a,{variant:"destructive",onClick:async()=>{try{await A(I).unwrap(),w.success("Location deleted successfully!"),D(!1),T(null)}catch(s){w.error(s.message||"Something went wrong")}},disabled:_,children:[_&&i.jsx(y,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete"]})]})]})})]})};export{k as default};
//# sourceMappingURL=WorlWide-qDzl7exA.js.map
