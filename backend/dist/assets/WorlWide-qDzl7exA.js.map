{"version":3,"file":"WorlWide-qDzl7exA.js","sources":["../../src/websiteBackend/worldwideTables/WorlWide.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useGetAllWorldwideQuery, useDeleteWorldwideMutation } from '../../slice/worldwide/worldwide';\r\n\r\n// shadcn components\r\nimport { \r\n  Table, \r\n  TableBody, \r\n  TableCell, \r\n  TableHead, \r\n  TableHeader, \r\n  TableRow \r\n} from '@/components/ui/table';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Breadcrumb, BreadcrumbItem, BreadcrumbLink } from '@/components/ui/breadcrumb';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog';\r\nimport { toast } from 'react-toastify';\r\n\r\n// Icons (using Lucide React instead of Ant Icons)\r\nimport { PencilIcon, TrashIcon, Loader2 } from 'lucide-react';\r\n\r\nconst WorldWideBackend = () => {\r\n  const navigate = useNavigate();\r\n  const { data: worldwideData, isLoading } = useGetAllWorldwideQuery();\r\n  const [deleteWorldwide, { isLoading: isDeleting }] = useDeleteWorldwideMutation();\r\n\r\n  // State for delete confirmation dialog\r\n  const [deleteDialogOpen, setDeleteDialogOpen] = React.useState(false);\r\n  const [itemToDelete, setItemToDelete] = React.useState(null);\r\n\r\n  // Separate international and Indian data\r\n  const internationalData = worldwideData?.data?.filter(item => item.category === 'international') || [];\r\n  const indianData = worldwideData?.data?.filter(item => item.category === 'india') || [];\r\n\r\n  const handleEdit = (record) => {\r\n    navigate(`/worldwide/edit/${record._id}`);\r\n  };\r\n\r\n  const handleDeleteClick = (id) => {\r\n    setItemToDelete(id);\r\n    setDeleteDialogOpen(true);\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    try {\r\n      await deleteWorldwide(itemToDelete).unwrap();\r\n      toast.success('Location deleted successfully!');\r\n      setDeleteDialogOpen(false);\r\n      setItemToDelete(null);\r\n    } catch (error) {\r\n      toast.error(error.message || 'Something went wrong');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <Breadcrumb>\r\n          <BreadcrumbItem>\r\n            <BreadcrumbLink onClick={() => navigate('/dashboard')} className=\"cursor-pointer\">\r\n              Dashboard\r\n            </BreadcrumbLink>\r\n          </BreadcrumbItem>\r\n          <BreadcrumbItem>\r\n            Worldwide Locations\r\n          </BreadcrumbItem>\r\n        </Breadcrumb>\r\n\r\n        <Button onClick={() => navigate('/worldwide/add')}>\r\n          Add New Location\r\n        </Button>\r\n      </div>\r\n\r\n      <h2 className=\"text-2xl font-semibold mb-4\">International Locations</h2>\r\n      <div className=\"rounded-md border mb-8\">\r\n        <Table>\r\n          <TableHeader>\r\n            <TableRow>\r\n              <TableHead>Country Name</TableHead>\r\n              <TableHead className=\"w-24\">Actions</TableHead>\r\n            </TableRow>\r\n          </TableHeader>\r\n          <TableBody>\r\n            {isLoading ? (\r\n              <TableRow>\r\n                <TableCell colSpan={2} className=\"text-center py-6\">\r\n                  <div className=\"flex justify-center\">\r\n                    <Loader2 className=\"h-6 w-6 animate-spin\" />\r\n                  </div>\r\n                </TableCell>\r\n              </TableRow>\r\n            ) : internationalData.length === 0 ? (\r\n              <TableRow>\r\n                <TableCell colSpan={2} className=\"text-center py-6\">\r\n                  No international locations found\r\n                </TableCell>\r\n              </TableRow>\r\n            ) : (\r\n              internationalData.map((item) => (\r\n                <TableRow key={item._id}>\r\n                  <TableCell>{item.name}</TableCell>\r\n                  <TableCell>\r\n                    <div className=\"flex space-x-2\">\r\n                      <Button \r\n                        variant=\"ghost\" \r\n                        size=\"icon\" \r\n                        onClick={() => handleEdit(item)}\r\n                      >\r\n                        <PencilIcon className=\"h-4 w-4\" />\r\n                      </Button>\r\n                      <Button \r\n                        variant=\"ghost\" \r\n                        size=\"icon\"\r\n                        className=\"text-red-500 hover:text-red-700\"\r\n                        onClick={() => handleDeleteClick(item._id)}\r\n                      >\r\n                        <TrashIcon className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n\r\n      <h2 className=\"text-2xl font-semibold mb-4\">Indian Locations</h2>\r\n      <div className=\"rounded-md border\">\r\n        <Table>\r\n          <TableHeader>\r\n            <TableRow>\r\n              <TableHead>State</TableHead>\r\n              <TableHead>Cities</TableHead>\r\n              <TableHead className=\"w-24\">Actions</TableHead>\r\n            </TableRow>\r\n          </TableHeader>\r\n          <TableBody>\r\n            {isLoading ? (\r\n              <TableRow>\r\n                <TableCell colSpan={3} className=\"text-center py-6\">\r\n                  <div className=\"flex justify-center\">\r\n                    <Loader2 className=\"h-6 w-6 animate-spin\" />\r\n                  </div>\r\n                </TableCell>\r\n              </TableRow>\r\n            ) : indianData.length === 0 ? (\r\n              <TableRow>\r\n                <TableCell colSpan={3} className=\"text-center py-6\">\r\n                  No Indian locations found\r\n                </TableCell>\r\n              </TableRow>\r\n            ) : (\r\n              indianData.map((item) => (\r\n                <TableRow key={item._id}>\r\n                  <TableCell>{item.state}</TableCell>\r\n                  <TableCell>{Array.isArray(item.cities) ? item.cities.join(', ') : item.cities}</TableCell>\r\n                  <TableCell>\r\n                    <div className=\"flex space-x-2\">\r\n                      <Button \r\n                        variant=\"ghost\" \r\n                        size=\"icon\" \r\n                        onClick={() => handleEdit(item)}\r\n                      >\r\n                        <PencilIcon className=\"h-4 w-4\" />\r\n                      </Button>\r\n                      <Button \r\n                        variant=\"ghost\" \r\n                        size=\"icon\"\r\n                        className=\"text-red-500 hover:text-red-700\"\r\n                        onClick={() => handleDeleteClick(item._id)}\r\n                      >\r\n                        <TrashIcon className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <Dialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Confirm Deletion</DialogTitle>\r\n            <DialogDescription>\r\n              Are you sure you want to delete this location? This action cannot be undone.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setDeleteDialogOpen(false)}>\r\n              Cancel\r\n            </Button>\r\n            <Button \r\n              variant=\"destructive\" \r\n              onClick={confirmDelete} \r\n              disabled={isDeleting}\r\n            >\r\n              {isDeleting && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\r\n              Delete\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorldWideBackend;"],"names":["WorldWideBackend","navigate","useNavigate","data","worldwideData","isLoading","useGetAllWorldwideQuery","deleteWorldwide","isDeleting","useDeleteWorldwideMutation","deleteDialogOpen","setDeleteDialogOpen","React","useState","itemToDelete","setItemToDelete","internationalData","filter","item","category","indianData","handleEdit","record","_id","handleDeleteClick","id","jsxs","className","children","Breadcrumb","jsx","BreadcrumbItem","BreadcrumbLink","onClick","Button","Table","TableHeader","TableRow","TableHead","TableBody","TableCell","colSpan","Loader2","length","map","name","variant","size","PencilIcon","TrashIcon","state","Array","isArray","cities","join","Dialog","open","onOpenChange","DialogContent","DialogHeader","DialogTitle","DialogDescription","DialogFooter","async","unwrap","toast","success","error","message","disabled"],"mappings":"kkBA4BA,MAAMA,EAAmB,KACvB,MAAMC,EAAWC,KACTC,KAAMC,EAAeC,UAAAA,GAAcC,KACpCC,GAAmBF,UAAWG,IAAgBC,KAG9CC,EAAkBC,GAAuBC,EAAMC,UAAS,IACxDC,EAAcC,GAAmBH,EAAMC,SAAS,MAGjDG,EAAoBZ,GAAeD,MAAMc,WAAiC,kBAAlBC,EAAKC,YAAiC,GAC9FC,EAAahB,GAAeD,MAAMc,WAAiC,UAAlBC,EAAKC,YAAyB,GAE/EE,EAAcC,IACTrB,EAAA,mBAAmBqB,EAAOC,MAAK,EAGpCC,EAAqBC,IACzBV,EAAgBU,GAChBd,GAAoB,EAAI,EAexB,OAAAe,EAAAA,KAAC,MAAI,CAAAC,UAAU,MACbC,SAAA,CAACF,EAAAA,KAAA,MAAA,CAAIC,UAAU,yCACbC,SAAA,CAAAF,OAACG,EACC,CAAAD,SAAA,CAACE,EAAAA,IAAAC,EAAA,CACCH,SAACE,EAAAA,IAAAE,EAAA,CAAeC,QAAS,IAAMhC,EAAS,cAAe0B,UAAU,iBAAiBC,SAAA,gBAIpFE,EAAAA,IAACC,GAAeH,SAEhB,iCAGDM,EAAO,CAAAD,QAAS,IAAMhC,EAAS,kBAAmB2B,SAEnD,wBAGDE,EAAAA,IAAA,KAAA,CAAGH,UAAU,8BAA8BC,SAAuB,4BAClEE,MAAA,MAAA,CAAIH,UAAU,yBACbC,gBAACO,EACC,CAAAP,SAAA,CAACE,EAAAA,IAAAM,EAAA,CACCR,gBAACS,EACC,CAAAT,SAAA,CAAAE,EAAAA,IAACQ,GAAUV,SAAY,iBACtBE,EAAAA,IAAAQ,EAAA,CAAUX,UAAU,OAAOC,SAAO,uBAGtCW,EACE,CAAAX,SAAAvB,QACEgC,EACC,CAAAT,SAAAE,EAAAA,IAACU,GAAUC,QAAS,EAAGd,UAAU,mBAC/BC,SAAAE,EAAAA,IAAC,OAAIH,UAAU,sBACbC,eAACc,EAAQ,CAAAf,UAAU,+BAIM,IAA7BX,EAAkB2B,aACnBN,EACC,CAAAT,SAAAE,EAAAA,IAACU,GAAUC,QAAS,EAAGd,UAAU,mBAAmBC,SAAA,uCAKtDZ,EAAkB4B,KAAK1B,UACpBmB,EACC,CAAAT,SAAA,CAACE,EAAAA,IAAAU,EAAA,CAAWZ,WAAKiB,OAChBf,MAAAU,EAAA,CACCZ,SAACF,EAAAA,KAAA,MAAA,CAAIC,UAAU,iBACbC,SAAA,CAAAE,EAAAA,IAACI,EAAA,CACCY,QAAQ,QACRC,KAAK,OACLd,QAAS,IAAMZ,EAAWH,GAE1BU,SAAAE,EAAAA,IAACkB,EAAW,CAAArB,UAAU,cAExBG,EAAAA,IAACI,EAAA,CACCY,QAAQ,QACRC,KAAK,OACLpB,UAAU,kCACVM,QAAS,IAAMT,EAAkBN,EAAKK,KAEtCK,SAAAE,EAAAA,IAACmB,EAAU,CAAAtB,UAAU,qBAjBdT,EAAKK,cA4B7BO,EAAAA,IAAA,KAAA,CAAGH,UAAU,8BAA8BC,SAAgB,qBAC3DE,MAAA,MAAA,CAAIH,UAAU,oBACbC,gBAACO,EACC,CAAAP,SAAA,CAACE,EAAAA,IAAAM,EAAA,CACCR,gBAACS,EACC,CAAAT,SAAA,CAAAE,EAAAA,IAACQ,GAAUV,SAAK,UAChBE,EAAAA,IAACQ,GAAUV,SAAM,WAChBE,EAAAA,IAAAQ,EAAA,CAAUX,UAAU,OAAOC,SAAO,uBAGtCW,EACE,CAAAX,SAAAvB,QACEgC,EACC,CAAAT,SAAAE,EAAAA,IAACU,GAAUC,QAAS,EAAGd,UAAU,mBAC/BC,SAAAE,EAAAA,IAAC,OAAIH,UAAU,sBACbC,eAACc,EAAQ,CAAAf,UAAU,+BAID,IAAtBP,EAAWuB,aACZN,EACC,CAAAT,SAAAE,EAAAA,IAACU,GAAUC,QAAS,EAAGd,UAAU,mBAAmBC,SAAA,gCAKtDR,EAAWwB,KAAK1B,UACbmB,EACC,CAAAT,SAAA,CAACE,EAAAA,IAAAU,EAAA,CAAWZ,WAAKsB,QAChBpB,EAAAA,IAAAU,EAAA,CAAWZ,SAAMuB,MAAAC,QAAQlC,EAAKmC,QAAUnC,EAAKmC,OAAOC,KAAK,MAAQpC,EAAKmC,SACtEvB,MAAAU,EAAA,CACCZ,SAACF,EAAAA,KAAA,MAAA,CAAIC,UAAU,iBACbC,SAAA,CAAAE,EAAAA,IAACI,EAAA,CACCY,QAAQ,QACRC,KAAK,OACLd,QAAS,IAAMZ,EAAWH,GAE1BU,SAAAE,EAAAA,IAACkB,EAAW,CAAArB,UAAU,cAExBG,EAAAA,IAACI,EAAA,CACCY,QAAQ,QACRC,KAAK,OACLpB,UAAU,kCACVM,QAAS,IAAMT,EAAkBN,EAAKK,KAEtCK,SAAAE,EAAAA,IAACmB,EAAU,CAAAtB,UAAU,qBAlBdT,EAAKK,oBA8B7BgC,EAAO,CAAAC,KAAM9C,EAAkB+C,aAAc9C,EAC5CiB,gBAAC8B,EACC,CAAA9B,SAAA,CAAAF,OAACiC,EACC,CAAA/B,SAAA,CAAAE,EAAAA,IAAC8B,GAAYhC,SAAgB,qBAC7BE,EAAAA,IAAC+B,GAAkBjC,SAEnB,2FAEDkC,EACC,CAAAlC,SAAA,CAACE,EAAAA,IAAAI,EAAA,CAAOY,QAAQ,UAAUb,QAAS,IAAMtB,GAAoB,GAAQiB,SAErE,WACAF,EAAAA,KAACQ,EAAA,CACCY,QAAQ,cACRb,QA3JU8B,UAChB,UACIxD,EAAgBO,GAAckD,SACpCC,EAAMC,QAAQ,kCACdvD,GAAoB,GACpBI,EAAgB,YACToD,GACDF,EAAAE,MAAMA,EAAMC,SAAW,uBAAsB,GAqJ3CC,SAAU7D,EAEToB,SAAA,CAAcpB,GAAAsB,EAAAA,IAACY,EAAQ,CAAAf,UAAU,8BAA+B,sBAM3E"}