import{bP as w,bQ as f,bR as b,j as e}from"./main-D56VxXD--1744353259833.js";import{f as C,i as I,c as L}from"./vendor-CxfDVdnA-1744353259833.js";import{F as t}from"./index-D0ZxqazJ-1744353259833.js";import{B as E}from"./Breadcrumb-DTbdUn4y-1744353259833.js";import{C as F}from"./index-CsaPXf8V-1744353259833.js";import{S as p}from"./index-BNrWvN6o-1744353259833.js";import{I as d}from"./index-Dp4H5u-3-1744353259833.js";import{B as m}from"./index-CeokfHxc-1744353259833.js";import{s as c}from"./index-X_CaSj2W-1744353259833.js";import"./toArray-Bbgf03cS-1744353259833.js";import"./CheckCircleFilled-CWFXdIKk-1744353259833.js";import"./ExclamationCircleFilled-Dex7AzLT-1744353259833.js";import"./dropdown-CHjX7P0V-1744353259833.js";import"./EllipsisOutlined-hl-4kO-l-1744353259833.js";import"./Skeleton-CsmC8Hp0-1744353259833.js";import"./PlusOutlined-ByS4x5XY-1744353259833.js";import"./TextArea-S0pu2rHE-1744353259833.js";import"./CheckOutlined-D7BlYXCZ-1744353259833.js";import"./InfoCircleFilled-D5d8VvU--1744353259833.js";const{Option:u}=p,H=()=>{const[i]=t.useForm(),o=C(),{id:n}=I(),r=!!n,[x]=w(),[h]=f(),{data:l,isLoading:y}=b(n,{skip:!r});L.useEffect(()=>{r&&l?.data&&i.setFieldsValue(l.data)},[l,i,r]);const g=async s=>{try{r?(await h({id:n,data:s}).unwrap(),c.success("Location updated successfully!")):(await x(s).unwrap(),c.success("Location added successfully!")),o("/worldwide-table")}catch(a){c.error(a.message||"Something went wrong")}};return e.jsxs("div",{style:{padding:"20px"},children:[e.jsx(E,{items:[{title:e.jsx("span",{onClick:()=>o("/dashboard"),style:{cursor:"pointer"},children:"Dashboard"})},{title:e.jsx("span",{onClick:()=>o("/worldwide-table"),style:{cursor:"pointer"},children:"Worldwide Locations"})},{title:r?"Edit Location":"Add Location"}],style:{marginBottom:"16px"}}),e.jsx(F,{title:r?"Edit Location":"Add New Location",children:e.jsxs(t,{form:i,layout:"vertical",onFinish:g,initialValues:{category:"international"},children:[e.jsx(t.Item,{name:"category",label:"Category",rules:[{required:!0,message:"Please select a category"}],children:e.jsxs(p,{children:[e.jsx(u,{value:"international",children:"International"}),e.jsx(u,{value:"india",children:"India"})]})}),e.jsx(t.Item,{name:"name",label:"Country Name",rules:[{required:!0,message:"Please enter country name"}],children:e.jsx(d,{})}),e.jsx(t.Item,{noStyle:!0,shouldUpdate:(s,a)=>s.category!==a.category,children:({getFieldValue:s})=>s("category")==="india"&&e.jsxs(e.Fragment,{children:[e.jsx(t.Item,{name:"state",label:"State",rules:[{required:!0,message:"Please enter state"}],children:e.jsx(d,{})}),e.jsx(t.Item,{name:"cities",label:"Cities (Enter up to 5 cities, one per line)",rules:[{required:!0,message:"Please enter at least one city"}],children:e.jsx(d.TextArea,{rows:5,placeholder:"Enter cities, one per line",onChange:a=>{const j=a.target.value.split(`
`).slice(0,5);i.setFieldsValue({cities:j})}})})]})}),e.jsxs(t.Item,{children:[e.jsx(m,{type:"primary",htmlType:"submit",loading:y,children:r?"Update":"Submit"}),e.jsx(m,{style:{marginLeft:"10px"},onClick:()=>o("/worldwide-table"),children:"Cancel"})]})]})})]})};export{H as default};
