import{d as e,e as w,C as b,S as u,f as p,B as d,s as l}from"./antd-mtWlDmqY.js";import{r as f,j as t}from"./react-DKICu8bO.js";import{a$ as C,b0 as I,b1 as L}from"./index-CDFtkn6X.js";import{a as E,b as F}from"./react-router-B9QVkYva.js";import"./@ant-design-jkdqJqTn.js";import"./rc-util-C9ihiQ8l.js";import"./@babel-C_xKm-6V.js";import"./react-is-NfUKNnIv.js";import"./react-dom-BBS6HuAW.js";import"./classnames-Bv6oJzD9.js";import"./scheduler-CKyTKYc2.js";import"./@emotion-CW87jbl0.js";import"./stylis-OW4gUFyn.js";import"./@ctrl-DOFZgDuz.js";import"./rc-motion-D0k58WYE.js";import"./@rc-component-DJY3KRXL.js";import"./rc-resize-observer-h7CJ_t66.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./ant-design-icons-CNhZ1eT-.js";import"./rc-dialog-CfVZmZCG.js";import"./rc-table-BJAsEMDh.js";import"./rc-virtual-list-OMMR-gr8.js";import"./rc-tree-aGCJh_41.js";import"./rc-checkbox-nRYcjTPl.js";import"./rc-pagination-ZKXeAm0h.js";import"./rc-select-RmeC3WgB.js";import"./rc-overflow-DEivB5rv.js";import"./throttle-debounce-CUWDS_la.js";import"./rc-input-CIUXRVU8.js";import"./rc-tooltip-Oavn6yow.js";import"./rc-notification-0md6QYDj.js";import"./rc-image-ClDwiN-j.js";import"./rc-textarea-CijmdGy3.js";import"./copy-to-clipboard-0rP7DRqq.js";import"./toggle-selection-DGa8lynz.js";import"./rc-upload-DlrdHvh1.js";import"./rc-progress-BVn0ZmF4.js";import"./rc-dropdown-D4AwxsUk.js";import"./rc-menu-MHhKtfoG.js";import"./rc-field-form-CVOtFEQA.js";import"./scroll-into-view-if-needed-BZeNfFF0.js";import"./compute-scroll-into-view-DWa9QgjM.js";import"./rc-picker-D0kXf0IF.js";import"./rc-tabs-XmQY-w_1.js";import"./react-redux-BrRfTdeB.js";import"./use-sync-external-store-D0ivhzzy.js";import"./@reduxjs-B5J9SSA5.js";import"./redux-DITMfSWq.js";import"./immer-fBqQtvEc.js";import"./redux-thunk-ClJT1hhx.js";import"./reselect-C27TLnWV.js";import"./js-cookie-Cz0CWeBA.js";import"./@radix-ui-BlrBCj0C.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-fXbmorz6.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-C9fmXXva.js";import"./react-style-singleton-DKBZmuKg.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-C10EJNOT.js";import"./use-callback-ref-BoKxM4XI.js";import"./@floating-ui-8J-daYO3.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./lucide-D7hRWJEP.js";import"./axios-DXsv3KKR.js";import"./@syncfusion-BIAkhmGL.js";import"./cookie--_YQFYBD.js";const{Option:c}=u,Qt=()=>{const[a]=e.useForm(),m=E(),{id:n}=F(),r=!!n,[x]=C(),[h]=I(),{data:o,isLoading:y}=L(n,{skip:!r});f.useEffect(()=>{r&&(o!=null&&o.data)&&a.setFieldsValue(o.data)},[o,a,r]);const g=async i=>{try{r?(await h({id:n,data:i}).unwrap(),l.success("Location updated successfully!")):(await x(i).unwrap(),l.success("Location added successfully!")),m("/worldwide-table")}catch(s){l.error(s.message||"Something went wrong")}};return t.jsxs("div",{style:{padding:"20px"},children:[t.jsx(w,{items:[{title:t.jsx("span",{onClick:()=>m("/dashboard"),style:{cursor:"pointer"},children:"Dashboard"})},{title:t.jsx("span",{onClick:()=>m("/worldwide-table"),style:{cursor:"pointer"},children:"Worldwide Locations"})},{title:r?"Edit Location":"Add Location"}],style:{marginBottom:"16px"}}),t.jsx(b,{title:r?"Edit Location":"Add New Location",children:t.jsxs(e,{form:a,layout:"vertical",onFinish:g,initialValues:{category:"international"},children:[t.jsx(e.Item,{name:"category",label:"Category",rules:[{required:!0,message:"Please select a category"}],children:t.jsxs(u,{children:[t.jsx(c,{value:"international",children:"International"}),t.jsx(c,{value:"india",children:"India"})]})}),t.jsx(e.Item,{name:"name",label:"Country Name",rules:[{required:!0,message:"Please enter country name"}],children:t.jsx(p,{})}),t.jsx(e.Item,{noStyle:!0,shouldUpdate:(i,s)=>i.category!==s.category,children:({getFieldValue:i})=>i("category")==="india"&&t.jsxs(t.Fragment,{children:[t.jsx(e.Item,{name:"state",label:"State",rules:[{required:!0,message:"Please enter state"}],children:t.jsx(p,{})}),t.jsx(e.Item,{name:"cities",label:"Cities (Enter up to 5 cities, one per line)",rules:[{required:!0,message:"Please enter at least one city"}],children:t.jsx(p.TextArea,{rows:5,placeholder:"Enter cities, one per line",onChange:s=>{const j=s.target.value.split(`
`).slice(0,5);a.setFieldsValue({cities:j})}})})]})}),t.jsxs(e.Item,{children:[t.jsx(d,{type:"primary",htmlType:"submit",loading:y,children:r?"Update":"Submit"}),t.jsx(d,{style:{marginLeft:"10px"},onClick:()=>m("/worldwide-table"),children:"Cancel"})]})]})})]})};export{Qt as default};
