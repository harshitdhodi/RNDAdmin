import{r as x,eu as f,j as t,aK as c}from"./index-HVo_qOfp-1770117525645.js";const C=()=>{const[l,i]=x.useState({photo:[],imgTitle:[""],altName:[""],address:"",mobiles:[""],emails:[""]}),[h,d]=x.useState([""]),[b,p]=x.useState([]),[N]=f(),j=(a,e)=>{const s=a.target.files[0];if(s){const o=[...h];o[e]=s.name,d(o);const r=[...b];r[e]=s,p(r)}},g=async a=>{a.preventDefault();try{const e=new FormData;b.forEach((s,o)=>{s&&e.append("photo",s)}),e.append("imgTitle",JSON.stringify(l.imgTitle.filter(s=>s))),e.append("altName",JSON.stringify(l.altName.filter(s=>s))),e.append("address",l.address),e.append("mobiles",JSON.stringify(l.mobiles.filter(s=>s))),e.append("emails",JSON.stringify(l.emails.filter(s=>s))),await N(e).unwrap(),i({photo:[],imgTitle:[""],altName:[""],address:"",mobiles:[""],emails:[""]}),d([""]),p([])}catch(e){console.error("Failed to add user:",e)}},u=(a,e,s)=>{i(o=>({...o,[a]:o[a].map((r,y)=>y===e?s:r)}))},n=a=>{i(e=>({...e,[a]:[...e[a],""]})),a==="photo"&&(d(e=>[...e,""]),p(e=>[...e,null]))},m=(a,e)=>{i(s=>({...s,[a]:s[a].filter((o,r)=>r!==e)})),a==="photo"&&(d(s=>s.filter((o,r)=>r!==e)),p(s=>s.filter((o,r)=>r!==e)))};return t.jsx("div",{className:"max-w-2xl mx-auto p-6",children:t.jsxs("form",{onSubmit:g,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium",children:"Photos"}),h.map((a,e)=>t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx("input",{type:"file",onChange:s=>j(s,e),accept:"image/jpeg,image/png,image/gif,image/webp",className:"flex-1 p-2 border rounded",required:!0}),a&&t.jsx("span",{className:"text-sm text-gray-500",children:a}),e>0&&t.jsx("button",{type:"button",onClick:()=>m("photo",e),className:"p-2 text-red-500",children:t.jsx(c,{size:20})})]},e)),t.jsx("button",{type:"button",onClick:()=>n("photo"),className:"text-sm text-yellow-500",children:"+ Add another photo"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium",children:"Image Titles"}),l.imgTitle.map((a,e)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:a,onChange:s=>u("imgTitle",e,s.target.value),placeholder:"Enter image title",className:"flex-1 p-2 border rounded",required:!0}),e>0&&t.jsx("button",{type:"button",onClick:()=>m("imgTitle",e),className:"p-2 text-red-500",children:t.jsx(c,{size:20})})]},e)),t.jsx("button",{type:"button",onClick:()=>n("imgTitle"),className:"text-sm text-yellow-500",children:"+ Add another title"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium",children:"Alternative Names"}),l.altName.map((a,e)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:a,onChange:s=>u("altName",e,s.target.value),placeholder:"Enter alternative name",className:"flex-1 p-2 border rounded",required:!0}),e>0&&t.jsx("button",{type:"button",onClick:()=>m("altName",e),className:"p-2 text-red-500",children:t.jsx(c,{size:20})})]},e)),t.jsx("button",{type:"button",onClick:()=>n("altName"),className:"text-sm text-yellow-500",children:"+ Add another name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Address"}),t.jsx("input",{type:"text",value:l.address,onChange:a=>i(e=>({...e,address:a.target.value})),placeholder:"Enter address",className:"w-full p-2 border rounded",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium",children:"Mobile Numbers"}),l.mobiles.map((a,e)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"tel",value:a,onChange:s=>u("mobiles",e,s.target.value),placeholder:"Enter mobile number",className:"flex-1 p-2 border rounded",required:!0}),e>0&&t.jsx("button",{type:"button",onClick:()=>m("mobiles",e),className:"p-2 text-red-500",children:t.jsx(c,{size:20})})]},e)),t.jsx("button",{type:"button",onClick:()=>n("mobiles"),className:"text-sm text-yellow-500",children:"+ Add another mobile"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium",children:"Email Addresses"}),l.emails.map((a,e)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"email",value:a,onChange:s=>u("emails",e,s.target.value),placeholder:"Enter email address",className:"flex-1 p-2 border rounded",required:!0,pattern:"^\\S+@\\S+\\.\\S+$"}),e>0&&t.jsx("button",{type:"button",onClick:()=>m("emails",e),className:"p-2 text-red-500",children:t.jsx(c,{size:20})})]},e)),t.jsx("button",{type:"button",onClick:()=>n("emails"),className:"text-sm text-yellow-500",children:"+ Add another email"})]}),t.jsx("button",{type:"submit",className:"w-full bg-yellow-500 text-white p-2 rounded hover:bg-yellow-600",children:"Submit"})]})})};export{C as default};
