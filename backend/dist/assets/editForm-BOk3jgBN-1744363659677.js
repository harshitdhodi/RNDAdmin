import{ae as j,af as g,j as e,B as N}from"./main-CYNrSTW--1744363659677.js";import{i as w,f as y,c as u}from"./vendor-C9iLKeEQ-1744363659677.js";const L=()=>{const{id:l}=w(),x=y(),{data:r,isLoading:h,error:d}=j(l),[p,{isLoading:o,error:m}]=g(),[a,c]=u.useState({host:"",name:"",isSSL:!1,isDefault:!1,password:""});u.useEffect(()=>{if(r&&r.data){const s=r.data;c({host:s.host||"",name:s.name||"",isSSL:s.isSSL||!1,isDefault:s.isDefault||!1,password:s.password||""})}},[r]);const t=s=>{const{name:n,value:i,type:b,checked:S}=s.target;c(v=>({...v,[n]:b==="checkbox"?S:i}))},f=async s=>{if(s.preventDefault(),!l){console.error("Server ID is not defined.");return}const n={...a};try{await p({id:l,updatedServer:n}).unwrap(),x("/smtp-table")}catch(i){console.error("Failed to update server:",i)}};return h?e.jsx("p",{children:"Loading..."}):d?e.jsxs("p",{children:["Error fetching server data: ",d.message]}):e.jsxs("div",{className:"p-4 w-full max-w-2xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Edit SMTP Server"}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"host",children:"Host"}),e.jsx("input",{type:"text",id:"host",name:"host",value:a.host,onChange:t,className:"mt-1 block w-full p-2 border rounded-md",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"name",children:"Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:t,className:"mt-1 block w-full p-2 border rounded-md",required:!0})]}),e.jsxs("div",{className:"mb-4 flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isSSL",name:"isSSL",checked:a.isSSL,onChange:t,className:"mr-2"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"isSSL",children:"Use SSL"})]}),e.jsxs("div",{className:"mb-4 flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isDefault",name:"isDefault",checked:a.isDefault,onChange:t,className:"mr-2"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"isDefault",children:"Set as Default"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",value:a.password,onChange:t,className:"mt-1 block w-full p-2 border rounded-md",required:!0})]}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsx(N,{variant:"primary",type:"submit",disabled:o,className:"w-full",children:o?"Updating...":"Update SMTP Server"})})]}),m&&e.jsx("div",{className:"mt-4 text-red-500",children:e.jsxs("p",{children:["Error updating the server: ",m.message]})})]})};export{L as default};
