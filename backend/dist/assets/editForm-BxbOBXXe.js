import{r as e,j as s}from"./react-BfBsRgn0.js";import{Y as t,Z as r,B as a}from"./index-cVSOkL6A.js";import{b as i,a as m}from"./react-router-DUJjWq5j.js";import"./classnames-C3ovBj6j.js";import"./react-dom-DwrudmHt.js";import"./scheduler-BFk34ZWe.js";import"./react-redux-DbBiFgqA.js";import"./use-sync-external-store-DdeJV4gQ.js";import"./@reduxjs-UCSEaN3g.js";import"./redux-C5Huw2aR.js";import"./immer-DgfQkf_7.js";import"./redux-thunk-B3S1iNVp.js";import"./reselect-BSOs5pU1.js";import"./js-cookie-BXEMiIsG.js";import"./@radix-ui-BWjeGzol.js";import"./aria-hidden-BHUiN-rI.js";import"./react-remove-scroll-yauc81_r.js";import"./tslib-Bc9CN1Ef.js";import"./react-remove-scroll-bar-BcxDecei.js";import"./react-style-singleton-C1QVuB2c.js";import"./get-nonce-BYiZHLe3.js";import"./use-sidecar-BA4C4RS7.js";import"./use-callback-ref-Cvx1xcTX.js";import"./@floating-ui-BSChQBl3.js";import"./class-variance-authority-DeOWI0hf.js";import"./clsx-BeLtu-UY.js";import"./tailwind-merge-D2VJQb_v.js";import"./lucide-D6BDVLHE.js";import"./axios-BoylL8Pu.js";import"./@syncfusion-CXokIO9o.js";import"./cookie-BUTH-fPQ.js";const o=()=>{const{id:o}=i(),l=m(),{data:d,isLoading:c,error:n}=t(o),[p,{isLoading:u,error:j}]=r(),[x,h]=e.useState({host:"",name:"",isSSL:!1,isDefault:!1,password:""});e.useEffect((()=>{if(d&&d.data){const e=d.data;h({host:e.host||"",name:e.name||"",isSSL:e.isSSL||!1,isDefault:e.isDefault||!1,password:e.password||""})}}),[d]);const f=e=>{const{name:s,value:t,type:r,checked:a}=e.target;h((e=>({...e,[s]:"checkbox"===r?a:t})))};return c?s.jsx("p",{children:"Loading..."}):n?s.jsxs("p",{children:["Error fetching server data: ",n.message]}):s.jsxs("div",{className:"p-4 w-full max-w-2xl mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Edit SMTP Server"}),s.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!o)return;const s={...x};try{await p({id:o,updatedServer:s}).unwrap(),l("/smtp-table")}catch(t){}},children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"host",children:"Host"}),s.jsx("input",{type:"text",id:"host",name:"host",value:x.host,onChange:f,className:"mt-1 block w-full p-2 border rounded-md",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"name",children:"Name"}),s.jsx("input",{type:"text",id:"name",name:"name",value:x.name,onChange:f,className:"mt-1 block w-full p-2 border rounded-md",required:!0})]}),s.jsxs("div",{className:"mb-4 flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isSSL",name:"isSSL",checked:x.isSSL,onChange:f,className:"mr-2"}),s.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"isSSL",children:"Use SSL"})]}),s.jsxs("div",{className:"mb-4 flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isDefault",name:"isDefault",checked:x.isDefault,onChange:f,className:"mr-2"}),s.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"isDefault",children:"Set as Default"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"password",children:"Password"}),s.jsx("input",{type:"password",id:"password",name:"password",value:x.password,onChange:f,className:"mt-1 block w-full p-2 border rounded-md",required:!0})]}),s.jsx("div",{className:"flex justify-between items-center",children:s.jsx(a,{variant:"primary",type:"submit",disabled:u,className:"w-full",children:u?"Updating...":"Update SMTP Server"})})]}),j&&s.jsx("div",{className:"mt-4 text-red-500",children:s.jsxs("p",{children:["Error updating the server: ",j.message]})})]})};export{o as default};
