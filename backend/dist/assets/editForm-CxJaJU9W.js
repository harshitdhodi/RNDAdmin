import{r as p,j as e}from"./react-DKICu8bO.js";import{Y as j,Z as g,B as N}from"./index-CDFtkn6X.js";import{b as w,a as y}from"./react-router-B9QVkYva.js";import"./classnames-Bv6oJzD9.js";import"./react-dom-BBS6HuAW.js";import"./scheduler-CKyTKYc2.js";import"./react-redux-BrRfTdeB.js";import"./use-sync-external-store-D0ivhzzy.js";import"./@reduxjs-B5J9SSA5.js";import"./redux-DITMfSWq.js";import"./immer-fBqQtvEc.js";import"./redux-thunk-ClJT1hhx.js";import"./reselect-C27TLnWV.js";import"./js-cookie-Cz0CWeBA.js";import"./@radix-ui-BlrBCj0C.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-fXbmorz6.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-C9fmXXva.js";import"./react-style-singleton-DKBZmuKg.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-C10EJNOT.js";import"./use-callback-ref-BoKxM4XI.js";import"./@floating-ui-8J-daYO3.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./lucide-D7hRWJEP.js";import"./axios-DXsv3KKR.js";import"./@syncfusion-BIAkhmGL.js";import"./cookie--_YQFYBD.js";const se=()=>{const{id:i}=w(),u=y(),{data:a,isLoading:x,error:l}=j(i),[h,{isLoading:n,error:d}]=g(),[s,c]=p.useState({host:"",name:"",isSSL:!1,isDefault:!1,password:""});p.useEffect(()=>{if(a&&a.data){const t=a.data;c({host:t.host||"",name:t.name||"",isSSL:t.isSSL||!1,isDefault:t.isDefault||!1,password:t.password||""})}},[a]);const r=t=>{const{name:o,value:m,type:b,checked:S}=t.target;c(v=>({...v,[o]:b==="checkbox"?S:m}))},f=async t=>{if(t.preventDefault(),!i){console.error("Server ID is not defined.");return}const o={...s};try{await h({id:i,updatedServer:o}).unwrap(),u("/smtp-table")}catch(m){console.error("Failed to update server:",m)}};return x?e.jsx("p",{children:"Loading..."}):l?e.jsxs("p",{children:["Error fetching server data: ",l.message]}):e.jsxs("div",{className:"p-4 w-full max-w-2xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Edit SMTP Server"}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"host",children:"Host"}),e.jsx("input",{type:"text",id:"host",name:"host",value:s.host,onChange:r,className:"mt-1 block w-full p-2 border rounded-md",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"name",children:"Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:r,className:"mt-1 block w-full p-2 border rounded-md",required:!0})]}),e.jsxs("div",{className:"mb-4 flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isSSL",name:"isSSL",checked:s.isSSL,onChange:r,className:"mr-2"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"isSSL",children:"Use SSL"})]}),e.jsxs("div",{className:"mb-4 flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isDefault",name:"isDefault",checked:s.isDefault,onChange:r,className:"mr-2"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"isDefault",children:"Set as Default"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",value:s.password,onChange:r,className:"mt-1 block w-full p-2 border rounded-md",required:!0})]}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsx(N,{variant:"primary",type:"submit",disabled:n,className:"w-full",children:n?"Updating...":"Update SMTP Server"})})]}),d&&e.jsx("div",{className:"mt-4 text-red-500",children:e.jsxs("p",{children:["Error updating the server: ",d.message]})})]})};export{se as default};
