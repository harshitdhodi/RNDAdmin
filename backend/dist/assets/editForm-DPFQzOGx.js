import{ad as e,ae as s,j as a,B as t}from"./main-DeRxjK88.js";import{g as r,d as l,r as d}from"./vendor-router-Bu4EHm1B.js";import"./vendor-react-CI5aWZjI.js";import"./vendor-utils-BfOc9lHv.js";const i=()=>{const{id:i}=r(),m=l(),{data:n,isLoading:o,error:c}=e(i),[x,{isLoading:u,error:h}]=s(),[p,f]=d.useState({host:"",name:"",isSSL:!1,isDefault:!1,password:""});d.useEffect((()=>{if(n&&n.data){const e=n.data;f({host:e.host||"",name:e.name||"",isSSL:e.isSSL||!1,isDefault:e.isDefault||!1,password:e.password||""})}}),[n]);const j=e=>{const{name:s,value:a,type:t,checked:r}=e.target;f((e=>({...e,[s]:"checkbox"===t?r:a})))};return o?a.jsx("p",{children:"Loading..."}):c?a.jsxs("p",{children:["Error fetching server data: ",c.message]}):a.jsxs("div",{className:"p-4 w-full max-w-2xl mx-auto",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Edit SMTP Server"}),a.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!i)return;const s={...p};try{await x({id:i,updatedServer:s}).unwrap(),m("/smtp-table")}catch(a){}},children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"host",children:"Host"}),a.jsx("input",{type:"text",id:"host",name:"host",value:p.host,onChange:j,className:"mt-1 block w-full p-2 border rounded-md",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"name",children:"Name"}),a.jsx("input",{type:"text",id:"name",name:"name",value:p.name,onChange:j,className:"mt-1 block w-full p-2 border rounded-md",required:!0})]}),a.jsxs("div",{className:"mb-4 flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isSSL",name:"isSSL",checked:p.isSSL,onChange:j,className:"mr-2"}),a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"isSSL",children:"Use SSL"})]}),a.jsxs("div",{className:"mb-4 flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isDefault",name:"isDefault",checked:p.isDefault,onChange:j,className:"mr-2"}),a.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"isDefault",children:"Set as Default"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"password",children:"Password"}),a.jsx("input",{type:"password",id:"password",name:"password",value:p.password,onChange:j,className:"mt-1 block w-full p-2 border rounded-md",required:!0})]}),a.jsx("div",{className:"flex justify-between items-center",children:a.jsx(t,{variant:"primary",type:"submit",disabled:u,className:"w-full",children:u?"Updating...":"Update SMTP Server"})})]}),h&&a.jsx("div",{className:"mt-4 text-red-500",children:a.jsxs("p",{children:["Error updating the server: ",h.message]})})]})};export{i as default};
//# sourceMappingURL=editForm-DPFQzOGx.js.map
