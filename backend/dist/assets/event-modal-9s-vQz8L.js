import{a as e,j as s}from"./react-BfBsRgn0.js";import{h as a}from"./moment-f4tm6vQK.js";import{D as t,i as n,j as i,k as l,L as r,I as d,ab as c,B as m}from"./index-cVSOkL6A.js";import{T as o,a as h,b as j,c as x,d as g,e as p}from"./table-6AWYD7bR.js";import{h as v,e as N,j as f}from"./lucide-D6BDVLHE.js";const D=({isOpen:D,onClose:w,event:u,events:C,onSave:E,onDelete:Y,onEdit:T,onAddNew:k,mode:S})=>{const[F,b]=e.useState({title:"",start:new Date,end:new Date,...u});e.useEffect((()=>{b({title:"",start:new Date,end:new Date,...u})}),[u]);const y=e=>{const{name:s,value:a}=e.target;b((e=>({...e,[s]:"title"===s?a:new Date(a)})))},A=()=>{E(F),w()};return s.jsx(t,{open:D,onOpenChange:w,children:s.jsxs(n,{children:[s.jsx(i,{children:s.jsx(l,{children:"edit"===S?"Edit Event":"add"===S?"Add New Event":"Events for Selected Date"})}),"list"===S?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs(m,{onClick:k,className:"flex items-center gap-2",children:[s.jsx(v,{className:"w-4 h-4"})," Add New Event"]})}),s.jsxs(o,{children:[s.jsx(h,{children:s.jsxs(j,{children:[s.jsx(x,{children:"Title"}),s.jsx(x,{children:"Start"}),s.jsx(x,{children:"End"}),s.jsx(x,{children:"Actions"})]})}),s.jsx(g,{children:C.map((e=>s.jsxs(j,{children:[s.jsx(p,{children:e.title}),s.jsx(p,{children:a(e.start).format("LT")}),s.jsx(p,{children:a(e.end).format("LT")}),s.jsx(p,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(m,{variant:"ghost",size:"icon",onClick:()=>T(e),children:s.jsx(N,{className:"w-4 h-4"})}),s.jsx(m,{variant:"ghost",size:"icon",onClick:()=>Y(e.id),children:s.jsx(f,{className:"w-4 h-4"})})]})})]},e.id)))})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(r,{htmlFor:"title",className:"text-right",children:"Title"}),s.jsx(d,{id:"title",name:"title",value:F.title,onChange:y,className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(r,{htmlFor:"start",className:"text-right",children:"Start"}),s.jsx(d,{id:"start",name:"start",type:"datetime-local",value:a(F.start).format("YYYY-MM-DDTHH:mm"),onChange:y,className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(r,{htmlFor:"end",className:"text-right",children:"End"}),s.jsx(d,{id:"end",name:"end",type:"datetime-local",value:a(F.end).format("YYYY-MM-DDTHH:mm"),onChange:y,className:"col-span-3"})]})]}),s.jsxs(c,{children:["edit"===S&&s.jsx(m,{variant:"destructive",onClick:()=>Y(F.id),children:"Delete"}),s.jsx(m,{onClick:A,children:"Save"})]})]})]})})};export{D as E};
