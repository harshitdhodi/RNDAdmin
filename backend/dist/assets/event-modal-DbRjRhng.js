import{a as v,j as e}from"./react-DKICu8bO.js";import{h as l}from"./moment-C5S46NFB.js";import{D as k,i as F,j as H,k as S,L as o,I as h,aa as y,B as t}from"./index-CDFtkn6X.js";import{T as L,a as M,b as D,c as n,d as A,e as r}from"./table-BxxugdeG.js";import{h as B,e as I,j as R}from"./lucide-D7hRWJEP.js";const J=({isOpen:N,onClose:m,event:d,events:f,onSave:u,onDelete:x,onEdit:T,onAddNew:E,mode:i})=>{const[a,j]=v.useState({title:"",start:new Date,end:new Date,...d});v.useEffect(()=>{j({title:"",start:new Date,end:new Date,...d})},[d]);const c=s=>{const{name:g,value:p}=s.target;j(Y=>({...Y,[g]:g==="title"?p:new Date(p)}))},w=()=>{u(a),m()},C=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(o,{htmlFor:"title",className:"text-right",children:"Title"}),e.jsx(h,{id:"title",name:"title",value:a.title,onChange:c,className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(o,{htmlFor:"start",className:"text-right",children:"Start"}),e.jsx(h,{id:"start",name:"start",type:"datetime-local",value:l(a.start).format("YYYY-MM-DDTHH:mm"),onChange:c,className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(o,{htmlFor:"end",className:"text-right",children:"End"}),e.jsx(h,{id:"end",name:"end",type:"datetime-local",value:l(a.end).format("YYYY-MM-DDTHH:mm"),onChange:c,className:"col-span-3"})]})]}),e.jsxs(y,{children:[i==="edit"&&e.jsx(t,{variant:"destructive",onClick:()=>x(a.id),children:"Delete"}),e.jsx(t,{onClick:w,children:"Save"})]})]}),b=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs(t,{onClick:E,className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4"})," Add New Event"]})}),e.jsxs(L,{children:[e.jsx(M,{children:e.jsxs(D,{children:[e.jsx(n,{children:"Title"}),e.jsx(n,{children:"Start"}),e.jsx(n,{children:"End"}),e.jsx(n,{children:"Actions"})]})}),e.jsx(A,{children:f.map(s=>e.jsxs(D,{children:[e.jsx(r,{children:s.title}),e.jsx(r,{children:l(s.start).format("LT")}),e.jsx(r,{children:l(s.end).format("LT")}),e.jsx(r,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{variant:"ghost",size:"icon",onClick:()=>T(s),children:e.jsx(I,{className:"w-4 h-4"})}),e.jsx(t,{variant:"ghost",size:"icon",onClick:()=>x(s.id),children:e.jsx(R,{className:"w-4 h-4"})})]})})]},s.id))})]})]});return e.jsx(k,{open:N,onOpenChange:m,children:e.jsxs(F,{children:[e.jsx(H,{children:e.jsx(S,{children:i==="edit"?"Edit Event":i==="add"?"Add New Event":"Events for Selected Date"})}),i==="list"?b():C()]})})};export{J as E};
