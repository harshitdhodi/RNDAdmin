import{n as e}from"./toArray-DkI11MDQ.js";import{r as t,R as n}from"./vendor-router-Bu4EHm1B.js";import{a6 as o,p as l,L as r,z as a,B as c,a7 as s,v as i,a8 as u,a9 as f,C as m,e as d,c as p,aa as g,ab as b,ac as C,ad as y,l as x,a as v,a3 as O,ae as j,q as h,af as k,ag as E,ah as $,ai as P,a5 as T}from"./index-lUiyPlMq.js";import{R as w}from"./CheckCircleFilled-DiSUBvU5.js";import{R as N}from"./ExclamationCircleFilled-DZysw_83.js";import{R as I}from"./InfoCircleFilled-D8dKuFWy.js";import{A as S}from"./ActionButton-xPc0Gc43.js";import{u as B,D as M,p as F,a as z,P as L}from"./index-Bz7nO4c4.js";import{S as R}from"./Skeleton-3ezOyxdU.js";import{w as A}from"./dropdown-B7KEEEnN.js";const H=n.createContext({}),{Provider:q}=H,W=()=>{const{autoFocusButton:e,cancelButtonProps:o,cancelTextLocale:l,isSilent:r,mergedOkCancel:a,rootPrefixCls:c,close:s,onCancel:i,onConfirm:u}=t.useContext(H);return a?n.createElement(S,{isSilent:r,actionFn:i,close:function(){null==s||s.apply(void 0,arguments),null==u||u(!1)},autoFocus:"cancel"===e,buttonProps:o,prefixCls:`${c}-btn`},l):null},D=()=>{const{autoFocusButton:e,close:o,isSilent:l,okButtonProps:r,rootPrefixCls:a,okTextLocale:c,okType:s,onConfirm:i,onOk:u}=t.useContext(H);return n.createElement(S,{isSilent:l,type:s||"primary",actionFn:u,close:function(){null==o||o.apply(void 0,arguments),null==i||i(!0)},autoFocus:"ok"===e,buttonProps:r,prefixCls:`${a}-btn`},c)};function X(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function Y(e){const{closable:t,closeIcon:o}=e||{};return n.useMemo((()=>{if(!t&&(!1===t||!1===o||null===o))return!1;if(void 0===t&&void 0===o)return null;let e={closeIcon:"boolean"!=typeof o&&null!==o?o:void 0};return t&&"object"==typeof t&&(e=Object.assign(Object.assign({},e),t)),e}),[t,o])}function G(){const e={};for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach((t=>{t&&Object.keys(t).forEach((n=>{void 0!==t[n]&&(e[n]=t[n])}))})),e}const Q={};function U(){}const V=t.createContext({add:U,remove:U});const _=()=>{const{cancelButtonProps:e,cancelTextLocale:o,onCancel:l}=t.useContext(H);return n.createElement(c,Object.assign({onClick:l},e),o)},J=()=>{const{confirmLoading:e,okButtonProps:o,okType:l,okTextLocale:r,onOk:a}=t.useContext(H);return n.createElement(c,Object.assign({},s(l),{loading:e,onClick:a},o),r)};function K(e,t){return n.createElement("span",{className:`${e}-close-x`},t||n.createElement(o,{className:`${e}-close-icon`}))}const Z=t=>{const{okText:o,okType:l="primary",cancelText:r,confirmLoading:a,onOk:c,onCancel:s,okButtonProps:m,cancelButtonProps:d,footer:p}=t,[g]=i("Modal",f()),b={confirmLoading:a,okButtonProps:m,cancelButtonProps:d,okTextLocale:o||(null==g?void 0:g.okText),cancelTextLocale:r||(null==g?void 0:g.cancelText),okType:l,onOk:c,onCancel:s},C=n.useMemo((()=>b),e(Object.values(b)));let y;return"function"==typeof p||void 0===p?(y=n.createElement(n.Fragment,null,n.createElement(_,null),n.createElement(J,null)),"function"==typeof p&&(y=p(y,{OkBtn:J,CancelBtn:_})),y=n.createElement(q,{value:C},y)):y=p,n.createElement(u,{disabled:!1},y)};let ee;const te=e=>{ee={x:e.pageX,y:e.pageY},setTimeout((()=>{ee=null}),100)};r()&&window.document.documentElement&&document.documentElement.addEventListener("click",te,!0);const ne=e=>{const{prefixCls:r,className:c,rootClassName:s,open:i,wrapClassName:u,centered:f,getContainer:x,focusTriggerAfterClose:v=!0,style:O,visible:j,width:h=520,footer:k,classNames:E,styles:$,children:P,loading:T,confirmLoading:w,zIndex:N,mousePosition:I,onOk:S,onCancel:F}=e,z=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n}(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel"]),{getPopupContainer:L,getPrefixCls:A,direction:H,modal:q}=t.useContext(m),W=e=>{w||null==F||F(e)},D=A("modal",r),U=A(),_=d(D),[J,te,ne]=B(D,_),oe=p(u,{[`${D}-centered`]:null!=f?f:null==q?void 0:q.centered,[`${D}-wrap-rtl`]:"rtl"===H}),le=null===k||T?null:t.createElement(Z,Object.assign({},e,{onOk:e=>{null==S||S(e)},onCancel:W})),[re,ae,ce]=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Q;const a=Y(e),c=Y(t),s="boolean"!=typeof a&&!!(null==a?void 0:a.disabled),i=n.useMemo((()=>Object.assign({closeIcon:n.createElement(o,null)},r)),[r]),u=n.useMemo((()=>!1!==a&&(a?G(i,c,a):!1!==c&&(c?G(i,c):!!i.closable&&i))),[a,c,i]);return n.useMemo((()=>{if(!1===u)return[!1,null,s];const{closeIconRender:e}=i,{closeIcon:t}=u;let o=t;if(null!=o){e&&(o=e(t));const r=l(u,!0);Object.keys(r).length&&(o=n.isValidElement(o)?n.cloneElement(o,r):n.createElement("span",Object.assign({},r),o))}return[!0,o,s]}),[u,i])}(X(e),X(q),{closable:!0,closeIcon:t.createElement(o,{className:`${D}-close-icon`}),closeIconRender:e=>K(D,e)}),se=function(e){const n=t.useContext(V),o=t.useRef(null);return a((t=>{if(t){const l=e?t.querySelector(e):t;n.add(l),o.current=l}else n.remove(o.current)}))}(`.${D}-content`),[ie,ue]=g("Modal",N),[fe,me]=t.useMemo((()=>h&&"object"==typeof h?[void 0,h]:[h,void 0]),[h]),de=t.useMemo((()=>{const e={};return me&&Object.keys(me).forEach((t=>{const n=me[t];void 0!==n&&(e[`--${D}-${t}-width`]="number"==typeof n?`${n}px`:n)})),e}),[me]);return J(t.createElement(b,{form:!0,space:!0},t.createElement(C.Provider,{value:ue},t.createElement(M,Object.assign({width:fe},z,{zIndex:ie,getContainer:void 0===x?L:x,prefixCls:D,rootClassName:p(te,s,ne,_),footer:le,visible:null!=i?i:j,mousePosition:null!=I?I:ee,onClose:W,closable:re?{disabled:ce,closeIcon:ae}:re,closeIcon:ae,focusTriggerAfterClose:v,transitionName:y(U,"zoom",e.transitionName),maskTransitionName:y(U,"fade",e.maskTransitionName),className:p(te,c,null==q?void 0:q.className),style:Object.assign(Object.assign(Object.assign({},null==q?void 0:q.style),O),de),classNames:Object.assign(Object.assign(Object.assign({},null==q?void 0:q.classNames),E),{wrapper:p(oe,null==E?void 0:E.wrapper)}),styles:Object.assign(Object.assign({},null==q?void 0:q.styles),$),panelRef:se}),T?t.createElement(R,{active:!0,title:!1,paragraph:{rows:4},className:`${D}-body-skeleton`}):P))))},oe=e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:o,modalConfirmIconSize:l,fontSize:r,lineHeight:a,modalTitleHeight:c,fontHeight:s,confirmBodyPadding:i}=e,u=`${t}-confirm`;return{[u]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${u}-body-wrapper`]:Object.assign({},O()),[`&${t} ${t}-body`]:{padding:i},[`${u}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:l,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(s).sub(l).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(c).sub(l).equal()).div(2).equal()}},[`${u}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${v(e.marginSM)})`},[`${e.iconCls} + ${u}-paragraph`]:{maxWidth:`calc(100% - ${v(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${u}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:o},[`${u}-content`]:{color:e.colorText,fontSize:r,lineHeight:a},[`${u}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${u}-error ${u}-body > ${e.iconCls}`]:{color:e.colorError},[`${u}-warning ${u}-body > ${e.iconCls},\n        ${u}-confirm ${u}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${u}-info ${u}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${u}-success ${u}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},le=x(["Modal","confirm"],(e=>{const t=F(e);return[oe(t)]}),z,{order:-1e3});function re(n){const{prefixCls:o,icon:l,okText:r,cancelText:a,confirmPrefixCls:c,type:s,okCancel:u,footer:f,locale:m}=n,d=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n}(n,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let g=l;if(!l&&null!==l)switch(s){case"info":g=t.createElement(I,null);break;case"success":g=t.createElement(w,null);break;case"error":g=t.createElement(E,null);break;default:g=t.createElement(N,null)}const b=null!=u?u:"confirm"===s,C=null!==n.autoFocusButton&&(n.autoFocusButton||"ok"),[y]=i("Modal"),x=m||y,v=r||(b?null==x?void 0:x.okText:null==x?void 0:x.justOkText),O=a||(null==x?void 0:x.cancelText),j=Object.assign({autoFocusButton:C,cancelTextLocale:O,okTextLocale:v,mergedOkCancel:b},d),h=t.useMemo((()=>j),e(Object.values(j))),k=t.createElement(t.Fragment,null,t.createElement(W,null),t.createElement(D,null)),$=void 0!==n.title&&null!==n.title,P=`${c}-body`;return t.createElement("div",{className:`${c}-body-wrapper`},t.createElement("div",{className:p(P,{[`${P}-has-title`]:$})},g,t.createElement("div",{className:`${c}-paragraph`},$&&t.createElement("span",{className:`${c}-title`},n.title),t.createElement("div",{className:`${c}-content`},n.content))),void 0===f||"function"==typeof f?t.createElement(q,{value:h},t.createElement("div",{className:`${c}-btns`},"function"==typeof f?f(k,{OkBtn:D,CancelBtn:W}):k)):f,t.createElement(le,{prefixCls:o}))}const ae=e=>{const{close:n,zIndex:o,maskStyle:l,direction:r,prefixCls:a,wrapClassName:c,rootPrefixCls:s,bodyStyle:i,closable:u=!1,onConfirm:f,styles:m}=e,d=`${a}-confirm`,g=e.width||416,b=e.style||{},C=void 0===e.mask||e.mask,x=void 0!==e.maskClosable&&e.maskClosable,v=p(d,`${d}-${e.type}`,{[`${d}-rtl`]:"rtl"===r},e.className),[,O]=h(),j=t.useMemo((()=>void 0!==o?o:O.zIndexPopupBase+k),[o,O]);return t.createElement(ne,Object.assign({},e,{className:v,wrapClassName:p({[`${d}-centered`]:!!e.centered},c),onCancel:()=>{null==n||n({triggerCancel:!0}),null==f||f(!1)},title:"",footer:null,transitionName:y(s||"","zoom",e.transitionName),maskTransitionName:y(s||"","fade",e.maskTransitionName),mask:C,maskClosable:x,style:b,styles:Object.assign({body:i,mask:l},m),width:g,zIndex:j,closable:u}),t.createElement(re,Object.assign({},e,{confirmPrefixCls:d})))},ce=e=>{const{rootPrefixCls:n,iconPrefixCls:o,direction:l,theme:r}=e;return t.createElement(j,{prefixCls:n,iconPrefixCls:o,direction:l,theme:r},t.createElement(ae,Object.assign({},e)))},se=[];let ie="";function ue(){return ie}const fe=e=>{var o,l;const{prefixCls:r,getContainer:a,direction:c}=e,s=f(),i=t.useContext(m),u=ue()||i.getPrefixCls(),d=r||`${u}-modal`;let p=a;return!1===p&&(p=void 0),n.createElement(ce,Object.assign({},e,{rootPrefixCls:u,prefixCls:d,iconPrefixCls:i.iconPrefixCls,theme:i.theme,direction:null!=c?c:i.direction,locale:null!==(l=null===(o=i.locale)||void 0===o?void 0:o.Modal)&&void 0!==l?l:s,getContainer:p}))};function me(t){const o=$(),l=document.createDocumentFragment();let r,a,c=Object.assign(Object.assign({},t),{close:u,open:!0});function s(){for(var n,o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];var c;l.some((e=>null==e?void 0:e.triggerCancel))&&(null===(n=t.onCancel)||void 0===n||(c=n).call.apply(c,[t,()=>{}].concat(e(l.slice(1)))));for(let e=0;e<se.length;e++){if(se[e]===u){se.splice(e,1);break}}a()}function i(e){clearTimeout(r),r=setTimeout((()=>{const t=o.getPrefixCls(void 0,ue()),r=o.getIconPrefixCls(),c=o.getTheme(),s=n.createElement(fe,Object.assign({},e)),i=P();a=i(n.createElement(j,{prefixCls:t,iconPrefixCls:r,theme:c},o.holderRender?o.holderRender(s):s),l)}))}function u(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];c=Object.assign(Object.assign({},c),{open:!1,afterClose:()=>{"function"==typeof t.afterClose&&t.afterClose(),s.apply(this,n)}}),c.visible&&delete c.visible,i(c)}return i(c),se.push(u),{destroy:u,update:function(e){c="function"==typeof e?e(c):Object.assign(Object.assign({},c),e),i(c)}}}function de(e){return Object.assign(Object.assign({},e),{type:"warning"})}function pe(e){return Object.assign(Object.assign({},e),{type:"info"})}function ge(e){return Object.assign(Object.assign({},e),{type:"success"})}function be(e){return Object.assign(Object.assign({},e),{type:"error"})}function Ce(e){return Object.assign(Object.assign({},e),{type:"confirm"})}var ye=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const xe=(n,o)=>{var l,{afterClose:r,config:a}=n,c=ye(n,["afterClose","config"]);const[s,u]=t.useState(!0),[f,d]=t.useState(a),{direction:p,getPrefixCls:g}=t.useContext(m),b=g("modal"),C=g(),y=function(){var t;u(!1);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];var r;o.some((e=>null==e?void 0:e.triggerCancel))&&(null===(t=f.onCancel)||void 0===t||(r=t).call.apply(r,[f,()=>{}].concat(e(o.slice(1)))))};t.useImperativeHandle(o,(()=>({destroy:y,update:e=>{d((t=>Object.assign(Object.assign({},t),e)))}})));const x=null!==(l=f.okCancel)&&void 0!==l?l:"confirm"===f.type,[v]=i("Modal",T.Modal);return t.createElement(ce,Object.assign({prefixCls:b,rootPrefixCls:C},f,{close:y,open:s,afterClose:()=>{var e;r(),null===(e=f.afterClose)||void 0===e||e.call(f)},okText:f.okText||(x?null==v?void 0:v.okText:null==v?void 0:v.justOkText),direction:f.direction||p,cancelText:f.cancelText||(null==v?void 0:v.cancelText)},c))},ve=t.forwardRef(xe);let Oe=0;const je=t.memo(t.forwardRef(((n,o)=>{const[l,r]=function(){const[n,o]=t.useState([]);return[n,t.useCallback((t=>(o((n=>[].concat(e(n),[t]))),()=>{o((e=>e.filter((e=>e!==t))))})),[])]}();return t.useImperativeHandle(o,(()=>({patchElement:r})),[]),t.createElement(t.Fragment,null,l)})));var he=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const ke=A((e=>{const{prefixCls:n,className:o,closeIcon:l,closable:r,type:a,title:c,children:s,footer:i}=e,u=he(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:f}=t.useContext(m),g=f(),b=n||f("modal"),C=d(g),[y,x,v]=B(b,C),O=`${b}-confirm`;let j={};return j=a?{closable:null!=r&&r,title:"",footer:"",children:t.createElement(re,Object.assign({},e,{prefixCls:b,confirmPrefixCls:O,rootPrefixCls:g,content:s}))}:{closable:null==r||r,title:c,footer:null!==i&&t.createElement(Z,Object.assign({},e)),children:s},y(t.createElement(L,Object.assign({prefixCls:b,className:p(x,`${b}-pure-panel`,a&&O,a&&`${O}-${a}`,o,v,C)},u,{closeIcon:K(b,l),closable:r},j)))}));function Ee(e){return me(de(e))}const $e=ne;$e.useModal=function(){const n=t.useRef(null),[o,l]=t.useState([]);t.useEffect((()=>{if(o.length){e(o).forEach((e=>{e()})),l([])}}),[o]);const r=t.useCallback((o=>function(r){var a;Oe+=1;const c=t.createRef();let s;const i=new Promise((e=>{s=e}));let u,f=!1;const m=t.createElement(ve,{key:`modal-${Oe}`,config:o(r),ref:c,afterClose:()=>{null==u||u()},isSilent:()=>f,onConfirm:e=>{s(e)}});u=null===(a=n.current)||void 0===a?void 0:a.patchElement(m),u&&se.push(u);const d={destroy:()=>{function t(){var e;null===(e=c.current)||void 0===e||e.destroy()}c.current?t():l((n=>[].concat(e(n),[t])))},update:t=>{function n(){var e;null===(e=c.current)||void 0===e||e.update(t)}c.current?n():l((t=>[].concat(e(t),[n])))},then:e=>(f=!0,i.then(e))};return d}),[]);return[t.useMemo((()=>({info:r(pe),success:r(ge),error:r(be),warning:r(de),confirm:r(Ce)})),[]),t.createElement(je,{key:"modal-holder",ref:n})]},$e.info=function(e){return me(pe(e))},$e.success=function(e){return me(ge(e))},$e.error=function(e){return me(be(e))},$e.warning=Ee,$e.warn=Ee,$e.confirm=function(e){return me(Ce(e))},$e.destroyAll=function(){for(;se.length;){const e=se.pop();e&&e()}},$e.config=function(e){let{rootPrefixCls:t}=e;ie=t},$e._InternalPanelDoNotUseOrYouWillBeFired=ke;export{$e as M};
//# sourceMappingURL=index-BeYydUON.js.map
