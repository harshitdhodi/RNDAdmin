import{r as e}from"./vendor-router-Bu4EHm1B.js";import{C as t,c as n,F as o,g as r,m as a,w as s,p as l,h as i,z as u,I as c,D as p,o as f,d,j as m,Z as v,B as g}from"./index-lUiyPlMq.js";import{k as y,i as b,a as O,f as x}from"./getAllowClear-exXUluB6.js";import{I as C,u as h,R as j}from"./Input-BufppJmu.js";import{n as E,d as w}from"./toArray-DkI11MDQ.js";import{R as P}from"./EyeOutlined-B2vwqoE1.js";import{T as k}from"./TextArea-BEMUKMsu.js";const $=e=>{const{componentCls:t,paddingXS:n}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}},z=r(["Input","OTP"],(e=>{const t=a(e,b(e));return[$(t)]}),O);var I=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const S=e.forwardRef(((t,n)=>{const{value:o,onChange:r,onActiveChange:a,index:l,mask:i}=t,u=I(t,["value","onChange","onActiveChange","index","mask"]),c=o&&"string"==typeof i?i:o,p=e.useRef(null);e.useImperativeHandle(n,(()=>p.current));const f=()=>{s((()=>{var e;const t=null===(e=p.current)||void 0===e?void 0:e.input;document.activeElement===t&&t&&t.select()}))};return e.createElement(C,Object.assign({type:!0===i?"password":"text"},u,{ref:p,value:c,onInput:e=>{r(l,e.target.value)},onFocus:f,onKeyDown:e=>{const{key:t,ctrlKey:n,metaKey:o}=e;"ArrowLeft"===t?a(l-1):"ArrowRight"===t?a(l+1):"z"===t&&(n||o)&&e.preventDefault(),f()},onKeyUp:e=>{"Backspace"!==e.key||o||a(l-1),f()},onMouseDown:f,onMouseUp:f}))}));function M(e){return(e||"").split("")}const A=t=>{const{index:n,prefixCls:o,separator:r}=t,a="function"==typeof r?r(n):r;return a?e.createElement("span",{className:`${o}-separator`},a):null},N=e.forwardRef(((r,a)=>{const{prefixCls:s,length:c=6,size:p,defaultValue:f,value:d,onChange:m,formatter:v,separator:g,variant:y,disabled:b,status:O,autoFocus:C,mask:h,type:j,onInput:w,inputMode:P}=r,k=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(r,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:$,direction:I}=e.useContext(t),N=$("otp",s),R=l(k,{aria:!0,data:!0,attr:!0}),[D,B,F]=z(N),T=i((e=>null!=p?p:e)),L=e.useContext(o),X=x(L.status,O),q=e.useMemo((()=>Object.assign(Object.assign({},L),{status:X,hasFeedback:!1,feedbackIcon:null})),[L,X]),K=e.useRef(null),Q=e.useRef({});e.useImperativeHandle(a,(()=>({focus:()=>{var e;null===(e=Q.current[0])||void 0===e||e.focus()},blur:()=>{var e;for(let t=0;t<c;t+=1)null===(e=Q.current[t])||void 0===e||e.blur()},nativeElement:K.current})));const U=e=>v?v(e):e,[V,_]=e.useState((()=>M(U(f||""))));e.useEffect((()=>{void 0!==d&&_(M(d))}),[d]);const G=u((e=>{_(e),w&&w(e),m&&e.length===c&&e.every((e=>e))&&e.some(((e,t)=>V[t]!==e))&&m(e.join(""))})),H=u(((e,t)=>{let n=E(V);for(let r=0;r<e;r+=1)n[r]||(n[r]="");t.length<=1?n[e]=t:n=n.slice(0,e).concat(M(t)),n=n.slice(0,c);for(let r=n.length-1;r>=0&&!n[r];r-=1)n.pop();const o=U(n.map((e=>e||" ")).join(""));return n=M(o).map(((e,t)=>" "!==e||n[t]?e:n[t])),n})),W=(e,t)=>{var n;const o=H(e,t),r=Math.min(e+t.length,c-1);r!==e&&void 0!==o[e]&&(null===(n=Q.current[r])||void 0===n||n.focus()),G(o)},Z=e=>{var t;null===(t=Q.current[e])||void 0===t||t.focus()},J={variant:y,disabled:b,status:X,mask:h,type:j,inputMode:P};return D(e.createElement("div",Object.assign({},R,{ref:K,className:n(N,{[`${N}-sm`]:"small"===T,[`${N}-lg`]:"large"===T,[`${N}-rtl`]:"rtl"===I},F,B)}),e.createElement(o.Provider,{value:q},Array.from({length:c}).map(((t,n)=>{const o=`otp-${n}`,r=V[n]||"";return e.createElement(e.Fragment,{key:o},e.createElement(S,Object.assign({ref:e=>{Q.current[n]=e},index:n,size:T,htmlSize:1,className:`${N}-input`,onChange:W,value:r,onActiveChange:Z,autoFocus:0===n&&C},J)),n<c-1&&e.createElement(A,{separator:g,index:n,prefixCls:N}))})))))}));var R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},D=function(t,n){return e.createElement(c,w({},t,{ref:n,icon:R}))},B=e.forwardRef(D);const F=t=>t?e.createElement(P,null):e.createElement(B,null),T={click:"onClick",hover:"onMouseOver"},L=e.forwardRef(((o,r)=>{const{disabled:a,action:s="click",visibilityToggle:l=!0,iconRender:i=F}=o,u=e.useContext(p),c=null!=a?a:u,m="object"==typeof l&&void 0!==l.visible,[v,g]=e.useState((()=>!!m&&l.visible)),y=e.useRef(null);e.useEffect((()=>{m&&g(l.visible)}),[m,l]);const b=h(y),O=()=>{var e;if(c)return;v&&b();const t=!v;g(t),"object"==typeof l&&(null===(e=l.onVisibleChange)||void 0===e||e.call(l,t))},{className:x,prefixCls:j,inputPrefixCls:E,size:w}=o,P=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(o,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:k}=e.useContext(t),$=k("input",E),z=k("input-password",j),I=l&&(t=>{const n=T[s]||"",o=i(v),r={[n]:O,className:`${t}-icon`,key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return e.cloneElement(e.isValidElement(o)?o:e.createElement("span",null,o),r)})(z),S=n(z,x,{[`${z}-${w}`]:!!w}),M=Object.assign(Object.assign({},f(P,["suffix","iconRender","visibilityToggle"])),{type:v?"text":"password",className:S,prefixCls:$,suffix:I});return w&&(M.size=w),e.createElement(C,Object.assign({ref:d(r,y)},M))}));const X=e.forwardRef(((o,r)=>{const{prefixCls:a,inputPrefixCls:s,className:l,size:u,suffix:c,enterButton:p=!1,addonAfter:f,loading:y,disabled:b,onSearch:O,onChange:x,onCompositionStart:h,onCompositionEnd:E}=o,w=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(o,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:P,direction:k}=e.useContext(t),$=e.useRef(!1),z=P("input-search",a),I=P("input",s),{compactSize:S}=m(z,k),M=i((e=>{var t;return null!==(t=null!=u?u:S)&&void 0!==t?t:e})),A=e.useRef(null),N=e=>{var t;document.activeElement===(null===(t=A.current)||void 0===t?void 0:t.input)&&e.preventDefault()},R=e=>{var t,n;O&&O(null===(n=null===(t=A.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e,{source:"input"})},D="boolean"==typeof p?e.createElement(j,null):null,B=`${z}-button`;let F;const T=p||{},L=T.type&&!0===T.type.__ANT_BUTTON;F=L||"button"===T.type?v(T,Object.assign({onMouseDown:N,onClick:e=>{var t,n;null===(n=null===(t=null==T?void 0:T.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),R(e)},key:"enterButton"},L?{className:B,size:M}:{})):e.createElement(g,{className:B,type:p?"primary":void 0,size:M,disabled:b,key:"enterButton",onMouseDown:N,onClick:R,loading:y,icon:D},p),f&&(F=[F,v(f,{key:"addonAfter"})]);const X=n(z,{[`${z}-rtl`]:"rtl"===k,[`${z}-${M}`]:!!M,[`${z}-with-button`]:!!p},l),q=Object.assign(Object.assign({},w),{className:X,prefixCls:I,type:"search"});return e.createElement(C,Object.assign({ref:d(A,r),onPressEnter:e=>{$.current||y||R(e)}},q,{size:M,onCompositionStart:e=>{$.current=!0,null==h||h(e)},onCompositionEnd:e=>{$.current=!1,null==E||E(e)},addonAfter:F,suffix:c,onChange:e=>{(null==e?void 0:e.target)&&"click"===e.type&&O&&O(e.target.value,e,{source:"clear"}),null==x||x(e)},disabled:b}))})),q=C;q.Group=r=>{const{getPrefixCls:a,direction:s}=e.useContext(t),{prefixCls:l,className:i}=r,u=a("input-group",l),c=a("input"),[p,f,d]=y(c),m=n(u,d,{[`${u}-lg`]:"large"===r.size,[`${u}-sm`]:"small"===r.size,[`${u}-compact`]:r.compact,[`${u}-rtl`]:"rtl"===s},f,i),v=e.useContext(o),g=e.useMemo((()=>Object.assign(Object.assign({},v),{isFormItemInput:!1})),[v]);return p(e.createElement("span",{className:m,style:r.style,onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave,onFocus:r.onFocus,onBlur:r.onBlur},e.createElement(o.Provider,{value:g},r.children)))},q.Search=X,q.TextArea=k,q.Password=L,q.OTP=N;export{q as I};
//# sourceMappingURL=index-BrOIVdwD.js.map
