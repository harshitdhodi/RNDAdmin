import{r,a9 as T,R as x,d4 as D,cn as Ne,cJ as Se,cC as ke,b4 as te,d5 as Me,cz as H,d6 as Re,d7 as oe,cf as L,ci as le,c9 as I,d8 as Fe,d9 as Be,da as Ae,db as z,cx as ze,cc as Q,d1 as Le,dc as se,cy as We,dd as De,de as He,df as Ve,dg as _e,dh as qe,di as Qe,dj as Xe,d3 as Ge,dk as Ue}from"./index-2kbH1bBb-1764732385455.js";import{A as re}from"./ActionButton-CR2XpLJz-1764732385455.js";import{u as ce,D as Ze,p as Ye,a as Je,P as Ke}from"./index-8HW-l2LE-1764732385455.js";import{S as en}from"./Skeleton-BCFltOJl-1764732385455.js";function nn(){const[e,t]=r.useState([]),l=r.useCallback(n=>(t(o=>[].concat(T(o),[n])),()=>{t(o=>o.filter(c=>c!==n))}),[]);return[e,l]}const F=x.createContext({}),{Provider:ae}=F,X=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:l,isSilent:n,mergedOkCancel:o,rootPrefixCls:c,close:u,onCancel:i,onConfirm:a}=r.useContext(F);return o?x.createElement(re,{isSilent:n,actionFn:i,close:function(){u==null||u.apply(void 0,arguments),a==null||a(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${c}-btn`},l):null},G=()=>{const{autoFocusButton:e,close:t,isSilent:l,okButtonProps:n,rootPrefixCls:o,okTextLocale:c,okType:u,onConfirm:i,onOk:a}=r.useContext(F);return x.createElement(re,{isSilent:l,type:u||"primary",actionFn:a,close:function(){t==null||t.apply(void 0,arguments),i==null||i(!0)},autoFocus:e==="ok",buttonProps:n,prefixCls:`${o}-btn`},c)};function U(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function Z(e){const{closable:t,closeIcon:l}=e||{};return x.useMemo(()=>{if(!t&&(t===!1||l===!1||l===null))return!1;if(t===void 0&&l===void 0)return null;let n={closeIcon:typeof l!="boolean"&&l!==null?l:void 0};return t&&typeof t=="object"&&(n=Object.assign(Object.assign({},n),t)),n},[t,l])}function Y(){const e={};for(var t=arguments.length,l=new Array(t),n=0;n<t;n++)l[n]=arguments[n];return l.forEach(o=>{o&&Object.keys(o).forEach(c=>{o[c]!==void 0&&(e[c]=o[c])})}),e}const tn={};function on(e,t){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tn;const n=Z(e),o=Z(t),c=typeof n!="boolean"?!!(n!=null&&n.disabled):!1,u=x.useMemo(()=>Object.assign({closeIcon:x.createElement(D,null)},l),[l]),i=x.useMemo(()=>n===!1?!1:n?Y(u,o,n):o===!1?!1:o?Y(u,o):u.closable?u:!1,[n,o,u]);return x.useMemo(()=>{if(i===!1)return[!1,null,c];const{closeIconRender:a}=u,{closeIcon:C}=i;let s=C;if(s!=null){a&&(s=a(C));const f=Ne(i,!0);Object.keys(f).length&&(s=x.isValidElement(s)?x.cloneElement(s,f):x.createElement("span",Object.assign({},f),s))}return[!0,s,c]},[i,u])}const ln=()=>Se()&&window.document.documentElement;function J(){}const sn=r.createContext({add:J,remove:J});function rn(e){const t=r.useContext(sn),l=r.useRef(null);return ke(o=>{if(o){const c=e?o.querySelector(e):o;t.add(c),l.current=c}else t.remove(l.current)})}const K=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:l}=r.useContext(F);return x.createElement(te,Object.assign({onClick:l},e),t)},ee=()=>{const{confirmLoading:e,okButtonProps:t,okType:l,okTextLocale:n,onOk:o}=r.useContext(F);return x.createElement(te,Object.assign({},Me(l),{loading:e,onClick:o},t),n)};function ie(e,t){return x.createElement("span",{className:`${e}-close-x`},t||x.createElement(D,{className:`${e}-close-icon`}))}const ue=e=>{const{okText:t,okType:l="primary",cancelText:n,confirmLoading:o,onOk:c,onCancel:u,okButtonProps:i,cancelButtonProps:a,footer:C}=e,[s]=H("Modal",oe()),f=t||(s==null?void 0:s.okText),d=n||(s==null?void 0:s.cancelText),p={confirmLoading:o,okButtonProps:i,cancelButtonProps:a,okTextLocale:f,cancelTextLocale:d,okType:l,onOk:c,onCancel:u},y=x.useMemo(()=>p,T(Object.values(p)));let m;return typeof C=="function"||typeof C>"u"?(m=x.createElement(x.Fragment,null,x.createElement(K,null),x.createElement(ee,null)),typeof C=="function"&&(m=C(m,{OkBtn:ee,CancelBtn:K})),m=x.createElement(ae,{value:y},m)):m=C,x.createElement(Re,{disabled:!1},m)};var cn=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};let W;const an=e=>{W={x:e.pageX,y:e.pageY},setTimeout(()=>{W=null},100)};ln()&&document.documentElement.addEventListener("click",an,!0);const fe=e=>{var t;const{getPopupContainer:l,getPrefixCls:n,direction:o,modal:c}=r.useContext(L),u=R=>{const{onCancel:S}=e;S==null||S(R)},i=R=>{const{onOk:S}=e;S==null||S(R)},{prefixCls:a,className:C,rootClassName:s,open:f,wrapClassName:d,centered:p,getContainer:y,focusTriggerAfterClose:m=!0,style:g,visible:b,width:v=520,footer:E,classNames:O,styles:P,children:w,loading:N}=e,j=cn(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),h=n("modal",a),M=n(),A=le(h),[Pe,V,he]=ce(h,A),Ee=I(d,{[`${h}-centered`]:!!p,[`${h}-wrap-rtl`]:o==="rtl"}),$e=E!==null&&!N?r.createElement(ue,Object.assign({},e,{onOk:i,onCancel:u})):null,[_,q,je]=on(U(e),U(c),{closable:!0,closeIcon:r.createElement(D,{className:`${h}-close-icon`}),closeIconRender:R=>ie(h,R)}),Ie=rn(`.${h}-content`),[Te,we]=Fe("Modal",j.zIndex);return Pe(r.createElement(Be,{form:!0,space:!0},r.createElement(Ae.Provider,{value:we},r.createElement(Ze,Object.assign({width:v},j,{zIndex:Te,getContainer:y===void 0?l:y,prefixCls:h,rootClassName:I(V,s,he,A),footer:$e,visible:f??b,mousePosition:(t=j.mousePosition)!==null&&t!==void 0?t:W,onClose:u,closable:_&&{disabled:je,closeIcon:q},closeIcon:q,focusTriggerAfterClose:m,transitionName:z(M,"zoom",e.transitionName),maskTransitionName:z(M,"fade",e.maskTransitionName),className:I(V,C,c==null?void 0:c.className),style:Object.assign(Object.assign({},c==null?void 0:c.style),g),classNames:Object.assign(Object.assign(Object.assign({},c==null?void 0:c.classNames),O),{wrapper:I(Ee,O==null?void 0:O.wrapper)}),styles:Object.assign(Object.assign({},c==null?void 0:c.styles),P),panelRef:Ie}),N?r.createElement(en,{active:!0,title:!1,paragraph:{rows:4},className:`${h}-body-skeleton`}):w))))},un=e=>{const{componentCls:t,titleFontSize:l,titleLineHeight:n,modalConfirmIconSize:o,fontSize:c,lineHeight:u,modalTitleHeight:i,fontHeight:a,confirmBodyPadding:C}=e,s=`${t}-confirm`;return{[s]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${s}-body-wrapper`]:Object.assign({},Le()),[`&${t} ${t}-body`]:{padding:C},[`${s}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(a).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(i).sub(o).equal()).div(2).equal()}},[`${s}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${Q(e.marginSM)})`},[`${e.iconCls} + ${s}-paragraph`]:{maxWidth:`calc(100% - ${Q(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${s}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:l,lineHeight:n},[`${s}-content`]:{color:e.colorText,fontSize:c,lineHeight:u},[`${s}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${s}-error ${s}-body > ${e.iconCls}`]:{color:e.colorError},[`${s}-warning ${s}-body > ${e.iconCls},
        ${s}-confirm ${s}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${s}-info ${s}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${s}-success ${s}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},fn=ze(["Modal","confirm"],e=>{const t=Ye(e);return[un(t)]},Je,{order:-1e3});var dn=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};function de(e){const{prefixCls:t,icon:l,okText:n,cancelText:o,confirmPrefixCls:c,type:u,okCancel:i,footer:a,locale:C}=e,s=dn(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let f=l;if(!l&&l!==null)switch(u){case"info":f=r.createElement(qe,null);break;case"success":f=r.createElement(_e,null);break;case"error":f=r.createElement(Ve,null);break;default:f=r.createElement(He,null)}const d=i??u==="confirm",p=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[y]=H("Modal"),m=C||y,g=n||(d?m==null?void 0:m.okText:m==null?void 0:m.justOkText),b=o||(m==null?void 0:m.cancelText),v=Object.assign({autoFocusButton:p,cancelTextLocale:b,okTextLocale:g,mergedOkCancel:d},s),E=r.useMemo(()=>v,T(Object.values(v))),O=r.createElement(r.Fragment,null,r.createElement(X,null),r.createElement(G,null)),P=e.title!==void 0&&e.title!==null,w=`${c}-body`;return r.createElement("div",{className:`${c}-body-wrapper`},r.createElement("div",{className:I(w,{[`${w}-has-title`]:P})},f,r.createElement("div",{className:`${c}-paragraph`},P&&r.createElement("span",{className:`${c}-title`},e.title),r.createElement("div",{className:`${c}-content`},e.content))),a===void 0||typeof a=="function"?r.createElement(ae,{value:E},r.createElement("div",{className:`${c}-btns`},typeof a=="function"?a(O,{OkBtn:G,CancelBtn:X}):O)):a,r.createElement(fn,{prefixCls:t}))}const mn=e=>{const{close:t,zIndex:l,afterClose:n,open:o,keyboard:c,centered:u,getContainer:i,maskStyle:a,direction:C,prefixCls:s,wrapClassName:f,rootPrefixCls:d,bodyStyle:p,closable:y=!1,closeIcon:m,modalRender:g,focusTriggerAfterClose:b,onConfirm:v,styles:E}=e,O=`${s}-confirm`,P=e.width||416,w=e.style||{},N=e.mask===void 0?!0:e.mask,j=e.maskClosable===void 0?!1:e.maskClosable,h=I(O,`${O}-${e.type}`,{[`${O}-rtl`]:C==="rtl"},e.className),[,M]=We(),A=r.useMemo(()=>l!==void 0?l:M.zIndexPopupBase+De,[l,M]);return r.createElement(fe,{prefixCls:s,className:h,wrapClassName:I({[`${O}-centered`]:!!e.centered},f),onCancel:()=>{t==null||t({triggerCancel:!0}),v==null||v(!1)},open:o,title:"",footer:null,transitionName:z(d||"","zoom",e.transitionName),maskTransitionName:z(d||"","fade",e.maskTransitionName),mask:N,maskClosable:j,style:w,styles:Object.assign({body:p,mask:a},E),width:P,zIndex:A,afterClose:n,keyboard:c,centered:u,getContainer:i,closable:y,closeIcon:m,modalRender:g,focusTriggerAfterClose:b},r.createElement(de,Object.assign({},e,{confirmPrefixCls:O})))},me=e=>{const{rootPrefixCls:t,iconPrefixCls:l,direction:n,theme:o}=e;return r.createElement(se,{prefixCls:t,iconPrefixCls:l,direction:n,theme:o},r.createElement(mn,Object.assign({},e)))},k=[];let Ce="";function ge(){return Ce}const Cn=e=>{var t,l;const{prefixCls:n,getContainer:o,direction:c}=e,u=oe(),i=r.useContext(L),a=ge()||i.getPrefixCls(),C=n||`${a}-modal`;let s=o;return s===!1&&(s=void 0),x.createElement(me,Object.assign({},e,{rootPrefixCls:a,prefixCls:C,iconPrefixCls:i.iconPrefixCls,theme:i.theme,direction:c??i.direction,locale:(l=(t=i.locale)===null||t===void 0?void 0:t.Modal)!==null&&l!==void 0?l:u,getContainer:s}))};function B(e){const t=Qe(),l=document.createDocumentFragment();let n=Object.assign(Object.assign({},e),{close:a,open:!0}),o,c;function u(){for(var s,f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];if(d.some(g=>g==null?void 0:g.triggerCancel)){var m;(s=e.onCancel)===null||s===void 0||(m=s).call.apply(m,[e,()=>{}].concat(T(d.slice(1))))}for(let g=0;g<k.length;g++)if(k[g]===a){k.splice(g,1);break}c()}function i(s){clearTimeout(o),o=setTimeout(()=>{const f=t.getPrefixCls(void 0,ge()),d=t.getIconPrefixCls(),p=t.getTheme(),y=x.createElement(Cn,Object.assign({},s));c=Xe()(x.createElement(se,{prefixCls:f,iconPrefixCls:d,theme:p},t.holderRender?t.holderRender(y):y),l)})}function a(){for(var s=arguments.length,f=new Array(s),d=0;d<s;d++)f[d]=arguments[d];n=Object.assign(Object.assign({},n),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),u.apply(this,f)}}),n.visible&&delete n.visible,i(n)}function C(s){typeof s=="function"?n=s(n):n=Object.assign(Object.assign({},n),s),i(n)}return i(n),k.push(a),{destroy:a,update:C}}function be(e){return Object.assign(Object.assign({},e),{type:"warning"})}function ve(e){return Object.assign(Object.assign({},e),{type:"info"})}function pe(e){return Object.assign(Object.assign({},e),{type:"success"})}function xe(e){return Object.assign(Object.assign({},e),{type:"error"})}function ye(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function gn(e){let{rootPrefixCls:t}=e;Ce=t}var bn=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};const vn=(e,t)=>{var l,{afterClose:n,config:o}=e,c=bn(e,["afterClose","config"]);const[u,i]=r.useState(!0),[a,C]=r.useState(o),{direction:s,getPrefixCls:f}=r.useContext(L),d=f("modal"),p=f(),y=()=>{var v;n(),(v=a.afterClose)===null||v===void 0||v.call(a)},m=function(){var v;i(!1);for(var E=arguments.length,O=new Array(E),P=0;P<E;P++)O[P]=arguments[P];if(O.some(j=>j==null?void 0:j.triggerCancel)){var N;(v=a.onCancel)===null||v===void 0||(N=v).call.apply(N,[a,()=>{}].concat(T(O.slice(1))))}};r.useImperativeHandle(t,()=>({destroy:m,update:v=>{C(E=>Object.assign(Object.assign({},E),v))}}));const g=(l=a.okCancel)!==null&&l!==void 0?l:a.type==="confirm",[b]=H("Modal",Ge.Modal);return r.createElement(me,Object.assign({prefixCls:d,rootPrefixCls:p},a,{close:m,open:u,afterClose:y,okText:a.okText||(g?b==null?void 0:b.okText:b==null?void 0:b.justOkText),direction:a.direction||s,cancelText:a.cancelText||(b==null?void 0:b.cancelText)},c))},pn=r.forwardRef(vn);let ne=0;const xn=r.memo(r.forwardRef((e,t)=>{const[l,n]=nn();return r.useImperativeHandle(t,()=>({patchElement:n}),[]),r.createElement(r.Fragment,null,l)}));function yn(){const e=r.useRef(null),[t,l]=r.useState([]);r.useEffect(()=>{t.length&&(T(t).forEach(u=>{u()}),l([]))},[t]);const n=r.useCallback(c=>function(i){var a;ne+=1;const C=r.createRef();let s;const f=new Promise(g=>{s=g});let d=!1,p;const y=r.createElement(pn,{key:`modal-${ne}`,config:c(i),ref:C,afterClose:()=>{p==null||p()},isSilent:()=>d,onConfirm:g=>{s(g)}});return p=(a=e.current)===null||a===void 0?void 0:a.patchElement(y),p&&k.push(p),{destroy:()=>{function g(){var b;(b=C.current)===null||b===void 0||b.destroy()}C.current?g():l(b=>[].concat(T(b),[g]))},update:g=>{function b(){var v;(v=C.current)===null||v===void 0||v.update(g)}C.current?b():l(v=>[].concat(T(v),[b]))},then:g=>(d=!0,f.then(g))}},[]);return[r.useMemo(()=>({info:n(ve),success:n(pe),error:n(xe),warning:n(be),confirm:n(ye)}),[]),r.createElement(xn,{key:"modal-holder",ref:e})]}var On=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};const Pn=e=>{const{prefixCls:t,className:l,closeIcon:n,closable:o,type:c,title:u,children:i,footer:a}=e,C=On(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:s}=r.useContext(L),f=s(),d=t||s("modal"),p=le(f),[y,m,g]=ce(d,p),b=`${d}-confirm`;let v={};return c?v={closable:o??!1,title:"",footer:"",children:r.createElement(de,Object.assign({},e,{prefixCls:d,confirmPrefixCls:b,rootPrefixCls:f,content:i}))}:v={closable:o??!0,title:u,footer:a!==null&&r.createElement(ue,Object.assign({},e)),children:i},y(r.createElement(Ke,Object.assign({prefixCls:d,className:I(m,`${d}-pure-panel`,c&&b,c&&`${b}-${c}`,l,g,p)},C,{closeIcon:ie(d,n),closable:o},v)))},hn=Ue(Pn);function Oe(e){return B(be(e))}const $=fe;$.useModal=yn;$.info=function(t){return B(ve(t))};$.success=function(t){return B(pe(t))};$.error=function(t){return B(xe(t))};$.warning=Oe;$.warn=Oe;$.confirm=function(t){return B(ye(t))};$.destroyAll=function(){for(;k.length;){const t=k.pop();t&&t()}};$.config=gn;$._InternalPanelDoNotUseOrYouWillBeFired=hn;export{$ as M};
