import{c7 as _,R as p,c8 as A,c9 as U,ca as Xe,cb as ce,r as s,ae as N,cc as re,cd as Ze,ce as Ge,be as ae,cf as Ue,cg as Ye,ch as ie,ci as z,cj as ue,ck as T,cl as Je,cm as Ke,cn as en,co as nn,cp as B,cq as tn,cr as Y,cs as on,ct as de,cu as ln,cv as sn,cw as cn,cx as rn,cy as an,cz as un,cA as dn,cB as fn,cC as mn}from"./index-DIfLp59a-1768988441431.js";import{u as fe,D as Cn,p as gn,a as bn,P as vn}from"./index-COS4fZXe-1768988441431.js";import{S as pn}from"./Skeleton-CM_lwJy5-1768988441431.js";function J(e){if(!e)return;const{closable:t,closeIcon:l}=e;return{closable:t,closeIcon:l}}function K(e){const{closable:t,closeIcon:l}=e||{};return p.useMemo(()=>{if(!t&&(t===!1||l===!1||l===null))return!1;if(t===void 0&&l===void 0)return null;let n={closeIcon:typeof l!="boolean"&&l!==null?l:void 0};return t&&typeof t=="object"&&(n=Object.assign(Object.assign({},n),t)),n},[t,l])}const xn={},yn=(e,t,l=xn)=>{const n=K(e),o=K(t),[a]=_("global",ce.global),m=typeof n!="boolean"?!!(n!=null&&n.disabled):!1,i=p.useMemo(()=>Object.assign({closeIcon:p.createElement(A,null)},l),[l]),r=p.useMemo(()=>n===!1?!1:n?U(i,o,n):o===!1?!1:o?U(i,o):i.closable?i:!1,[n,o,i]);return p.useMemo(()=>{var d,c;if(r===!1)return[!1,null,m,{}];const{closeIconRender:C}=i,{closeIcon:b}=r;let u=b;const f=Xe(r,!0);return u!=null&&(C&&(u=C(b)),u=p.isValidElement(u)?p.cloneElement(u,Object.assign(Object.assign(Object.assign({},u.props),{"aria-label":(c=(d=u.props)===null||d===void 0?void 0:d["aria-label"])!==null&&c!==void 0?c:a.close}),f)):p.createElement("span",Object.assign({"aria-label":a.close},f),u)),[!0,u,m,f]},[m,a.close,r,i])},On=()=>{const[e,t]=s.useState([]),l=s.useCallback(n=>(t(o=>[].concat(N(o),[n])),()=>{t(o=>o.filter(a=>a!==n))}),[]);return[e,l]},S=p.createContext({}),{Provider:me}=S,ee=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:l,isSilent:n,mergedOkCancel:o,rootPrefixCls:a,close:m,onCancel:i,onConfirm:r}=s.useContext(S);return o?p.createElement(re,{isSilent:n,actionFn:i,close:(...d)=>{m==null||m.apply(void 0,d),r==null||r(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${a}-btn`},l):null},ne=()=>{const{autoFocusButton:e,close:t,isSilent:l,okButtonProps:n,rootPrefixCls:o,okTextLocale:a,okType:m,onConfirm:i,onOk:r}=s.useContext(S);return p.createElement(re,{isSilent:l,type:m||"primary",actionFn:r,close:(...d)=>{t==null||t.apply(void 0,d),i==null||i(!0)},autoFocus:e==="ok",buttonProps:n,prefixCls:`${o}-btn`},a)},Pn=()=>Ze()&&window.document.documentElement;function te(){}const hn=s.createContext({add:te,remove:te});function En(e){const t=s.useContext(hn),l=s.useRef(null);return Ge(o=>{if(o){const a=e?o.querySelector(e):o;a&&(t.add(a),l.current=a)}else t.remove(l.current)})}const oe=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:l}=s.useContext(S);return p.createElement(ae,Object.assign({onClick:l},e),t)},le=()=>{const{confirmLoading:e,okButtonProps:t,okType:l,okTextLocale:n,onOk:o}=s.useContext(S);return p.createElement(ae,Object.assign({},Ue(l),{loading:e,onClick:o},t),n)};function Ce(e,t){return p.createElement("span",{className:`${e}-close-x`},t||p.createElement(A,{className:`${e}-close-icon`}))}const ge=e=>{const{okText:t,okType:l="primary",cancelText:n,confirmLoading:o,onOk:a,onCancel:m,okButtonProps:i,cancelButtonProps:r,footer:d}=e,[c]=_("Modal",ie()),C=t||(c==null?void 0:c.okText),b=n||(c==null?void 0:c.cancelText),u=p.useMemo(()=>({confirmLoading:o,okButtonProps:i,cancelButtonProps:r,okTextLocale:C,cancelTextLocale:b,okType:l,onOk:a,onCancel:m}),[o,i,r,C,b,l,a,m]);let f;return typeof d=="function"||typeof d>"u"?(f=p.createElement(p.Fragment,null,p.createElement(oe,null),p.createElement(le,null)),typeof d=="function"&&(f=d(f,{OkBtn:le,CancelBtn:oe})),f=p.createElement(me,{value:u},f)):f=d,p.createElement(Ye,{disabled:!1},f)};var $n=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};let W;const jn=e=>{W={x:e.pageX,y:e.pageY},setTimeout(()=>{W=null},100)};Pn()&&document.documentElement.addEventListener("click",jn,!0);const be=e=>{const{prefixCls:t,className:l,rootClassName:n,open:o,wrapClassName:a,centered:m,getContainer:i,focusTriggerAfterClose:r=!0,style:d,visible:c,width:C=520,footer:b,classNames:u,styles:f,children:y,loading:x,confirmLoading:g,zIndex:v,mousePosition:O,onOk:E,onCancel:I,destroyOnHidden:k,destroyOnClose:Ie,panelRef:Te=null,modalRender:L}=e,ke=$n(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel","destroyOnHidden","destroyOnClose","panelRef","modalRender"]),{getPopupContainer:we,getPrefixCls:D,direction:Ne,modal:P}=s.useContext(z),H=$=>{g||I==null||I($)},Se=$=>{E==null||E($)},h=D("modal",t),V=D(),q=ue(h),[Re,Q,Me]=fe(h,q),Fe=T(a,{[`${h}-centered`]:m??(P==null?void 0:P.centered),[`${h}-wrap-rtl`]:Ne==="rtl"}),Be=b!==null&&!x?s.createElement(ge,Object.assign({},e,{onOk:Se,onCancel:H})):null,[X,Z,_e,ze]=yn(J(e),J(P),{closable:!0,closeIcon:s.createElement(A,{className:`${h}-close-icon`}),closeIconRender:$=>Ce(h,$)}),Le=L?$=>s.createElement("div",{className:`${h}-render`},L($)):void 0,We=`.${h}-${L?"render":"content"}`,Ae=En(We),De=Je(Te,Ae),[He,Ve]=Ke("Modal",v),[qe,M]=s.useMemo(()=>C&&typeof C=="object"?[void 0,C]:[C,void 0],[C]),Qe=s.useMemo(()=>{const $={};return M&&Object.keys(M).forEach(G=>{const F=M[G];F!==void 0&&($[`--${h}-${G}-width`]=typeof F=="number"?`${F}px`:F)}),$},[h,M]);return Re(s.createElement(en,{form:!0,space:!0},s.createElement(nn.Provider,{value:Ve},s.createElement(Cn,Object.assign({width:qe},ke,{zIndex:He,getContainer:i===void 0?we:i,prefixCls:h,rootClassName:T(Q,n,Me,q),footer:Be,visible:o??c,mousePosition:O??W,onClose:H,closable:X&&Object.assign({disabled:_e,closeIcon:Z},ze),closeIcon:Z,focusTriggerAfterClose:r,transitionName:B(V,"zoom",e.transitionName),maskTransitionName:B(V,"fade",e.maskTransitionName),className:T(Q,l,P==null?void 0:P.className),style:Object.assign(Object.assign(Object.assign({},P==null?void 0:P.style),d),Qe),classNames:Object.assign(Object.assign(Object.assign({},P==null?void 0:P.classNames),u),{wrapper:T(Fe,u==null?void 0:u.wrapper)}),styles:Object.assign(Object.assign({},P==null?void 0:P.styles),f),panelRef:De,destroyOnClose:k??Ie,modalRender:Le}),x?s.createElement(pn,{active:!0,title:!1,paragraph:{rows:4},className:`${h}-body-skeleton`}):y))))},In=e=>{const{componentCls:t,titleFontSize:l,titleLineHeight:n,modalConfirmIconSize:o,fontSize:a,lineHeight:m,modalTitleHeight:i,fontHeight:r,confirmBodyPadding:d}=e,c=`${t}-confirm`;return{[c]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${c}-body-wrapper`]:Object.assign({},on()),[`&${t} ${t}-body`]:{padding:d},[`${c}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(r).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(i).sub(o).equal()).div(2).equal()}},[`${c}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${Y(e.marginSM)})`},[`${e.iconCls} + ${c}-paragraph`]:{maxWidth:`calc(100% - ${Y(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${c}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:l,lineHeight:n},[`${c}-content`]:{color:e.colorText,fontSize:a,lineHeight:m},[`${c}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${c}-error ${c}-body > ${e.iconCls}`]:{color:e.colorError},[`${c}-warning ${c}-body > ${e.iconCls},
        ${c}-confirm ${c}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${c}-info ${c}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${c}-success ${c}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},Tn=tn(["Modal","confirm"],e=>{const t=gn(e);return In(t)},bn,{order:-1e3});var kn=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};const ve=e=>{const{prefixCls:t,icon:l,okText:n,cancelText:o,confirmPrefixCls:a,type:m,okCancel:i,footer:r,locale:d}=e,c=kn(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let C=l;if(!l&&l!==null)switch(m){case"info":C=s.createElement(un,null);break;case"success":C=s.createElement(an,null);break;case"error":C=s.createElement(rn,null);break;default:C=s.createElement(cn,null)}const b=i??m==="confirm",u=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[f]=_("Modal"),y=d||f,x=n||(b?y==null?void 0:y.okText:y==null?void 0:y.justOkText),g=o||(y==null?void 0:y.cancelText),v=s.useMemo(()=>Object.assign({autoFocusButton:u,cancelTextLocale:g,okTextLocale:x,mergedOkCancel:b},c),[u,g,x,b,c]),O=s.createElement(s.Fragment,null,s.createElement(ee,null),s.createElement(ne,null)),E=e.title!==void 0&&e.title!==null,I=`${a}-body`;return s.createElement("div",{className:`${a}-body-wrapper`},s.createElement("div",{className:T(I,{[`${I}-has-title`]:E})},C,s.createElement("div",{className:`${a}-paragraph`},E&&s.createElement("span",{className:`${a}-title`},e.title),s.createElement("div",{className:`${a}-content`},e.content))),r===void 0||typeof r=="function"?s.createElement(me,{value:v},s.createElement("div",{className:`${a}-btns`},typeof r=="function"?r(O,{OkBtn:ne,CancelBtn:ee}):O)):r,s.createElement(Tn,{prefixCls:t}))},wn=e=>{const{close:t,zIndex:l,maskStyle:n,direction:o,prefixCls:a,wrapClassName:m,rootPrefixCls:i,bodyStyle:r,closable:d=!1,onConfirm:c,styles:C,title:b}=e,u=`${a}-confirm`,f=e.width||416,y=e.style||{},x=e.mask===void 0?!0:e.mask,g=e.maskClosable===void 0?!1:e.maskClosable,v=T(u,`${u}-${e.type}`,{[`${u}-rtl`]:o==="rtl"},e.className),[,O]=ln(),E=s.useMemo(()=>l!==void 0?l:O.zIndexPopupBase+sn,[l,O]);return s.createElement(be,Object.assign({},e,{className:v,wrapClassName:T({[`${u}-centered`]:!!e.centered},m),onCancel:()=>{t==null||t({triggerCancel:!0}),c==null||c(!1)},title:b,footer:null,transitionName:B(i||"","zoom",e.transitionName),maskTransitionName:B(i||"","fade",e.maskTransitionName),mask:x,maskClosable:g,style:y,styles:Object.assign({body:r,mask:n},C),width:f,zIndex:E,closable:d}),s.createElement(ve,Object.assign({},e,{confirmPrefixCls:u})))},pe=e=>{const{rootPrefixCls:t,iconPrefixCls:l,direction:n,theme:o}=e;return s.createElement(de,{prefixCls:t,iconPrefixCls:l,direction:n,theme:o},s.createElement(wn,Object.assign({},e)))},w=[];let xe="";function ye(){return xe}const Nn=e=>{var t,l;const{prefixCls:n,getContainer:o,direction:a}=e,m=ie(),i=s.useContext(z),r=ye()||i.getPrefixCls(),d=n||`${r}-modal`;let c=o;return c===!1&&(c=void 0),p.createElement(pe,Object.assign({},e,{rootPrefixCls:r,prefixCls:d,iconPrefixCls:i.iconPrefixCls,theme:i.theme,direction:a??i.direction,locale:(l=(t=i.locale)===null||t===void 0?void 0:t.Modal)!==null&&l!==void 0?l:m,getContainer:c}))};function R(e){const t=dn(),l=document.createDocumentFragment();let n=Object.assign(Object.assign({},e),{close:r,open:!0}),o,a;function m(...c){var C;if(c.some(f=>f==null?void 0:f.triggerCancel)){var u;(C=e.onCancel)===null||C===void 0||(u=C).call.apply(u,[e,()=>{}].concat(N(c.slice(1))))}for(let f=0;f<w.length;f++)if(w[f]===r){w.splice(f,1);break}a()}const i=c=>{clearTimeout(o),o=setTimeout(()=>{const C=t.getPrefixCls(void 0,ye()),b=t.getIconPrefixCls(),u=t.getTheme(),f=p.createElement(Nn,Object.assign({},c));a=fn()(p.createElement(de,{prefixCls:C,iconPrefixCls:b,theme:u},typeof t.holderRender=="function"?t.holderRender(f):f),l)})};function r(...c){n=Object.assign(Object.assign({},n),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),m.apply(this,c)}}),n.visible&&delete n.visible,i(n)}function d(c){typeof c=="function"?n=c(n):n=Object.assign(Object.assign({},n),c),i(n)}return i(n),w.push(r),{destroy:r,update:d}}function Oe(e){return Object.assign(Object.assign({},e),{type:"warning"})}function Pe(e){return Object.assign(Object.assign({},e),{type:"info"})}function he(e){return Object.assign(Object.assign({},e),{type:"success"})}function Ee(e){return Object.assign(Object.assign({},e),{type:"error"})}function $e(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Sn({rootPrefixCls:e}){xe=e}var Rn=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};const Mn=(e,t)=>{var l,{afterClose:n,config:o}=e,a=Rn(e,["afterClose","config"]);const[m,i]=s.useState(!0),[r,d]=s.useState(o),{direction:c,getPrefixCls:C}=s.useContext(z),b=C("modal"),u=C(),f=()=>{var v;n(),(v=r.afterClose)===null||v===void 0||v.call(r)},y=(...v)=>{var O;if(i(!1),v.some(k=>k==null?void 0:k.triggerCancel)){var I;(O=r.onCancel)===null||O===void 0||(I=O).call.apply(I,[r,()=>{}].concat(N(v.slice(1))))}};s.useImperativeHandle(t,()=>({destroy:y,update:v=>{d(O=>{const E=typeof v=="function"?v(O):v;return Object.assign(Object.assign({},O),E)})}}));const x=(l=r.okCancel)!==null&&l!==void 0?l:r.type==="confirm",[g]=_("Modal",ce.Modal);return s.createElement(pe,Object.assign({prefixCls:b,rootPrefixCls:u},r,{close:y,open:m,afterClose:f,okText:r.okText||(x?g==null?void 0:g.okText:g==null?void 0:g.justOkText),direction:r.direction||c,cancelText:r.cancelText||(g==null?void 0:g.cancelText)},a))},Fn=s.forwardRef(Mn);let se=0;const Bn=s.memo(s.forwardRef((e,t)=>{const[l,n]=On();return s.useImperativeHandle(t,()=>({patchElement:n}),[n]),s.createElement(s.Fragment,null,l)}));function _n(){const e=s.useRef(null),[t,l]=s.useState([]);s.useEffect(()=>{t.length&&(N(t).forEach(m=>{m()}),l([]))},[t]);const n=s.useCallback(a=>function(i){var r;se+=1;const d=s.createRef();let c;const C=new Promise(x=>{c=x});let b=!1,u;const f=s.createElement(Fn,{key:`modal-${se}`,config:a(i),ref:d,afterClose:()=>{u==null||u()},isSilent:()=>b,onConfirm:x=>{c(x)}});return u=(r=e.current)===null||r===void 0?void 0:r.patchElement(f),u&&w.push(u),{destroy:()=>{function x(){var g;(g=d.current)===null||g===void 0||g.destroy()}d.current?x():l(g=>[].concat(N(g),[x]))},update:x=>{function g(){var v;(v=d.current)===null||v===void 0||v.update(x)}d.current?g():l(v=>[].concat(N(v),[g]))},then:x=>(b=!0,C.then(x))}},[]);return[s.useMemo(()=>({info:n(Pe),success:n(he),error:n(Ee),warning:n(Oe),confirm:n($e)}),[n]),s.createElement(Bn,{key:"modal-holder",ref:e})]}var zn=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(l[n[o]]=e[n[o]]);return l};const Ln=e=>{const{prefixCls:t,className:l,closeIcon:n,closable:o,type:a,title:m,children:i,footer:r}=e,d=zn(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:c}=s.useContext(z),C=c(),b=t||c("modal"),u=ue(C),[f,y,x]=fe(b,u),g=`${b}-confirm`;let v={};return a?v={closable:o??!1,title:"",footer:"",children:s.createElement(ve,Object.assign({},e,{prefixCls:b,confirmPrefixCls:g,rootPrefixCls:C,content:i}))}:v={closable:o??!0,title:m,footer:r!==null&&s.createElement(ge,Object.assign({},e)),children:i},f(s.createElement(vn,Object.assign({prefixCls:b,className:T(y,`${b}-pure-panel`,a&&g,a&&`${g}-${a}`,l,x,u)},d,{closeIcon:Ce(b,n),closable:o},v)))},Wn=mn(Ln);function je(e){return R(Oe(e))}const j=be;j.useModal=_n;j.info=function(t){return R(Pe(t))};j.success=function(t){return R(he(t))};j.error=function(t){return R(Ee(t))};j.warning=je;j.warn=je;j.confirm=function(t){return R($e(t))};j.destroyAll=function(){for(;w.length;){const t=w.pop();t&&t()}};j.config=Sn;j._InternalPanelDoNotUseOrYouWillBeFired=Wn;export{j as M};
