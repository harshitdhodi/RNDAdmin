import{R as m}from"./index-WXjMELuL-1767591071772.js";var he=t=>t.type==="checkbox",le=t=>t instanceof Date,$=t=>t==null;const gt=t=>typeof t=="object";var I=t=>!$(t)&&!Array.isArray(t)&&gt(t)&&!le(t),ht=t=>I(t)&&t.target?he(t.target)?t.target.checked:t.target.value:t,Lt=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,mt=(t,r)=>t.has(Lt(r)),It=t=>{const r=t.constructor&&t.constructor.prototype;return I(r)&&r.hasOwnProperty("isPrototypeOf")},$e=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function U(t){let r;const e=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)r=new Date(t);else if(!($e&&(t instanceof Blob||s))&&(e||I(t)))if(r=e?[]:Object.create(Object.getPrototypeOf(t)),!e&&!It(t))r=t;else for(const u in t)t.hasOwnProperty(u)&&(r[u]=U(t[u]));else return t;return r}var Ae=t=>/^\w*$/.test(t),M=t=>t===void 0,xe=t=>Array.isArray(t)?t.filter(Boolean):[],Ke=t=>xe(t.replace(/["|']|\]/g,"").split(/\.|\[/)),_=(t,r,e)=>{if(!r||!I(t))return e;const s=(Ae(r)?[r]:Ke(r)).reduce((u,n)=>$(u)?u:u[n],t);return M(s)||s===t?M(t[r])?e:t[r]:s},z=t=>typeof t=="boolean",C=(t,r,e)=>{let s=-1;const u=Ae(r)?[r]:Ke(r),n=u.length,c=n-1;for(;++s<n;){const d=u[s];let p=e;if(s!==c){const x=t[d];p=I(x)||Array.isArray(x)?x:isNaN(+u[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=p,t=t[d]}};const be={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},X={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ie={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ze=m.createContext(null);ze.displayName="HookFormContext";const pe=()=>m.useContext(ze),ir=t=>{const{children:r,...e}=t;return m.createElement(ze.Provider,{value:e},r)};var vt=(t,r,e,s=!0)=>{const u={defaultValues:r._defaultValues};for(const n in t)Object.defineProperty(u,n,{get:()=>{const c=n;return r._proxyFormState[c]!==X.all&&(r._proxyFormState[c]=!s||X.all),e&&(e[c]=!0),t[c]}});return u};const ke=typeof window<"u"?m.useLayoutEffect:m.useEffect;function Nt(t){const r=pe(),{control:e=r.control,disabled:s,name:u,exact:n}=t||{},[c,d]=m.useState(e._formState),p=m.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ke(()=>e._subscribe({name:u,formState:p.current,exact:n,callback:x=>{!s&&d({...e._formState,...x})}}),[u,s,n]),m.useEffect(()=>{p.current.isValid&&e._setValid(!0)},[e]),m.useMemo(()=>vt(c,e,p.current,!1),[c,e])}var G=t=>typeof t=="string",Pe=(t,r,e,s,u)=>G(t)?(s&&r.watch.add(t),_(e,t,u)):Array.isArray(t)?t.map(n=>(s&&r.watch.add(n),_(e,n))):(s&&(r.watchAll=!0),e),We=t=>$(t)||!gt(t);function ee(t,r,e=new WeakSet){if(We(t)||We(r))return Object.is(t,r);if(le(t)&&le(r))return t.getTime()===r.getTime();const s=Object.keys(t),u=Object.keys(r);if(s.length!==u.length)return!1;if(e.has(t)||e.has(r))return!0;e.add(t),e.add(r);for(const n of s){const c=t[n];if(!u.includes(n))return!1;if(n!=="ref"){const d=r[n];if(le(c)&&le(d)||I(c)&&I(d)||Array.isArray(c)&&Array.isArray(d)?!ee(c,d,e):!Object.is(c,d))return!1}}return!0}function Bt(t){const r=pe(),{control:e=r.control,name:s,defaultValue:u,disabled:n,exact:c,compute:d}=t||{},p=m.useRef(u),x=m.useRef(d),k=m.useRef(void 0),b=m.useRef(e),V=m.useRef(s);x.current=d;const[Y,W]=m.useState(()=>{const f=e._getWatch(s,p.current);return x.current?x.current(f):f}),O=m.useCallback(f=>{const y=Pe(s,e._names,f||e._formValues,!1,p.current);return x.current?x.current(y):y},[e._formValues,e._names,s]),B=m.useCallback(f=>{if(!n){const y=Pe(s,e._names,f||e._formValues,!1,p.current);if(x.current){const F=x.current(y);ee(F,k.current)||(W(F),k.current=F)}else W(y)}},[e._formValues,e._names,n,s]);ke(()=>((b.current!==e||!ee(V.current,s))&&(b.current=e,V.current=s,B()),e._subscribe({name:s,formState:{values:!0},exact:c,callback:f=>{B(f.values)}})),[e,c,s,B]),m.useEffect(()=>e._removeUnmounted());const J=b.current!==e,A=V.current,P=m.useMemo(()=>{if(n)return null;const f=!J&&!ee(A,s);return J||f?O():null},[n,J,s,A,O]);return P!==null?P:Y}function Pt(t){const r=pe(),{name:e,disabled:s,control:u=r.control,shouldUnregister:n,defaultValue:c,exact:d=!0}=t,p=mt(u._names.array,e),x=m.useMemo(()=>_(u._formValues,e,_(u._defaultValues,e,c)),[u,e,c]),k=Bt({control:u,name:e,defaultValue:x,exact:d}),b=Nt({control:u,name:e,exact:d}),V=m.useRef(t),Y=m.useRef(void 0),W=m.useRef(u.register(e,{...t.rules,value:k,...z(t.disabled)?{disabled:t.disabled}:{}}));V.current=t;const O=m.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!_(b.errors,e)},isDirty:{enumerable:!0,get:()=>!!_(b.dirtyFields,e)},isTouched:{enumerable:!0,get:()=>!!_(b.touchedFields,e)},isValidating:{enumerable:!0,get:()=>!!_(b.validatingFields,e)},error:{enumerable:!0,get:()=>_(b.errors,e)}}),[b,e]),B=m.useCallback(f=>W.current.onChange({target:{value:ht(f),name:e},type:be.CHANGE}),[e]),J=m.useCallback(()=>W.current.onBlur({target:{value:_(u._formValues,e),name:e},type:be.BLUR}),[e,u._formValues]),A=m.useCallback(f=>{const y=_(u._fields,e);y&&f&&(y._f.ref={focus:()=>f.focus&&f.focus(),select:()=>f.select&&f.select(),setCustomValidity:F=>f.setCustomValidity(F),reportValidity:()=>f.reportValidity()})},[u._fields,e]),P=m.useMemo(()=>({name:e,value:k,...z(s)||b.disabled?{disabled:b.disabled||s}:{},onChange:B,onBlur:J,ref:A}),[e,s,b.disabled,B,J,A,k]);return m.useEffect(()=>{const f=u._options.shouldUnregister||n,y=Y.current;y&&y!==e&&!p&&u.unregister(y),u.register(e,{...V.current.rules,...z(V.current.disabled)?{disabled:V.current.disabled}:{}});const F=(w,Z)=>{const N=_(u._fields,w);N&&N._f&&(N._f.mount=Z)};if(F(e,!0),f){const w=U(_(u._options.defaultValues,e,V.current.defaultValue));C(u._defaultValues,e,w),M(_(u._formValues,e))&&C(u._formValues,e,w)}return!p&&u.register(e),Y.current=e,()=>{(p?f&&!u._state.action:f)?u.unregister(e):F(e,!1)}},[e,u,p,n]),m.useEffect(()=>{u._setDisabledField({disabled:s,name:e})},[s,e,u]),m.useMemo(()=>({field:P,formState:b,fieldState:O}),[P,b,O])}const ar=t=>t.render(Pt(t));var Wt=(t,r,e,s,u)=>r?{...e[t],types:{...e[t]&&e[t].types?e[t].types:{},[s]:u||!0}}:{},K=t=>Array.isArray(t)?t:[t],nt=()=>{let t=[];return{get observers(){return t},next:u=>{for(const n of t)n.next&&n.next(u)},subscribe:u=>(t.push(u),{unsubscribe:()=>{t=t.filter(n=>n!==u)}}),unsubscribe:()=>{t=[]}}};function bt(t,r){const e={};for(const s in t)if(t.hasOwnProperty(s)){const u=t[s],n=r[s];if(u&&I(u)&&n){const c=bt(u,n);I(c)&&(e[s]=c)}else t[s]&&(e[s]=n)}return e}var q=t=>I(t)&&!Object.keys(t).length,Ge=t=>t.type==="file",te=t=>typeof t=="function",Ve=t=>{if(!$e)return!1;const r=t?t.ownerDocument:0;return t instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Vt=t=>t.type==="select-multiple",Ye=t=>t.type==="radio",qt=t=>Ye(t)||he(t),Oe=t=>Ve(t)&&t.isConnected;function Ht(t,r){const e=r.slice(0,-1).length;let s=0;for(;s<e;)t=M(t)?s++:t[r[s++]];return t}function jt(t){for(const r in t)if(t.hasOwnProperty(r)&&!M(t[r]))return!1;return!0}function L(t,r){const e=Array.isArray(r)?r:Ae(r)?[r]:Ke(r),s=e.length===1?t:Ht(t,e),u=e.length-1,n=e[u];return s&&delete s[n],u!==0&&(I(s)&&q(s)||Array.isArray(s)&&jt(s))&&L(t,e.slice(0,-1)),t}var $t=t=>{for(const r in t)if(te(t[r]))return!0;return!1};function Ft(t){return Array.isArray(t)||I(t)&&!$t(t)}function qe(t,r={}){for(const e in t){const s=t[e];Ft(s)?(r[e]=Array.isArray(s)?[]:{},qe(s,r[e])):M(s)||(r[e]=!0)}return r}function de(t,r,e){e||(e=qe(r));for(const s in t){const u=t[s];if(Ft(u))M(r)||We(e[s])?e[s]=qe(u,Array.isArray(u)?[]:{}):de(u,$(r)?{}:r[s],e[s]);else{const n=r[s];e[s]=!ee(u,n)}}return e}const ut={value:!1,isValid:!1},lt={value:!0,isValid:!0};var At=t=>{if(Array.isArray(t)){if(t.length>1){const r=t.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:r,isValid:!!r.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!M(t[0].attributes.value)?M(t[0].value)||t[0].value===""?lt:{value:t[0].value,isValid:!0}:lt:ut}return ut},xt=(t,{valueAsNumber:r,valueAsDate:e,setValueAs:s})=>M(t)?t:r?t===""?NaN:t&&+t:e&&G(t)?new Date(t):s?s(t):t;const ot={isValid:!1,value:null};var pt=t=>Array.isArray(t)?t.reduce((r,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:r,ot):ot;function ct(t){const r=t.ref;return Ge(r)?r.files:Ye(r)?pt(t.refs).value:Vt(r)?[...r.selectedOptions].map(({value:e})=>e):he(r)?At(t.refs).value:xt(M(r.value)?t.ref.value:r.value,t)}var Kt=(t,r,e,s)=>{const u={};for(const n of t){const c=_(r,n);c&&C(u,n,c._f)}return{criteriaMode:e,names:[...t],fields:u,shouldUseNativeValidation:s}},Fe=t=>t instanceof RegExp,ge=t=>M(t)?t:Fe(t)?t.source:I(t)?Fe(t.value)?t.value.source:t.value:t,fe=t=>({isOnSubmit:!t||t===X.onSubmit,isOnBlur:t===X.onBlur,isOnChange:t===X.onChange,isOnAll:t===X.all,isOnTouch:t===X.onTouched});const dt="AsyncFunction";var zt=t=>!!t&&!!t.validate&&!!(te(t.validate)&&t.validate.constructor.name===dt||I(t.validate)&&Object.values(t.validate).find(r=>r.constructor.name===dt)),Gt=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),He=(t,r,e)=>!e&&(r.watchAll||r.watch.has(t)||[...r.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const ye=(t,r,e,s)=>{for(const u of e||Object.keys(t)){const n=_(t,u);if(n){const{_f:c,...d}=n;if(c){if(c.refs&&c.refs[0]&&r(c.refs[0],u)&&!s)return!0;if(c.ref&&r(c.ref,c.name)&&!s)return!0;if(ye(d,r))break}else if(I(d)&&ye(d,r))break}}};function ft(t,r,e){const s=_(t,e);if(s||Ae(e))return{error:s,name:e};const u=e.split(".");for(;u.length;){const n=u.join("."),c=_(r,n),d=_(t,n);if(c&&!Array.isArray(c)&&e!==n)return{name:e};if(d&&d.type)return{name:n,error:d};if(d&&d.root&&d.root.type)return{name:`${n}.root`,error:d.root};u.pop()}return{name:e}}var Yt=(t,r,e,s)=>{e(t);const{name:u,...n}=t;return q(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(c=>r[c]===(!s||X.all))},Jt=(t,r,e)=>!t||!r||t===r||K(t).some(s=>s&&(e?s===r:s.startsWith(r)||r.startsWith(s))),Qt=(t,r,e,s,u)=>u.isOnAll?!1:!e&&u.isOnTouch?!(r||t):(e?s.isOnBlur:u.isOnBlur)?!t:(e?s.isOnChange:u.isOnChange)?t:!0,Xt=(t,r)=>!xe(_(t,r)).length&&L(t,r),kt=(t,r,e)=>{const s=K(_(t,e));return C(s,"root",r[e]),C(t,e,s),t};function yt(t,r,e="validate"){if(G(t)||Array.isArray(t)&&t.every(G)||z(t)&&!t)return{type:e,message:G(t)?t:"",ref:r}}var ce=t=>I(t)&&!Fe(t)?t:{value:t,message:""},je=async(t,r,e,s,u,n)=>{const{ref:c,refs:d,required:p,maxLength:x,minLength:k,min:b,max:V,pattern:Y,validate:W,name:O,valueAsNumber:B,mount:J}=t._f,A=_(e,O);if(!J||r.has(O))return{};const P=d?d[0]:c,f=S=>{u&&P.reportValidity&&(P.setCustomValidity(z(S)?"":S||""),P.reportValidity())},y={},F=Ye(c),w=he(c),Z=F||w,N=(B||Ge(c))&&M(c.value)&&M(A)||Ve(c)&&c.value===""||A===""||Array.isArray(A)&&!A.length,ue=Wt.bind(null,O,s,y),re=(S,E,T,H=ie.maxLength,j=ie.minLength)=>{const se=S?E:T;y[O]={type:S?H:j,message:se,ref:c,...ue(S?H:j,se)}};if(n?!Array.isArray(A)||!A.length:p&&(!Z&&(N||$(A))||z(A)&&!A||w&&!At(d).isValid||F&&!pt(d).isValid)){const{value:S,message:E}=G(p)?{value:!!p,message:p}:ce(p);if(S&&(y[O]={type:ie.required,message:E,ref:P,...ue(ie.required,E)},!s))return f(E),y}if(!N&&(!$(b)||!$(V))){let S,E;const T=ce(V),H=ce(b);if(!$(A)&&!isNaN(A)){const j=c.valueAsNumber||A&&+A;$(T.value)||(S=j>T.value),$(H.value)||(E=j<H.value)}else{const j=c.valueAsDate||new Date(A),se=me=>new Date(new Date().toDateString()+" "+me),_e=c.type=="time",oe=c.type=="week";G(T.value)&&A&&(S=_e?se(A)>se(T.value):oe?A>T.value:j>new Date(T.value)),G(H.value)&&A&&(E=_e?se(A)<se(H.value):oe?A<H.value:j<new Date(H.value))}if((S||E)&&(re(!!S,T.message,H.message,ie.max,ie.min),!s))return f(y[O].message),y}if((x||k)&&!N&&(G(A)||n&&Array.isArray(A))){const S=ce(x),E=ce(k),T=!$(S.value)&&A.length>+S.value,H=!$(E.value)&&A.length<+E.value;if((T||H)&&(re(T,S.message,E.message),!s))return f(y[O].message),y}if(Y&&!N&&G(A)){const{value:S,message:E}=ce(Y);if(Fe(S)&&!A.match(S)&&(y[O]={type:ie.pattern,message:E,ref:c,...ue(ie.pattern,E)},!s))return f(E),y}if(W){if(te(W)){const S=await W(A,e),E=yt(S,P);if(E&&(y[O]={...E,...ue(ie.validate,E.message)},!s))return f(E.message),y}else if(I(W)){let S={};for(const E in W){if(!q(S)&&!s)break;const T=yt(await W[E](A,e),P,E);T&&(S={...T,...ue(E,T.message)},f(T.message),s&&(y[O]=S))}if(!q(S)&&(y[O]={ref:P,...S},!s))return y}}return f(!0),y};const Zt={mode:X.onSubmit,reValidateMode:X.onChange,shouldFocusError:!0};function er(t={}){let r={...Zt,...t},e={submitCount:0,isDirty:!1,isReady:!1,isLoading:te(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},u=I(r.defaultValues)||I(r.values)?U(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:U(u),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,x=0;const k={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...k};const V={array:nt(),state:nt()},Y=r.criteriaMode===X.all,W=i=>a=>{clearTimeout(x),x=setTimeout(i,a)},O=async i=>{if(!r.disabled&&(k.isValid||b.isValid||i)){const a=r.resolver?q((await w()).errors):await N(s,!0);a!==e.isValid&&V.state.next({isValid:a})}},B=(i,a)=>{!r.disabled&&(k.isValidating||k.validatingFields||b.isValidating||b.validatingFields)&&((i||Array.from(d.mount)).forEach(l=>{l&&(a?C(e.validatingFields,l,a):L(e.validatingFields,l))}),V.state.next({validatingFields:e.validatingFields,isValidating:!q(e.validatingFields)}))},J=(i,a=[],l,h,g=!0,o=!0)=>{if(h&&l&&!r.disabled){if(c.action=!0,o&&Array.isArray(_(s,i))){const v=l(_(s,i),h.argA,h.argB);g&&C(s,i,v)}if(o&&Array.isArray(_(e.errors,i))){const v=l(_(e.errors,i),h.argA,h.argB);g&&C(e.errors,i,v),Xt(e.errors,i)}if((k.touchedFields||b.touchedFields)&&o&&Array.isArray(_(e.touchedFields,i))){const v=l(_(e.touchedFields,i),h.argA,h.argB);g&&C(e.touchedFields,i,v)}(k.dirtyFields||b.dirtyFields)&&(e.dirtyFields=de(u,n)),V.state.next({name:i,isDirty:re(i,a),dirtyFields:e.dirtyFields,errors:e.errors,isValid:e.isValid})}else C(n,i,a)},A=(i,a)=>{C(e.errors,i,a),V.state.next({errors:e.errors})},P=i=>{e.errors=i,V.state.next({errors:e.errors,isValid:!1})},f=(i,a,l,h)=>{const g=_(s,i);if(g){const o=_(n,i,M(l)?_(u,i):l);M(o)||h&&h.defaultChecked||a?C(n,i,a?o:ct(g._f)):T(i,o),c.mount&&!c.action&&O()}},y=(i,a,l,h,g)=>{let o=!1,v=!1;const D={name:i};if(!r.disabled){if(!l||h){(k.isDirty||b.isDirty)&&(v=e.isDirty,e.isDirty=D.isDirty=re(),o=v!==D.isDirty);const R=ee(_(u,i),a);v=!!_(e.dirtyFields,i),R?L(e.dirtyFields,i):C(e.dirtyFields,i,!0),D.dirtyFields=e.dirtyFields,o=o||(k.dirtyFields||b.dirtyFields)&&v!==!R}if(l){const R=_(e.touchedFields,i);R||(C(e.touchedFields,i,l),D.touchedFields=e.touchedFields,o=o||(k.touchedFields||b.touchedFields)&&R!==l)}o&&g&&V.state.next(D)}return o?D:{}},F=(i,a,l,h)=>{const g=_(e.errors,i),o=(k.isValid||b.isValid)&&z(a)&&e.isValid!==a;if(r.delayError&&l?(p=W(()=>A(i,l)),p(r.delayError)):(clearTimeout(x),p=null,l?C(e.errors,i,l):L(e.errors,i)),(l?!ee(g,l):g)||!q(h)||o){const v={...h,...o&&z(a)?{isValid:a}:{},errors:e.errors,name:i};e={...e,...v},V.state.next(v)}},w=async i=>{B(i,!0);const a=await r.resolver(n,r.context,Kt(i||d.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return B(i),a},Z=async i=>{const{errors:a}=await w(i);if(i)for(const l of i){const h=_(a,l);h?C(e.errors,l,h):L(e.errors,l)}else e.errors=a;return a},N=async(i,a,l={valid:!0})=>{for(const h in i){const g=i[h];if(g){const{_f:o,...v}=g;if(o){const D=d.array.has(o.name),R=g._f&&zt(g._f);R&&k.validatingFields&&B([o.name],!0);const Q=await je(g,d.disabled,n,Y,r.shouldUseNativeValidation&&!a,D);if(R&&k.validatingFields&&B([o.name]),Q[o.name]&&(l.valid=!1,a))break;!a&&(_(Q,o.name)?D?kt(e.errors,Q,o.name):C(e.errors,o.name,Q[o.name]):L(e.errors,o.name))}!q(v)&&await N(v,a,l)}}return l.valid},ue=()=>{for(const i of d.unMount){const a=_(s,i);a&&(a._f.refs?a._f.refs.every(l=>!Oe(l)):!Oe(a._f.ref))&&we(i)}d.unMount=new Set},re=(i,a)=>!r.disabled&&(i&&a&&C(n,i,a),!ee(me(),u)),S=(i,a,l)=>Pe(i,d,{...c.mount?n:M(a)?u:G(i)?{[i]:a}:a},l,a),E=i=>xe(_(c.mount?n:u,i,r.shouldUnregister?_(u,i,[]):[])),T=(i,a,l={})=>{const h=_(s,i);let g=a;if(h){const o=h._f;o&&(!o.disabled&&C(n,i,xt(a,o)),g=Ve(o.ref)&&$(a)?"":a,Vt(o.ref)?[...o.ref.options].forEach(v=>v.selected=g.includes(v.value)):o.refs?he(o.ref)?o.refs.forEach(v=>{(!v.defaultChecked||!v.disabled)&&(Array.isArray(g)?v.checked=!!g.find(D=>D===v.value):v.checked=g===v.value||!!g)}):o.refs.forEach(v=>v.checked=v.value===g):Ge(o.ref)?o.ref.value="":(o.ref.value=g,o.ref.type||V.state.next({name:i,values:U(n)})))}(l.shouldDirty||l.shouldTouch)&&y(i,g,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&oe(i)},H=(i,a,l)=>{for(const h in a){if(!a.hasOwnProperty(h))return;const g=a[h],o=i+"."+h,v=_(s,o);(d.array.has(i)||I(g)||v&&!v._f)&&!le(g)?H(o,g,l):T(o,g,l)}},j=(i,a,l={})=>{const h=_(s,i),g=d.array.has(i),o=U(a);C(n,i,o),g?(V.array.next({name:i,values:U(n)}),(k.isDirty||k.dirtyFields||b.isDirty||b.dirtyFields)&&l.shouldDirty&&V.state.next({name:i,dirtyFields:de(u,n),isDirty:re(i,o)})):h&&!h._f&&!$(o)?H(i,o,l):T(i,o,l),He(i,d)&&V.state.next({...e,name:i}),V.state.next({name:c.mount?i:void 0,values:U(n)})},se=async i=>{c.mount=!0;const a=i.target;let l=a.name,h=!0;const g=_(s,l),o=R=>{h=Number.isNaN(R)||le(R)&&isNaN(R.getTime())||ee(R,_(n,l,R))},v=fe(r.mode),D=fe(r.reValidateMode);if(g){let R,Q;const ve=a.type?ct(g._f):ht(i),ae=i.type===be.BLUR||i.type===be.FOCUS_OUT,Mt=!Gt(g._f)&&!r.resolver&&!_(e.errors,l)&&!g._f.deps||Qt(ae,_(e.touchedFields,l),e.isSubmitted,D,v),Ee=He(l,d,ae);C(n,l,ve),ae?(!a||!a.readOnly)&&(g._f.onBlur&&g._f.onBlur(i),p&&p(0)):g._f.onChange&&g._f.onChange(i);const Ce=y(l,ve,ae),Ut=!q(Ce)||Ee;if(!ae&&V.state.next({name:l,type:i.type,values:U(n)}),Mt)return(k.isValid||b.isValid)&&(r.mode==="onBlur"?ae&&O():ae||O()),Ut&&V.state.next({name:l,...Ee?{}:Ce});if(!ae&&Ee&&V.state.next({...e}),r.resolver){const{errors:it}=await w([l]);if(o(ve),h){const Tt=ft(e.errors,s,l),at=ft(it,s,Tt.name||l);R=at.error,l=at.name,Q=q(it)}}else B([l],!0),R=(await je(g,d.disabled,n,Y,r.shouldUseNativeValidation))[l],B([l]),o(ve),h&&(R?Q=!1:(k.isValid||b.isValid)&&(Q=await N(s,!0)));h&&(g._f.deps&&(!Array.isArray(g._f.deps)||g._f.deps.length>0)&&oe(g._f.deps),F(l,Q,R,Ce))}},_e=(i,a)=>{if(_(e.errors,a)&&i.focus)return i.focus(),1},oe=async(i,a={})=>{let l,h;const g=K(i);if(r.resolver){const o=await Z(M(i)?i:g);l=q(o),h=i?!g.some(v=>_(o,v)):l}else i?(h=(await Promise.all(g.map(async o=>{const v=_(s,o);return await N(v&&v._f?{[o]:v}:v)}))).every(Boolean),!(!h&&!e.isValid)&&O()):h=l=await N(s);return V.state.next({...!G(i)||(k.isValid||b.isValid)&&l!==e.isValid?{}:{name:i},...r.resolver||!i?{isValid:l}:{},errors:e.errors}),a.shouldFocus&&!h&&ye(s,_e,i?g:d.mount),h},me=(i,a)=>{let l={...c.mount?n:u};return a&&(l=bt(a.dirtyFields?e.dirtyFields:e.touchedFields,l)),M(i)?l:G(i)?_(l,i):i.map(h=>_(l,h))},Je=(i,a)=>({invalid:!!_((a||e).errors,i),isDirty:!!_((a||e).dirtyFields,i),error:_((a||e).errors,i),isValidating:!!_(e.validatingFields,i),isTouched:!!_((a||e).touchedFields,i)}),wt=i=>{i&&K(i).forEach(a=>L(e.errors,a)),V.state.next({errors:i?e.errors:{}})},Qe=(i,a,l)=>{const h=(_(s,i,{_f:{}})._f||{}).ref,g=_(e.errors,i)||{},{ref:o,message:v,type:D,...R}=g;C(e.errors,i,{...R,...a,ref:h}),V.state.next({name:i,errors:e.errors,isValid:!1}),l&&l.shouldFocus&&h&&h.focus&&h.focus()},St=(i,a)=>te(i)?V.state.subscribe({next:l=>"values"in l&&i(S(void 0,a),l)}):S(i,a,!0),Xe=i=>V.state.subscribe({next:a=>{Jt(i.name,a.name,i.exact)&&Yt(a,i.formState||k,Rt,i.reRenderRoot)&&i.callback({values:{...n},...e,...a,defaultValues:u})}}).unsubscribe,Dt=i=>(c.mount=!0,b={...b,...i.formState},Xe({...i,formState:b})),we=(i,a={})=>{for(const l of i?K(i):d.mount)d.mount.delete(l),d.array.delete(l),a.keepValue||(L(s,l),L(n,l)),!a.keepError&&L(e.errors,l),!a.keepDirty&&L(e.dirtyFields,l),!a.keepTouched&&L(e.touchedFields,l),!a.keepIsValidating&&L(e.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&L(u,l);V.state.next({values:U(n)}),V.state.next({...e,...a.keepDirty?{isDirty:re()}:{}}),!a.keepIsValid&&O()},Ze=({disabled:i,name:a})=>{(z(i)&&c.mount||i||d.disabled.has(a))&&(i?d.disabled.add(a):d.disabled.delete(a))},Se=(i,a={})=>{let l=_(s,i);const h=z(a.disabled)||z(r.disabled);return C(s,i,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:i}},name:i,mount:!0,...a}}),d.mount.add(i),l?Ze({disabled:z(a.disabled)?a.disabled:r.disabled,name:i}):f(i,!0,a.value),{...h?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:ge(a.min),max:ge(a.max),minLength:ge(a.minLength),maxLength:ge(a.maxLength),pattern:ge(a.pattern)}:{},name:i,onChange:se,onBlur:se,ref:g=>{if(g){Se(i,a),l=_(s,i);const o=M(g.value)&&g.querySelectorAll&&g.querySelectorAll("input,select,textarea")[0]||g,v=qt(o),D=l._f.refs||[];if(v?D.find(R=>R===o):o===l._f.ref)return;C(s,i,{_f:{...l._f,...v?{refs:[...D.filter(Oe),o,...Array.isArray(_(u,i))?[{}]:[]],ref:{type:o.type,name:i}}:{ref:o}}}),f(i,!1,void 0,o)}else l=_(s,i,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(mt(d.array,i)&&c.action)&&d.unMount.add(i)}}},De=()=>r.shouldFocusError&&ye(s,_e,d.mount),Et=i=>{z(i)&&(V.state.next({disabled:i}),ye(s,(a,l)=>{const h=_(s,l);h&&(a.disabled=h._f.disabled||i,Array.isArray(h._f.refs)&&h._f.refs.forEach(g=>{g.disabled=h._f.disabled||i}))},0,!1))},et=(i,a)=>async l=>{let h;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let g=U(n);if(V.state.next({isSubmitting:!0}),r.resolver){const{errors:o,values:v}=await w();e.errors=o,g=U(v)}else await N(s);if(d.disabled.size)for(const o of d.disabled)L(g,o);if(L(e.errors,"root"),q(e.errors)){V.state.next({errors:{}});try{await i(g,l)}catch(o){h=o}}else a&&await a({...e.errors},l),De(),setTimeout(De);if(V.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:q(e.errors)&&!h,submitCount:e.submitCount+1,errors:e.errors}),h)throw h},Ct=(i,a={})=>{_(s,i)&&(M(a.defaultValue)?j(i,U(_(u,i))):(j(i,a.defaultValue),C(u,i,U(a.defaultValue))),a.keepTouched||L(e.touchedFields,i),a.keepDirty||(L(e.dirtyFields,i),e.isDirty=a.defaultValue?re(i,U(_(u,i))):re()),a.keepError||(L(e.errors,i),k.isValid&&O()),V.state.next({...e}))},tt=(i,a={})=>{const l=i?U(i):u,h=U(l),g=q(i),o=g?u:h;if(a.keepDefaultValues||(u=l),!a.keepValues){if(a.keepDirtyValues){const v=new Set([...d.mount,...Object.keys(de(u,n))]);for(const D of Array.from(v))_(e.dirtyFields,D)?C(o,D,_(n,D)):j(D,_(o,D))}else{if($e&&M(i))for(const v of d.mount){const D=_(s,v);if(D&&D._f){const R=Array.isArray(D._f.refs)?D._f.refs[0]:D._f.ref;if(Ve(R)){const Q=R.closest("form");if(Q){Q.reset();break}}}}if(a.keepFieldsRef)for(const v of d.mount)j(v,_(o,v));else s={}}n=r.shouldUnregister?a.keepDefaultValues?U(u):{}:U(o),V.array.next({values:{...o}}),V.state.next({values:{...o}})}d={mount:a.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!k.isValid||!!a.keepIsValid||!!a.keepDirtyValues||!r.shouldUnregister&&!q(o),c.watch=!!r.shouldUnregister,c.action=!1,a.keepErrors||(e.errors={}),V.state.next({submitCount:a.keepSubmitCount?e.submitCount:0,isDirty:g?!1:a.keepDirty?e.isDirty:!!(a.keepDefaultValues&&!ee(i,u)),isSubmitted:a.keepIsSubmitted?e.isSubmitted:!1,dirtyFields:g?{}:a.keepDirtyValues?a.keepDefaultValues&&n?de(u,n):e.dirtyFields:a.keepDefaultValues&&i?de(u,i):a.keepDirty?e.dirtyFields:{},touchedFields:a.keepTouched?e.touchedFields:{},errors:a.keepErrors?e.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?e.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:u})},rt=(i,a)=>tt(te(i)?i(n):i,a),Ot=(i,a={})=>{const l=_(s,i),h=l&&l._f;if(h){const g=h.refs?h.refs[0]:h.ref;g.focus&&(g.focus(),a.shouldSelect&&te(g.select)&&g.select())}},Rt=i=>{e={...e,...i}},st={control:{register:Se,unregister:we,getFieldState:Je,handleSubmit:et,setError:Qe,_subscribe:Xe,_runSchema:w,_focusError:De,_getWatch:S,_getDirty:re,_setValid:O,_setFieldArray:J,_setDisabledField:Ze,_setErrors:P,_getFieldArray:E,_reset:tt,_resetDefaultValues:()=>te(r.defaultValues)&&r.defaultValues().then(i=>{rt(i,r.resetOptions),V.state.next({isLoading:!1})}),_removeUnmounted:ue,_disableForm:Et,_subjects:V,_proxyFormState:k,get _fields(){return s},get _formValues(){return n},get _state(){return c},set _state(i){c=i},get _defaultValues(){return u},get _names(){return d},set _names(i){d=i},get _formState(){return e},get _options(){return r},set _options(i){r={...r,...i}}},subscribe:Dt,trigger:oe,register:Se,handleSubmit:et,watch:St,setValue:j,getValues:me,reset:rt,resetField:Ct,clearErrors:wt,unregister:we,setError:Qe,setFocus:Ot,getFieldState:Je};return{...st,formControl:st}}var ne=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const e=(Math.random()*16+t)%16|0;return(r=="x"?e:e&3|8).toString(16)})},Re=(t,r,e={})=>e.shouldFocus||M(e.shouldFocus)?e.focusName||`${t}.${M(e.focusIndex)?r:e.focusIndex}.`:"",Me=(t,r)=>[...t,...K(r)],Ue=t=>Array.isArray(t)?t.map(()=>{}):void 0;function Te(t,r,e){return[...t.slice(0,r),...K(e),...t.slice(r)]}var Le=(t,r,e)=>Array.isArray(t)?(M(t[e])&&(t[e]=void 0),t.splice(e,0,t.splice(r,1)[0]),t):[],Ie=(t,r)=>[...K(r),...K(t)];function tr(t,r){let e=0;const s=[...t];for(const u of r)s.splice(u-e,1),e++;return xe(s).length?s:[]}var Ne=(t,r)=>M(r)?[]:tr(t,K(r).sort((e,s)=>e-s)),Be=(t,r,e)=>{[t[r],t[e]]=[t[e],t[r]]},_t=(t,r,e)=>(t[r]=e,t);function nr(t){const r=pe(),{control:e=r.control,name:s,keyName:u="id",shouldUnregister:n,rules:c}=t,[d,p]=m.useState(e._getFieldArray(s)),x=m.useRef(e._getFieldArray(s).map(ne)),k=m.useRef(!1);e._names.array.add(s),m.useMemo(()=>c&&d.length>=0&&e.register(s,c),[e,s,d.length,c]),ke(()=>e._subjects.array.subscribe({next:({values:f,name:y})=>{if(y===s||!y){const F=_(f,s);Array.isArray(F)&&(p(F),x.current=F.map(ne))}}}).unsubscribe,[e,s]);const b=m.useCallback(f=>{k.current=!0,e._setFieldArray(s,f)},[e,s]),V=(f,y)=>{const F=K(U(f)),w=Me(e._getFieldArray(s),F);e._names.focus=Re(s,w.length-1,y),x.current=Me(x.current,F.map(ne)),b(w),p(w),e._setFieldArray(s,w,Me,{argA:Ue(f)})},Y=(f,y)=>{const F=K(U(f)),w=Ie(e._getFieldArray(s),F);e._names.focus=Re(s,0,y),x.current=Ie(x.current,F.map(ne)),b(w),p(w),e._setFieldArray(s,w,Ie,{argA:Ue(f)})},W=f=>{const y=Ne(e._getFieldArray(s),f);x.current=Ne(x.current,f),b(y),p(y),!Array.isArray(_(e._fields,s))&&C(e._fields,s,void 0),e._setFieldArray(s,y,Ne,{argA:f})},O=(f,y,F)=>{const w=K(U(y)),Z=Te(e._getFieldArray(s),f,w);e._names.focus=Re(s,f,F),x.current=Te(x.current,f,w.map(ne)),b(Z),p(Z),e._setFieldArray(s,Z,Te,{argA:f,argB:Ue(y)})},B=(f,y)=>{const F=e._getFieldArray(s);Be(F,f,y),Be(x.current,f,y),b(F),p(F),e._setFieldArray(s,F,Be,{argA:f,argB:y},!1)},J=(f,y)=>{const F=e._getFieldArray(s);Le(F,f,y),Le(x.current,f,y),b(F),p(F),e._setFieldArray(s,F,Le,{argA:f,argB:y},!1)},A=(f,y)=>{const F=U(y),w=_t(e._getFieldArray(s),f,F);x.current=[...w].map((Z,N)=>!Z||N===f?ne():x.current[N]),b(w),p([...w]),e._setFieldArray(s,w,_t,{argA:f,argB:F},!0,!1)},P=f=>{const y=K(U(f));x.current=y.map(ne),b([...y]),p([...y]),e._setFieldArray(s,[...y],F=>F,{},!0,!1)};return m.useEffect(()=>{if(e._state.action=!1,He(s,e._names)&&e._subjects.state.next({...e._formState}),k.current&&(!fe(e._options.mode).isOnSubmit||e._formState.isSubmitted)&&!fe(e._options.reValidateMode).isOnSubmit)if(e._options.resolver)e._runSchema([s]).then(f=>{const y=_(f.errors,s),F=_(e._formState.errors,s);(F?!y&&F.type||y&&(F.type!==y.type||F.message!==y.message):y&&y.type)&&(y?C(e._formState.errors,s,y):L(e._formState.errors,s),e._subjects.state.next({errors:e._formState.errors}))});else{const f=_(e._fields,s);f&&f._f&&!(fe(e._options.reValidateMode).isOnSubmit&&fe(e._options.mode).isOnSubmit)&&je(f,e._names.disabled,e._formValues,e._options.criteriaMode===X.all,e._options.shouldUseNativeValidation,!0).then(y=>!q(y)&&e._subjects.state.next({errors:kt(e._formState.errors,y,s)}))}e._subjects.state.next({name:s,values:U(e._formValues)}),e._names.focus&&ye(e._fields,(f,y)=>{if(e._names.focus&&y.startsWith(e._names.focus)&&f.focus)return f.focus(),1}),e._names.focus="",e._setValid(),k.current=!1},[d,s,e]),m.useEffect(()=>(!_(e._formValues,s)&&e._setFieldArray(s),()=>{const f=(y,F)=>{const w=_(e._fields,y);w&&w._f&&(w._f.mount=F)};e._options.shouldUnregister||n?e.unregister(s):f(s,!1)}),[s,e,u,n]),{swap:m.useCallback(B,[b,s,e]),move:m.useCallback(J,[b,s,e]),prepend:m.useCallback(Y,[b,s,e]),append:m.useCallback(V,[b,s,e]),remove:m.useCallback(W,[b,s,e]),insert:m.useCallback(O,[b,s,e]),update:m.useCallback(A,[b,s,e]),replace:m.useCallback(P,[b,s,e]),fields:m.useMemo(()=>d.map((f,y)=>({...f,[u]:x.current[y]||ne()})),[d,u])}}function ur(t={}){const r=m.useRef(void 0),e=m.useRef(void 0),[s,u]=m.useState({isDirty:!1,isValidating:!1,isLoading:te(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:te(t.defaultValues)?void 0:t.defaultValues});if(!r.current)if(t.formControl)r.current={...t.formControl,formState:s},t.defaultValues&&!te(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:c,...d}=er(t);r.current={...d,formState:s}}const n=r.current.control;return n._options=t,ke(()=>{const c=n._subscribe({formState:n._proxyFormState,callback:()=>u({...n._formState}),reRenderRoot:!0});return u(d=>({...d,isReady:!0})),n._formState.isReady=!0,c},[n]),m.useEffect(()=>n._disableForm(t.disabled),[n,t.disabled]),m.useEffect(()=>{t.mode&&(n._options.mode=t.mode),t.reValidateMode&&(n._options.reValidateMode=t.reValidateMode)},[n,t.mode,t.reValidateMode]),m.useEffect(()=>{t.errors&&(n._setErrors(t.errors),n._focusError())},[n,t.errors]),m.useEffect(()=>{t.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,t.shouldUnregister]),m.useEffect(()=>{if(n._proxyFormState.isDirty){const c=n._getDirty();c!==s.isDirty&&n._subjects.state.next({isDirty:c})}},[n,s.isDirty]),m.useEffect(()=>{var c;t.values&&!ee(t.values,e.current)?(n._reset(t.values,{keepFieldsRef:!0,...n._options.resetOptions}),!((c=n._options.resetOptions)===null||c===void 0)&&c.keepIsValid||n._setValid(),e.current=t.values,u(d=>({...d}))):n._resetDefaultValues()},[n,t.values]),m.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),r.current.formState=vt(s,n),r.current}export{ar as C,ir as F,nr as a,ur as b,pe as c,Wt as d,_ as g,C as s,Bt as u};
