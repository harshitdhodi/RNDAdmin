import{d as i,B as j,s as m}from"./antd-mtWlDmqY.js";import{r as e,j as a}from"./react-DKICu8bO.js";import{a as u}from"./axios-DXsv3KKR.js";import{J as v}from"./jodit-react-B8oW82bi.js";import"./@ant-design-jkdqJqTn.js";import"./rc-util-C9ihiQ8l.js";import"./@babel-C_xKm-6V.js";import"./react-is-NfUKNnIv.js";import"./react-dom-BBS6HuAW.js";import"./classnames-Bv6oJzD9.js";import"./scheduler-CKyTKYc2.js";import"./@emotion-CW87jbl0.js";import"./stylis-OW4gUFyn.js";import"./@ctrl-DOFZgDuz.js";import"./rc-motion-D0k58WYE.js";import"./@rc-component-DJY3KRXL.js";import"./rc-resize-observer-h7CJ_t66.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./ant-design-icons-CNhZ1eT-.js";import"./rc-dialog-CfVZmZCG.js";import"./rc-table-BJAsEMDh.js";import"./rc-virtual-list-OMMR-gr8.js";import"./rc-tree-aGCJh_41.js";import"./rc-checkbox-nRYcjTPl.js";import"./rc-pagination-ZKXeAm0h.js";import"./rc-select-RmeC3WgB.js";import"./rc-overflow-DEivB5rv.js";import"./throttle-debounce-CUWDS_la.js";import"./rc-input-CIUXRVU8.js";import"./rc-tooltip-Oavn6yow.js";import"./rc-notification-0md6QYDj.js";import"./rc-image-ClDwiN-j.js";import"./rc-textarea-CijmdGy3.js";import"./copy-to-clipboard-0rP7DRqq.js";import"./toggle-selection-DGa8lynz.js";import"./rc-upload-DlrdHvh1.js";import"./rc-progress-BVn0ZmF4.js";import"./rc-dropdown-D4AwxsUk.js";import"./rc-menu-MHhKtfoG.js";import"./rc-field-form-CVOtFEQA.js";import"./scroll-into-view-if-needed-BZeNfFF0.js";import"./compute-scroll-into-view-DWa9QgjM.js";import"./rc-picker-D0kXf0IF.js";import"./rc-tabs-XmQY-w_1.js";const bo=()=>{const[s]=i.useForm(),[d,n]=e.useState(""),[C,c]=e.useState(""),[p,y]=e.useState(null),h=e.useRef(null),B={uploader:{insertImageAsBase64URI:!0},toolbarAdaptive:!1,toolbarSticky:!1,buttons:["bold","italic","underline","ul","ol","fontsize","paragraph","link","image","video","table","align","undo","redo","font","fontsize","brush","foreColor","backColor"],style:{color:"black"}},b=async()=>{try{const o=await u.get("/api/blogCard/getCard"),t=o.data[0];console.log(o),y(t._id),n(t.blogCard);const l=new DOMParser().parseFromString(t.blogCard,"text/html"),r=l.getElementsByTagName("*");for(let g of r)(g.style.color==="white"||g.style.color==="#ffffff")&&(g.style.color="black");c(l.body.innerHTML),s.setFieldsValue({blogCard:t.blogCard})}catch(o){console.error("Failed to fetch blog card:",o),m.error("Failed to fetch blog card.")}};e.useEffect(()=>{b()},[s]);const x=o=>{n(o);const f=new DOMParser().parseFromString(o,"text/html"),l=f.getElementsByTagName("*");for(let r of l)(r.style.color==="white"||r.style.color==="#ffffff")&&(r.style.color="black");c(f.body.innerHTML)},F=async o=>{try{p?(await u.put(`/api/blogCard/editCard/${p}`,{blogCard:d}),m.success("Blog card updated successfully!")):(await u.post("/api/blogCard/addCard",{blogCard:d}),m.success("Blog card added successfully!")),s.resetFields(),n(""),c(""),b()}catch(t){console.error("Failed to save blog card:",t),m.error("Failed to save blog card.")}};return a.jsxs(i,{form:s,layout:"vertical",onFinish:F,name:"blog_card_form",children:[a.jsx(i.Item,{name:"blogCard",label:"Blog Card Content",rules:[{required:!0,message:"Please input the blog card content!"}],children:a.jsx(v,{ref:h,value:C||d,config:B,onChange:x})}),a.jsx(i.Item,{children:a.jsx(j,{type:"primary",htmlType:"submit",children:p?"Update Blog Card":"Add Blog Card"})})]})};export{bo as default};
