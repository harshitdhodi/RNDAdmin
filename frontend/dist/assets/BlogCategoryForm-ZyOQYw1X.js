import{r as j,j as e}from"./react-DKICu8bO.js";import{c as w}from"./react-hook-form-BpvdonxZ.js";import{aB as N,aC as v,aD as k}from"./index-Bbo1zcj1.js";import{b as C,a as F}from"./react-router-B9QVkYva.js";import"./classnames-Bv6oJzD9.js";import"./react-dom-BBS6HuAW.js";import"./scheduler-CKyTKYc2.js";import"./react-redux-BrRfTdeB.js";import"./use-sync-external-store-D0ivhzzy.js";import"./@reduxjs-B5J9SSA5.js";import"./redux-DITMfSWq.js";import"./immer-fBqQtvEc.js";import"./redux-thunk-ClJT1hhx.js";import"./reselect-C27TLnWV.js";import"./js-cookie-Cz0CWeBA.js";import"./@radix-ui-BlrBCj0C.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-fXbmorz6.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-C9fmXXva.js";import"./react-style-singleton-DKBZmuKg.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-C10EJNOT.js";import"./use-callback-ref-BoKxM4XI.js";import"./@floating-ui-8J-daYO3.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./lucide-D7hRWJEP.js";import"./axios-DXsv3KKR.js";import"./@syncfusion-BIAkhmGL.js";import"./cookie--_YQFYBD.js";const ie=()=>{const{id:o}=C(),c=F(),[u,{isLoading:g}]=N(),[p,{isLoading:x}]=v(),{data:i,isLoading:y}=k(o,{skip:!o}),{register:t,handleSubmit:b,formState:{errors:r},reset:f,setValue:n}=w();j.useEffect(()=>{i&&Object.keys(i).forEach(s=>{n(s,i[s])})},[i,n]);const h=async s=>{try{const a={...s,priority:s.priority?Number(s.priority):void 0};let l;o?l=await p({id:o,categoryData:a}).unwrap():l=await u(a).unwrap(),f(),c("/blog-category-table",{replace:!0}),console.log(o?"Category updated successfully":"Category added successfully",l)}catch(a){console.error(o?"Failed to update category":"Failed to add category",a)}},d=g||x||y,m=!!o;return e.jsxs("div",{className:"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:m?"Update Category":"Add Category"}),d?e.jsx("div",{className:"text-center text-gray-600",children:"Loading..."}):e.jsxs("form",{onSubmit:b(h),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"category",...t("category",{required:"Category is required",minLength:{value:2,message:"Category must be at least 2 characters"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),r.category&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.category.message})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700",children:["Slug ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"slug",...t("slug",{required:"Slug is required",pattern:{value:/^[a-z0-9-]+$/,message:"Slug must be lowercase, numbers, and hyphens only"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),r.slug&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.slug.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"metatitle",className:"block text-sm font-medium text-gray-700",children:"Meta Title"}),e.jsx("input",{type:"text",id:"metatitle",...t("metatitle"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"metadescription",className:"block text-sm font-medium text-gray-700",children:"Meta Description"}),e.jsx("textarea",{id:"metadescription",...t("metadescription"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"metakeywords",className:"block text-sm font-medium text-gray-700",children:"Meta Keywords"}),e.jsx("input",{type:"text",id:"metakeywords",...t("metakeywords"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700",children:"URL"}),e.jsx("input",{type:"url",id:"url",...t("url",{pattern:{value:/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,message:"Invalid URL format"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),r.url&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.url.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"Priority"}),e.jsx("input",{type:"number",id:"priority",...t("priority",{min:{value:0,message:"Priority must be a non-negative number"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),r.priority&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.priority.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"otherMeta",className:"block text-sm font-medium text-gray-700",children:"Other Meta"}),e.jsx("textarea",{id:"otherMeta",...t("otherMeta"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:d,className:`w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 \r
              disabled:opacity-50 disabled:cursor-not-allowed`,children:d?"Processing...":m?"Update Category":"Add Category"})})]})]})};export{ie as default};
