import{B as r,F as e,I as i,c as t,T as s}from"./antd-UGvrC4Tl.js";import{r as o,j as a}from"./react-BfBsRgn0.js";import{aF as m,aG as c}from"./index-cVSOkL6A.js";import{O as n,G as l,H as j}from"./ant-design-icons-DoIDTG1a.js";import{a as p,L as d}from"./react-router-DUJjWq5j.js";import"./@ant-design-DttPmOfw.js";import"./rc-util-CQtTJgfq.js";import"./@babel-BfC2A0EA.js";import"./react-is-BaRe0U6l.js";import"./react-dom-DwrudmHt.js";import"./classnames-C3ovBj6j.js";import"./scheduler-BFk34ZWe.js";import"./@emotion-Czw0TW3x.js";import"./stylis-IVPcsLSI.js";import"./@ctrl-B2IeE8ye.js";import"./rc-motion-Cs3GDHoo.js";import"./@rc-component-BRPzBFoO.js";import"./rc-resize-observer-pLBfxqzk.js";import"./resize-observer-polyfill-CzGuHLZU.js";import"./rc-dialog-BZYed8xW.js";import"./rc-table-Cyp0j0g2.js";import"./rc-virtual-list-DeG6VQAs.js";import"./rc-tree-Ct99pdeQ.js";import"./rc-checkbox-bMXfL26q.js";import"./rc-pagination-CiqGXVR2.js";import"./rc-select-j7aSw-6E.js";import"./rc-overflow-CN2VNozo.js";import"./throttle-debounce-w9OM8Bxz.js";import"./rc-input-ByOKN0-r.js";import"./rc-tooltip-C0SbzfR_.js";import"./rc-notification-D3ebMW8F.js";import"./rc-image-CGWTMT4q.js";import"./rc-textarea-DZAOw23I.js";import"./copy-to-clipboard-Bgp_G7Oq.js";import"./toggle-selection-DUsDmMsR.js";import"./rc-upload-ClZE7meS.js";import"./rc-progress-bbq4uvV3.js";import"./rc-dropdown-DRLVnlhP.js";import"./rc-menu-CY_ke4Oh.js";import"./rc-field-form-C7q369ye.js";import"./scroll-into-view-if-needed-cNB78-hM.js";import"./compute-scroll-into-view-CJmtT4lq.js";import"./rc-picker-B5UDvhgZ.js";import"./rc-tabs-DirvITx8.js";import"./react-redux-DbBiFgqA.js";import"./use-sync-external-store-DdeJV4gQ.js";import"./@reduxjs-UCSEaN3g.js";import"./redux-C5Huw2aR.js";import"./immer-DgfQkf_7.js";import"./redux-thunk-B3S1iNVp.js";import"./reselect-BSOs5pU1.js";import"./js-cookie-BXEMiIsG.js";import"./@radix-ui-BWjeGzol.js";import"./aria-hidden-BHUiN-rI.js";import"./react-remove-scroll-yauc81_r.js";import"./tslib-Bc9CN1Ef.js";import"./react-remove-scroll-bar-BcxDecei.js";import"./react-style-singleton-C1QVuB2c.js";import"./get-nonce-BYiZHLe3.js";import"./use-sidecar-BA4C4RS7.js";import"./use-callback-ref-Cvx1xcTX.js";import"./@floating-ui-BSChQBl3.js";import"./class-variance-authority-DeOWI0hf.js";import"./clsx-BeLtu-UY.js";import"./tailwind-merge-D2VJQb_v.js";import"./lucide-D6BDVLHE.js";import"./axios-BoylL8Pu.js";import"./@syncfusion-CXokIO9o.js";import"./cookie-BUTH-fPQ.js";const{Text:x}=s,u=()=>{const{data:s,error:u,isLoading:h,refetch:g}=m(),[y,{isLoading:f}]=c(),v=p(),[b,w]=o.useState({});if(h)return a.jsx("div",{children:"Loading..."});if(u)return a.jsxs("div",{children:["Error: ",u.message||"An error occurred"]});const k=[{title:"Title",dataIndex:"title",key:"title",width:150,render:r=>a.jsx(x,{strong:!0,children:r})},{title:"Date",dataIndex:"date",key:"date",width:50},{title:"Details",dataIndex:"details",key:"details",render:(e,i)=>a.jsxs("div",{children:[a.jsx("div",{style:{maxHeight:b[i._id]?"none":"5em",overflow:"hidden",position:"relative"},dangerouslySetInnerHTML:{__html:e}}),a.jsx(r,{type:"link",onClick:()=>{return r=i._id,void w((e=>({...e,[r]:!e[r]})));var r},size:"small",children:b[i._id]?"Show Less":"Read More"})]})},{title:"Images",dataIndex:"image",key:"image",width:100,render:r=>r&&r.length>0?r.map(((r,e)=>a.jsx(i,{src:`/api/image/download/${r}`,alt:`Blog Image ${e+1}`,width:50,height:50,style:{objectFit:"cover",borderRadius:"5px"}},e))):a.jsx(x,{type:"secondary",children:"No Image"})},{title:"Actions",key:"actions",width:150,render:(e,i)=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(r,{icon:a.jsx(l,{}),onClick:()=>v(`/edit-blog-form/${i._id}`)}),a.jsx(t,{title:"Are you sure you want to delete this blog?",onConfirm:()=>(async r=>{try{await y(r).unwrap(),g()}catch(e){}})(i._id),okText:"Yes",cancelText:"No",children:a.jsx(r,{danger:!0,icon:a.jsx(j,{})})})]})}];return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between mb-4 p-5",children:[a.jsx("div",{children:a.jsx("h2",{className:"text-2xl font-semibold",children:"Blogs"})}),a.jsx(d,{to:"/blog-form",children:a.jsx(r,{type:"primary",icon:a.jsx(n,{}),children:"Add Blog"})})]}),a.jsx(e,{columns:k,dataSource:s,rowKey:"_id",pagination:{pageSize:5}})]})};export{u as default};
