import{j as e,r as c}from"./react-DKICu8bO.js";import{D as N,i as v,j as w,k as D,I as E,B as o,y as k,z as S,A as I,E as M}from"./index-CDFtkn6X.js";import{T as z,a as A,b as m,c as d,d as B,e as p}from"./table-BxxugdeG.js";import{h as H}from"./lucide-D7hRWJEP.js";import"./classnames-Bv6oJzD9.js";import"./react-dom-BBS6HuAW.js";import"./scheduler-CKyTKYc2.js";import"./react-redux-BrRfTdeB.js";import"./use-sync-external-store-D0ivhzzy.js";import"./@reduxjs-B5J9SSA5.js";import"./redux-DITMfSWq.js";import"./immer-fBqQtvEc.js";import"./redux-thunk-ClJT1hhx.js";import"./reselect-C27TLnWV.js";import"./js-cookie-Cz0CWeBA.js";import"./react-router-B9QVkYva.js";import"./cookie--_YQFYBD.js";import"./@radix-ui-BlrBCj0C.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-fXbmorz6.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-C9fmXXva.js";import"./react-style-singleton-DKBZmuKg.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-C10EJNOT.js";import"./use-callback-ref-BoKxM4XI.js";import"./@floating-ui-8J-daYO3.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./axios-DXsv3KKR.js";import"./@syncfusion-BIAkhmGL.js";function _({open:t,setOpen:r,chemicalName:i,setChemicalName:s,handleSave:l}){return e.jsx(N,{open:t,onOpenChange:r,children:e.jsxs(v,{children:[e.jsx(w,{children:e.jsx(D,{className:"text-purple-600",children:"Manage Chemical Type"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{id:"name",placeholder:"Chemical Type Name",value:i,onChange:n=>s(n.target.value),className:"border-purple-200 focus:border-purple-400"}),!i&&e.jsx("p",{className:"text-red-500 text-sm",children:"Please enter name"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(o,{onClick:l,disabled:!i,className:"bg-green-500 hover:bg-green-600",children:"Save"}),e.jsx(o,{variant:"destructive",onClick:()=>r(!1),children:"Cancel"})]})]})]})})}function F({chemicalTypes:t,handleEdit:r,handleDelete:i}){return e.jsxs(z,{className:"w-1/2 border",children:[e.jsx(A,{children:e.jsxs(m,{className:"bg-gray-100",children:[e.jsx(d,{className:"w-[200px] border-r font-bold  border-gray-300",children:"Action"}),e.jsx(d,{className:"font-bold",children:"Name"})]})}),e.jsx(B,{children:t.map(s=>e.jsxs(m,{className:"p-1",children:[e.jsx(p,{className:"p-2 border-r border-gray-300",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{variant:"outline",className:"bg-green-500 px-2 py-1 hover:bg-green-600 w-20 text-white border-none",size:"sm",onClick:()=>r(s),children:"Edit"}),e.jsx(o,{variant:"outline",className:"bg-red-500 hover:bg-red-600 w-20 text-white border-none",size:"sm",onClick:()=>i(s._id),children:"Delete"})]})}),e.jsx(p,{className:"p-2",children:s.name})]},s.id))})]})}function je(){const[t,r]=c.useState(!1),[i,s]=c.useState(""),[l,n]=c.useState(null),{data:h=[],isLoading:x,error:u}=k(),[j]=S(),[g]=I(),[b]=M(),y=async()=>{try{if(i){const a={name:i};console.log("Saving chemical type:",{id:l,updatedChemicalType:a}),l?await g({id:l,updatedChemicalType:a}).unwrap():await j(a).unwrap(),s(""),n(null),r(!1)}}catch(a){console.error("Failed to save chemical type:",a)}},C=a=>{a&&a._id?(s(a.name),n(a._id),r(!0)):console.error("Invalid chemical type selected:",a)},f=async a=>{try{await b(a).unwrap()}catch(T){console.error("Failed to delete chemical type:",T)}};return x?e.jsx("p",{children:"Loading..."}):u?e.jsx("p",{children:"Error fetching chemical types."}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-purple-600",children:"Chemical Types"}),e.jsxs(o,{onClick:()=>r(!0),className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Add Chemical Type"]})]}),e.jsx(F,{chemicalTypes:h,handleEdit:C,handleDelete:f}),e.jsx(_,{open:t,setOpen:r,chemicalName:i,setChemicalName:s,handleSave:y,editingId:l})]})}export{je as default};
