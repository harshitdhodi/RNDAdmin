import{j as e,b as u}from"./main-BqSaw_sq.js";import{c as r}from"./vendor-DNXw0_ws.js";import{J as h}from"./jodit-react-C7C49WOI.js";import{F as o}from"./index-Cw0H4GsE.js";import{B as E}from"./index-Dx4ajweK.js";import{s as n}from"./index-Nfv-4U3a.js";import"./toArray-CgZcBx3z.js";import"./CheckCircleFilled-B9cYDV8S.js";import"./ExclamationCircleFilled-Dpe_HOR5.js";import"./InfoCircleFilled-Ce7fYp6d.js";const S=()=>{const[t]=o.useForm(),[c,a]=r.useState(""),[d,m]=r.useState(null),v=r.useRef(null),p={uploader:{insertImageAsBase64URI:!0},toolbarAdaptive:!1,toolbarSticky:!1,buttons:["bold","italic","underline","ul","ol","fontsize","paragraph","link","image","video","table","align","undo","redo"]};r.useEffect(()=>{(async()=>{try{const l=(await u.get("/api/events/getEvent")).data[0];m(l._id),a(l.events),t.setFieldsValue({events:l.events})}catch(s){console.error("Failed to fetch event:",s),n.error("Failed to fetch event.")}})()},[t]);const f=async i=>{try{if(!d){n.error("No event ID available");return}await u.put(`/api/events/editEvent/${d}`,{events:c}),n.success("Event updated successfully!"),t.resetFields(),a("")}catch(s){console.error("Failed to update event:",s),n.error("Failed to update event.")}};return e.jsxs(o,{form:t,layout:"vertical",onFinish:f,name:"event_form",children:[e.jsx(o.Item,{name:"events",label:"Event Description",rules:[{required:!0,message:"Please input the event details!"}],children:e.jsx(h,{ref:v,value:c,config:p,onChange:i=>a(i)})}),e.jsx(o.Item,{children:e.jsx(E,{type:"primary",htmlType:"submit",children:"Update Event"})})]})};export{S as default};
