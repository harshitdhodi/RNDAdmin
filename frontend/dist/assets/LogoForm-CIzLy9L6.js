import{r as m,j as o}from"./react-DKICu8bO.js";import{b9 as x,a0 as b}from"./index-CDFtkn6X.js";import"./classnames-Bv6oJzD9.js";import"./react-dom-BBS6HuAW.js";import"./scheduler-CKyTKYc2.js";import"./react-redux-BrRfTdeB.js";import"./use-sync-external-store-D0ivhzzy.js";import"./@reduxjs-B5J9SSA5.js";import"./redux-DITMfSWq.js";import"./immer-fBqQtvEc.js";import"./redux-thunk-ClJT1hhx.js";import"./reselect-C27TLnWV.js";import"./js-cookie-Cz0CWeBA.js";import"./react-router-B9QVkYva.js";import"./cookie--_YQFYBD.js";import"./@radix-ui-BlrBCj0C.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-fXbmorz6.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-C9fmXXva.js";import"./react-style-singleton-DKBZmuKg.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-C10EJNOT.js";import"./use-callback-ref-BoKxM4XI.js";import"./@floating-ui-8J-daYO3.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./lucide-D7hRWJEP.js";import"./axios-DXsv3KKR.js";import"./@syncfusion-BIAkhmGL.js";const X=()=>{const[g,{isLoading:s}]=x(),{data:r,isFetching:u}=b(),[l,n]=m.useState({headerLogo:null,headerLogoName:"",headerLogoAltName:"",favIcon:null,favIconName:"",favIconAltName:""}),[d,p]=m.useState({headerLogo:null,favIcon:null});m.useEffect(()=>{r&&(n(a=>({...a,headerLogoName:r.headerLogoName||"",headerLogoAltName:r.headerLogoAltName||"",favIconName:r.favIconName||"",favIconAltName:r.favIconAltName||""})),p({headerLogo:r.headerLogo?`/api/logo/download/${r.headerLogo}`:null,favIcon:r.favIcon?`/api/logo/download/${r.favIcon}`:null}))},[r]);const f=(a,e)=>{const t=a.target.files[0];t&&(n(i=>({...i,[e]:t})),p(i=>({...i,[e]:URL.createObjectURL(t)})))},c=a=>{const{name:e,value:t}=a.target;n(i=>({...i,[e]:t}))},h=async a=>{a.preventDefault();try{const e=new FormData;Object.keys(l).forEach(t=>{l[t]&&e.append(t,l[t])}),await g(e).unwrap(),alert("Logo updated successfully!")}catch(e){console.error("Failed to update logo:",e),alert("Failed to update logo. Please try again.")}};return o.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-3",children:"Update Company Logo"}),u?o.jsx("p",{className:"text-gray-500",children:"Loading logo data..."}):o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[[{label:"Header Logo",name:"headerLogo",previewKey:"headerLogo"},{label:"Favicon",name:"favIcon",previewKey:"favIcon"}].map(({label:a,name:e,previewKey:t})=>o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:a}),o.jsx("input",{type:"file",name:e,accept:"image/*",onChange:i=>f(i,e),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:border file:border-gray-300 file:text-gray-700 file:bg-white hover:file:bg-gray-100"}),d[t]&&o.jsxs("div",{className:"mt-4 p-4 bg-white border border-gray-200 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),o.jsx("img",{src:d[t],alt:a,className:"h-20 object-contain"})]}),o.jsx("input",{type:"text",name:`${e}Name`,value:l[`${e}Name`],onChange:c,placeholder:`${a} Name`,className:"w-full px-4 py-2 mt-2 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200"}),o.jsx("input",{type:"text",name:`${e}AltName`,value:l[`${e}AltName`],onChange:c,placeholder:`${a} Alt Name`,className:"w-full px-4 py-2 mt-2 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200"})]},e)),o.jsx("button",{type:"submit",disabled:s,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md transition duration-300",children:s?"Updating...":"Update Logo"})]})]})};export{X as default};
