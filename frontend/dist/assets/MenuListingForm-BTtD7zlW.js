import{d as e,C as r,f as s,a as i,B as t}from"./antd-UGvrC4Tl.js";import{r as o,j as a}from"./react-BfBsRgn0.js";import{be as m,bf as l,bg as n,bh as p}from"./index-cVSOkL6A.js";import{S as c,O as d}from"./ant-design-icons-DoIDTG1a.js";import{b as j,a as h}from"./react-router-DUJjWq5j.js";import"./@ant-design-DttPmOfw.js";import"./rc-util-CQtTJgfq.js";import"./@babel-BfC2A0EA.js";import"./react-is-BaRe0U6l.js";import"./react-dom-DwrudmHt.js";import"./classnames-C3ovBj6j.js";import"./scheduler-BFk34ZWe.js";import"./@emotion-Czw0TW3x.js";import"./stylis-IVPcsLSI.js";import"./@ctrl-B2IeE8ye.js";import"./rc-motion-Cs3GDHoo.js";import"./@rc-component-BRPzBFoO.js";import"./rc-resize-observer-pLBfxqzk.js";import"./resize-observer-polyfill-CzGuHLZU.js";import"./rc-dialog-BZYed8xW.js";import"./rc-table-Cyp0j0g2.js";import"./rc-virtual-list-DeG6VQAs.js";import"./rc-tree-Ct99pdeQ.js";import"./rc-checkbox-bMXfL26q.js";import"./rc-pagination-CiqGXVR2.js";import"./rc-select-j7aSw-6E.js";import"./rc-overflow-CN2VNozo.js";import"./throttle-debounce-w9OM8Bxz.js";import"./rc-input-ByOKN0-r.js";import"./rc-tooltip-C0SbzfR_.js";import"./rc-notification-D3ebMW8F.js";import"./rc-image-CGWTMT4q.js";import"./rc-textarea-DZAOw23I.js";import"./copy-to-clipboard-Bgp_G7Oq.js";import"./toggle-selection-DUsDmMsR.js";import"./rc-upload-ClZE7meS.js";import"./rc-progress-bbq4uvV3.js";import"./rc-dropdown-DRLVnlhP.js";import"./rc-menu-CY_ke4Oh.js";import"./rc-field-form-C7q369ye.js";import"./scroll-into-view-if-needed-cNB78-hM.js";import"./compute-scroll-into-view-CJmtT4lq.js";import"./rc-picker-B5UDvhgZ.js";import"./rc-tabs-DirvITx8.js";import"./react-redux-DbBiFgqA.js";import"./use-sync-external-store-DdeJV4gQ.js";import"./@reduxjs-UCSEaN3g.js";import"./redux-C5Huw2aR.js";import"./immer-DgfQkf_7.js";import"./redux-thunk-B3S1iNVp.js";import"./reselect-BSOs5pU1.js";import"./js-cookie-BXEMiIsG.js";import"./@radix-ui-BWjeGzol.js";import"./aria-hidden-BHUiN-rI.js";import"./react-remove-scroll-yauc81_r.js";import"./tslib-Bc9CN1Ef.js";import"./react-remove-scroll-bar-BcxDecei.js";import"./react-style-singleton-C1QVuB2c.js";import"./get-nonce-BYiZHLe3.js";import"./use-sidecar-BA4C4RS7.js";import"./use-callback-ref-Cvx1xcTX.js";import"./@floating-ui-BSChQBl3.js";import"./class-variance-authority-DeOWI0hf.js";import"./clsx-BeLtu-UY.js";import"./tailwind-merge-D2VJQb_v.js";import"./lucide-D6BDVLHE.js";import"./axios-BoylL8Pu.js";import"./@syncfusion-CXokIO9o.js";import"./cookie-BUTH-fPQ.js";const u=()=>{const{id:u}=j(),x=h(),[b]=e.useForm(),{data:g,isLoading:f}=m(u,{skip:!u}),{refetch:y}=l(),[C]=n(),[k]=p();o.useEffect((()=>{g&&b.setFieldsValue(g.data)}),[g,b]);return f?a.jsx("p",{children:"Loading..."}):a.jsx(r,{title:u?"Update Menu Listing":"Create Menu Listing",bordered:!1,children:a.jsxs(e,{form:b,layout:"vertical",onFinish:async e=>{u?await k({id:u,...e}):await C(e),await y(),x("/menu-listing-table")},initialValues:{children:[]},children:[a.jsxs(r,{title:"Parent Menu",bordered:!0,style:{marginBottom:"20px"},children:[a.jsx(e.Item,{name:["parent","name"],label:"Name",rules:[{required:!0,message:"Please enter parent menu name"}],children:a.jsx(s,{placeholder:"Enter parent menu name"})}),a.jsx(e.Item,{name:["parent","path"],label:"Path",rules:[{required:!0,message:"Please enter parent menu path"}],children:a.jsx(s,{placeholder:"Enter parent menu path"})})]}),a.jsx(e.List,{name:"children",children:(o,{add:m,remove:l})=>a.jsxs(r,{title:"Children Menus",bordered:!0,children:[o.map((({key:o,name:m,...n})=>a.jsxs(r,{bordered:!0,style:{marginBottom:"15px"},children:[a.jsxs(i,{align:"baseline",children:[a.jsx(e.Item,{...n,name:[m,"name"],label:"Child Name",rules:[{required:!0,message:"Enter child name"}],children:a.jsx(s,{placeholder:"Enter child name"})}),a.jsx(e.Item,{...n,name:[m,"path"],label:"Child Path",rules:[{required:!0,message:"Enter child path"}],children:a.jsx(s,{placeholder:"Enter child path"})}),a.jsx(c,{onClick:()=>l(m)})]}),a.jsx(e.List,{name:[m,"subChildren"],children:(o,{add:m,remove:l})=>a.jsxs(r,{title:"Sub-Children",bordered:!0,children:[o.map((({key:r,name:t,...o})=>a.jsxs(i,{align:"baseline",children:[a.jsx(e.Item,{...o,name:[t,"name"],label:"Sub-Child Name",rules:[{required:!0,message:"Enter sub-child name"}],children:a.jsx(s,{placeholder:"Enter sub-child name"})}),a.jsx(e.Item,{...o,name:[t,"path"],label:"Sub-Child Path",rules:[{required:!0,message:"Enter sub-child path"}],children:a.jsx(s,{placeholder:"Enter sub-child path"})}),a.jsx(c,{onClick:()=>l(t)})]},r))),a.jsx(t,{type:"dashed",onClick:()=>m(),block:!0,icon:a.jsx(d,{}),children:"Add Sub-Child"})]})})]},o))),a.jsx(t,{type:"dashed",onClick:()=>m(),block:!0,icon:a.jsx(d,{}),children:"Add Child"})]})}),a.jsx(t,{type:"primary",htmlType:"submit",style:{marginTop:"20px"},children:u?"Update":"Create"})]})})};export{u as default};
