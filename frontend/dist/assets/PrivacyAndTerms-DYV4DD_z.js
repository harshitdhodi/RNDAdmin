import{d as r,e as t,B as i,s}from"./antd-UGvrC4Tl.js";import{r as o,j as e}from"./react-BfBsRgn0.js";import{J as a}from"./jodit-react-fql43Xjk.js";import{a as c}from"./axios-BoylL8Pu.js";import{a as p,L as m}from"./react-router-DUJjWq5j.js";import"./@ant-design-DttPmOfw.js";import"./rc-util-CQtTJgfq.js";import"./@babel-BfC2A0EA.js";import"./react-is-BaRe0U6l.js";import"./react-dom-DwrudmHt.js";import"./classnames-C3ovBj6j.js";import"./scheduler-BFk34ZWe.js";import"./@emotion-Czw0TW3x.js";import"./stylis-IVPcsLSI.js";import"./@ctrl-B2IeE8ye.js";import"./rc-motion-Cs3GDHoo.js";import"./@rc-component-BRPzBFoO.js";import"./rc-resize-observer-pLBfxqzk.js";import"./resize-observer-polyfill-CzGuHLZU.js";import"./ant-design-icons-DoIDTG1a.js";import"./rc-dialog-BZYed8xW.js";import"./rc-table-Cyp0j0g2.js";import"./rc-virtual-list-DeG6VQAs.js";import"./rc-tree-Ct99pdeQ.js";import"./rc-checkbox-bMXfL26q.js";import"./rc-pagination-CiqGXVR2.js";import"./rc-select-j7aSw-6E.js";import"./rc-overflow-CN2VNozo.js";import"./throttle-debounce-w9OM8Bxz.js";import"./rc-input-ByOKN0-r.js";import"./rc-tooltip-C0SbzfR_.js";import"./rc-notification-D3ebMW8F.js";import"./rc-image-CGWTMT4q.js";import"./rc-textarea-DZAOw23I.js";import"./copy-to-clipboard-Bgp_G7Oq.js";import"./toggle-selection-DUsDmMsR.js";import"./rc-upload-ClZE7meS.js";import"./rc-progress-bbq4uvV3.js";import"./rc-dropdown-DRLVnlhP.js";import"./rc-menu-CY_ke4Oh.js";import"./rc-field-form-C7q369ye.js";import"./scroll-into-view-if-needed-cNB78-hM.js";import"./compute-scroll-into-view-CJmtT4lq.js";import"./rc-picker-B5UDvhgZ.js";import"./rc-tabs-DirvITx8.js";import"./cookie-BUTH-fPQ.js";const l=()=>{const l=p(),[j]=r.useForm(),[n,d]=o.useState(""),[y,u]=o.useState(!0),[v,h]=o.useState(!1),[f,g]=o.useState(null);o.useEffect((()=>{(async()=>{try{const r=await c.get("/api/privacy");if(r.data.length>0){const t=r.data[0];d(t.privacyPolicy),g(t._id),j.setFieldsValue({privacyPolicy:t.privacyPolicy}),h(!0)}}catch(r){s.error("Failed to fetch privacy data")}finally{u(!1)}})()}),[j]);return y?e.jsx("p",{children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsxs(t,{style:{marginBottom:"16px"},children:[e.jsx(t.Item,{children:e.jsx(m,{to:"/dashboard",children:"Dashboard"})}),e.jsx(t.Item,{children:"Privacy Form"})]}),e.jsxs(r,{form:j,layout:"vertical",onFinish:async()=>{try{v?(await c.put(`/api/privacy/${f}`,{privacyPolicy:n}),s.success("Privacy data updated successfully")):(await c.post("/api/privacy/add",{privacyPolicy:n}),s.success("Privacy data created successfully")),l("/privacypolicy-terms")}catch(r){s.error("Failed to save privacy data")}},children:[e.jsx(r.Item,{name:"privacyPolicy",label:"Privacy Policy",rules:[{required:!0,message:"Please enter the privacy policy"}],children:e.jsx(a,{value:n,onChange:r=>d(r)})}),e.jsx(r.Item,{children:e.jsx(i,{type:"primary",htmlType:"submit",children:"Save"})})]})]})};export{l as default};
