import{r as p,j as e}from"./react-DKICu8bO.js";import{aL as P,aM as T,B as c}from"./index-Bbo1zcj1.js";import{T as y,a as I,b as j,c as t,d as B,e as r}from"./table-nX7BFFdz.js";import{S as L,a as E,b as M,c as k,d as D}from"./select-CnTZk46j.js";import{S as m}from"./sweetalert2-CIewtpap.js";import{j as q,k as z,l as F}from"./lucide-D7hRWJEP.js";import"./classnames-Bv6oJzD9.js";import"./react-dom-BBS6HuAW.js";import"./scheduler-CKyTKYc2.js";import"./react-redux-BrRfTdeB.js";import"./use-sync-external-store-D0ivhzzy.js";import"./@reduxjs-B5J9SSA5.js";import"./redux-DITMfSWq.js";import"./immer-fBqQtvEc.js";import"./redux-thunk-ClJT1hhx.js";import"./reselect-C27TLnWV.js";import"./js-cookie-Cz0CWeBA.js";import"./react-router-B9QVkYva.js";import"./cookie--_YQFYBD.js";import"./@radix-ui-BlrBCj0C.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-fXbmorz6.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-C9fmXXva.js";import"./react-style-singleton-DKBZmuKg.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-C10EJNOT.js";import"./use-callback-ref-BoKxM4XI.js";import"./@floating-ui-8J-daYO3.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./axios-DXsv3KKR.js";import"./@syncfusion-BIAkhmGL.js";function Ne(){const[i,d]=p.useState(1),[n,f]=p.useState(10),{data:o,isLoading:g,isError:N}=P(),[b]=T(),a=(o==null?void 0:o.inquiries)||[],w=async s=>{if((await m.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await b(s).unwrap(),m.fire("Deleted!","The inquiry has been deleted.","success")}catch(S){console.error("Failed to delete inquiry:",S),m.fire("Error!","Failed to delete the inquiry.","error")}},v=s=>{f(Number(s)),d(1)},x=s=>{d(s)},l=i*n,h=l-n,C=a.slice(h,l),u=Math.ceil(a.length/n);return g?e.jsx("div",{children:"Loading..."}):N?e.jsx("div",{children:"Error loading inquiries"}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-5",children:"Contact List"}),e.jsxs("div",{className:"flex justify-between px-5 bg-gray-100 p-2 rounded-md items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"Show"}),e.jsxs(L,{onValueChange:v,defaultValue:"10",children:[e.jsx(E,{className:"w-[70px]",children:e.jsx(M,{placeholder:"10"})}),e.jsx(k,{children:[10,20,30,40,50].map(s=>e.jsx(D,{value:s.toString(),children:s},s))})]}),e.jsx("span",{children:"entries"})]}),e.jsxs("div",{children:["Showing ",h+1," to ",Math.min(l,a.length)," of ",a.length," entries"]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(y,{children:[e.jsx(I,{className:"bg-gray-100",children:e.jsxs(j,{children:[e.jsx(t,{className:"text-md font-medium  ",children:"Name"}),e.jsx(t,{className:"text-md font-medium",children:"Email"}),e.jsx(t,{className:"text-md font-medium",children:"Phone"}),e.jsx(t,{className:"text-md font-medium",children:"Subject"}),e.jsx(t,{className:"text-md font-medium",children:"Message"}),e.jsx(t,{className:"text-md font-medium",children:"Product Name"}),e.jsx(t,{className:"text-md font-medium text-right",children:"Action"})]})}),e.jsx(B,{children:C.map(s=>e.jsxs(j,{children:[e.jsx(r,{children:s.name}),e.jsx(r,{children:s.email}),e.jsx(r,{children:s.phone}),e.jsx(r,{children:s.subject}),e.jsx(r,{className:"max-w-xs truncate",children:s.message}),e.jsx(r,{children:s.productName}),e.jsx(r,{className:"text-center",children:e.jsxs(c,{variant:"ghost",size:"icon",onClick:()=>w(s._id),children:[e.jsx(q,{className:"h-4 w-4 text-red-500 font-bold"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})})]},s._id))})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:["Showing page ",i," of ",u]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>x(i-1),disabled:i===1,children:[e.jsx(z,{className:"h-4 w-4"}),"Previous"]}),e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>x(i+1),disabled:i===u,children:["Next",e.jsx(F,{className:"h-4 w-4"})]})]})]})]})}export{Ne as ProductInquiryTable};
