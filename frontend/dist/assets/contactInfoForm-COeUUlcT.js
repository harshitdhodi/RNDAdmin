import{r as x,j as t}from"./react-DKICu8bO.js";import{ba as y}from"./index-Bbo1zcj1.js";import{X as c}from"./lucide-D7hRWJEP.js";import"./classnames-Bv6oJzD9.js";import"./react-dom-BBS6HuAW.js";import"./scheduler-CKyTKYc2.js";import"./react-redux-BrRfTdeB.js";import"./use-sync-external-store-D0ivhzzy.js";import"./@reduxjs-B5J9SSA5.js";import"./redux-DITMfSWq.js";import"./immer-fBqQtvEc.js";import"./redux-thunk-ClJT1hhx.js";import"./reselect-C27TLnWV.js";import"./js-cookie-Cz0CWeBA.js";import"./react-router-B9QVkYva.js";import"./cookie--_YQFYBD.js";import"./@radix-ui-BlrBCj0C.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-fXbmorz6.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-C9fmXXva.js";import"./react-style-singleton-DKBZmuKg.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-C10EJNOT.js";import"./use-callback-ref-BoKxM4XI.js";import"./@floating-ui-8J-daYO3.js";import"./class-variance-authority-Dp3B9jqt.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-D696Ktp4.js";import"./axios-DXsv3KKR.js";import"./@syncfusion-BIAkhmGL.js";const Z=()=>{const[l,o]=x.useState({photo:[],imgTitle:[""],altName:[""],address:"",mobiles:[""],emails:[""]}),[b,p]=x.useState([""]),[h,d]=x.useState([]),[N]=y(),j=(a,e)=>{const s=a.target.files[0];if(s){const i=[...b];i[e]=s.name,p(i);const r=[...h];r[e]=s,d(r)}},g=async a=>{a.preventDefault();try{const e=new FormData;h.forEach((s,i)=>{s&&e.append("photo",s)}),e.append("imgTitle",JSON.stringify(l.imgTitle.filter(s=>s))),e.append("altName",JSON.stringify(l.altName.filter(s=>s))),e.append("address",l.address),e.append("mobiles",JSON.stringify(l.mobiles.filter(s=>s))),e.append("emails",JSON.stringify(l.emails.filter(s=>s))),await N(e).unwrap(),o({photo:[],imgTitle:[""],altName:[""],address:"",mobiles:[""],emails:[""]}),p([""]),d([])}catch(e){console.error("Failed to add user:",e)}},u=(a,e,s)=>{o(i=>({...i,[a]:i[a].map((r,f)=>f===e?s:r)}))},m=a=>{o(e=>({...e,[a]:[...e[a],""]})),a==="photo"&&(p(e=>[...e,""]),d(e=>[...e,null]))},n=(a,e)=>{o(s=>({...s,[a]:s[a].filter((i,r)=>r!==e)})),a==="photo"&&(p(s=>s.filter((i,r)=>r!==e)),d(s=>s.filter((i,r)=>r!==e)))};return t.jsx("div",{className:"max-w-2xl mx-auto p-6",children:t.jsxs("form",{onSubmit:g,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium",children:"Photos"}),b.map((a,e)=>t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx("input",{type:"file",onChange:s=>j(s,e),accept:"image/jpeg,image/png,image/gif,image/webp",className:"flex-1 p-2 border rounded",required:!0}),a&&t.jsx("span",{className:"text-sm text-gray-500",children:a}),e>0&&t.jsx("button",{type:"button",onClick:()=>n("photo",e),className:"p-2 text-red-500",children:t.jsx(c,{size:20})})]},e)),t.jsx("button",{type:"button",onClick:()=>m("photo"),className:"text-sm text-blue-500",children:"+ Add another photo"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium",children:"Image Titles"}),l.imgTitle.map((a,e)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:a,onChange:s=>u("imgTitle",e,s.target.value),placeholder:"Enter image title",className:"flex-1 p-2 border rounded",required:!0}),e>0&&t.jsx("button",{type:"button",onClick:()=>n("imgTitle",e),className:"p-2 text-red-500",children:t.jsx(c,{size:20})})]},e)),t.jsx("button",{type:"button",onClick:()=>m("imgTitle"),className:"text-sm text-blue-500",children:"+ Add another title"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium",children:"Alternative Names"}),l.altName.map((a,e)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:a,onChange:s=>u("altName",e,s.target.value),placeholder:"Enter alternative name",className:"flex-1 p-2 border rounded",required:!0}),e>0&&t.jsx("button",{type:"button",onClick:()=>n("altName",e),className:"p-2 text-red-500",children:t.jsx(c,{size:20})})]},e)),t.jsx("button",{type:"button",onClick:()=>m("altName"),className:"text-sm text-blue-500",children:"+ Add another name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Address"}),t.jsx("input",{type:"text",value:l.address,onChange:a=>o(e=>({...e,address:a.target.value})),placeholder:"Enter address",className:"w-full p-2 border rounded",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium",children:"Mobile Numbers"}),l.mobiles.map((a,e)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"tel",value:a,onChange:s=>u("mobiles",e,s.target.value),placeholder:"Enter mobile number",className:"flex-1 p-2 border rounded",required:!0}),e>0&&t.jsx("button",{type:"button",onClick:()=>n("mobiles",e),className:"p-2 text-red-500",children:t.jsx(c,{size:20})})]},e)),t.jsx("button",{type:"button",onClick:()=>m("mobiles"),className:"text-sm text-blue-500",children:"+ Add another mobile"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium",children:"Email Addresses"}),l.emails.map((a,e)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"email",value:a,onChange:s=>u("emails",e,s.target.value),placeholder:"Enter email address",className:"flex-1 p-2 border rounded",required:!0,pattern:"^\\S+@\\S+\\.\\S+$"}),e>0&&t.jsx("button",{type:"button",onClick:()=>n("emails",e),className:"p-2 text-red-500",children:t.jsx(c,{size:20})})]},e)),t.jsx("button",{type:"button",onClick:()=>m("emails"),className:"text-sm text-blue-500",children:"+ Add another email"})]}),t.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600",children:"Submit"})]})})};export{Z as default};
