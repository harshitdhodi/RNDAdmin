import{R as t,a as e}from"./react-BfBsRgn0.js";import{w as n}from"./use-sync-external-store-DdeJV4gQ.js";var r="default"in t?e:t,o=Symbol.for("react-redux-context"),i="undefined"!=typeof globalThis?globalThis:{};function u(){if(!r.createContext)return{};const t=i[o]??(i[o]=new Map);let e=t.get(r.createContext);return e||(e=r.createContext(null),t.set(r.createContext,e)),e}var c=u();function s(t=c){return function(){return r.useContext(t)}}var a=s(),l=()=>{throw new Error("uSES not initialized!")},f=(t,e)=>t===e;function b(t=c){const e=t===c?a:s(t),n=(t,n={})=>{const{equalityFn:o=f,devModeChecks:i={}}="function"==typeof n?{equalityFn:n}:n,{store:u,subscription:c,getServerState:s,stabilityCheck:a,identityFunctionCheck:b}=e();r.useRef(!0);const d=r.useCallback({[t.name]:e=>t(e)}[t.name],[t,a,i.stabilityCheck]),y=l(c.addNestedSub,u.getState,s||u.getState,d,o);return r.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var d=b();function y(t){t()}var p={notify(){},get:()=>[]};function v(t,e){let n,r=p,o=0,i=!1;function u(){a.onStateChange&&a.onStateChange()}function c(){o++,n||(n=t.subscribe(u),r=function(){let t=null,e=null;return{clear(){t=null,e=null},notify(){y((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){const e=[];let n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(n){let r=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}function s(){o--,n&&0===o&&(n(),n=void 0,r.clear(),r=p)}const a={addNestedSub:function(t){c();const e=r.subscribe(t);let n=!1;return()=>{n||(n=!0,e(),s())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:u,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,c())},tryUnsubscribe:function(){i&&(i=!1,s())},getListeners:()=>r};return a}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),S="undefined"!=typeof navigator&&"ReactNative"===navigator.product,g=h||S?r.useLayoutEffect:r.useEffect;function x(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function C(t,e){if(x(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(e,n[o])||!x(t[n[o]],e[n[o]]))return!1;return!0}var w=function({store:t,context:e,children:n,serverState:o,stabilityCheck:i="once",identityFunctionCheck:u="once"}){const s=r.useMemo((()=>{const e=v(t);return{store:t,subscription:e,getServerState:o?()=>o:void 0,stabilityCheck:i,identityFunctionCheck:u}}),[t,o,i,u]),a=r.useMemo((()=>t.getState()),[t]);g((()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[s,a]);const l=e||c;return r.createElement(l.Provider,{value:s},n)};function k(t=c){const e=t===c?a:s(t),n=()=>{const{store:t}=e();return t};return Object.assign(n,{withTypes:()=>n}),n}var m=k();function j(t=c){const e=t===c?m:k(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var E,O=j(),N=y;E=n.useSyncExternalStoreWithSelector,l=E;export{w as P,d as a,N as b,m as c,C as s,O as u};
